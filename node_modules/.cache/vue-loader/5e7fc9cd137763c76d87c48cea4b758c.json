{"remainingRequest":"D:\\VNT_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\VNT_vue\\src\\components\\msdatepicker\\Datepicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\VNT_vue\\src\\components\\msdatepicker\\Datepicker.vue","mtime":1653205086354},{"path":"D:\\VNT_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VNT_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VNT_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VNT_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICogSMOgbSB0w6FjaCBt4bqjbmcNCiAqLw0KY29uc3Qgc2xpY2UgPSAoYXJyYXksIHN0YXJ0LCBlbmQpID0+IHsNCiAgbGV0IGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoOw0KDQogIGlmICghbGVuZ3RoKSB7DQogICAgcmV0dXJuIFtdOw0KICB9DQoNCiAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHN0YXJ0Ow0KDQogIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kOw0KDQogIGlmIChzdGFydCA8IDApIHsNCiAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiBsZW5ndGggKyBzdGFydDsNCiAgfQ0KDQogIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDsNCg0KICBpZiAoZW5kIDwgMCkgew0KICAgIGVuZCArPSBsZW5ndGg7DQogIH0NCg0KICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoZW5kIC0gc3RhcnQpID4+PiAwOw0KICBzdGFydCA+Pj49IDA7DQoNCiAgbGV0IGluZGV4ID0gLTE7DQoNCiAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5KGxlbmd0aCk7DQoNCiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHsNCiAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07DQogIH0NCg0KICByZXR1cm4gcmVzdWx0Ow0KfTsNCi8qKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICogSMOgbSB0w6FjaCBt4bqjbmcgdGjDoG5oIG5oaeG7gXUgbeG6o25nIG5o4buPIGPDsyDEkeG7mSBkw6BpIGNobyB0csaw4bubYw0KICogQHBhcmFtIHthcnJheXMsIHNpemV9DQogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogKi8NCmNvbnN0IGNodW5rID0gKGFycmF5LCBzaXplKSA9PiB7DQogIHNpemUgPSBNYXRoLm1heChzaXplLCAwKTsNCg0KICBjb25zdCBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDsNCg0KICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkgew0KICAgIHJldHVybiBbXTsNCiAgfQ0KDQogIGxldCBpbmRleCA9IDA7DQoNCiAgbGV0IHJlc0luZGV4ID0gMDsNCg0KICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkoTWF0aC5jZWlsKGxlbmd0aCAvIHNpemUpKTsNCg0KICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHsNCiAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBzbGljZShhcnJheSwgaW5kZXgsIChpbmRleCArPSBzaXplKSk7DQogIH0NCg0KICByZXR1cm4gcmVzdWx0Ow0KfTsNCmNvbnN0IG1vbnRoTWFwID0gew0KICAwOiAiVGjDoW5nIDEiLA0KICAxOiAiVGjDoW5nIDIiLA0KICAyOiAiVGjDoW5nIDMiLA0KICAzOiAiVGjDoW5nIDQiLA0KICA0OiAiVGjDoW5nIDUiLA0KICA1OiAiVGjDoW5nIDYiLA0KICA2OiAiVGjDoW5nIDciLA0KICA3OiAiVGjDoW5nIDgiLA0KICA4OiAiVGjDoW5nIDkiLA0KICA5OiAiVGjDoW5nIDEwIiwNCiAgMTA6ICJUaMOhbmcgMTEiLA0KICAxMTogIlRow6FuZyAxMiIsDQp9Ow0KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjDQppbXBvcnQgeyBNb2R1bGVDb250ZXh0IH0gZnJvbSAiQC9zdG9yZXMvbW9kdWxlLWNvbnN0IjsNCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkRhdGVwaWNrZXIiLA0KICBwcm9wczogew0KICAgIGhhc1RpbWU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICAgIGNvbG9yU2VsZWN0ZWQ6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIGRlZmF1bHQ6ICIjMDhCRjFFIiwNCiAgICB9LA0KICAgIGJhY2tncm91bmRTZWxlY3RlZDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgZGVmYXVsdDogInJnYmEoNDQsIDE2MCwgMjgsIDAuMikiLA0KICAgIH0sDQogICAgeWVhclNlbGVjdGVkOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiAiI2ZmZiIsDQogICAgfSwNCiAgICB2YWx1ZToge30sDQoNCiAgICBzY3JlZW5YOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICB9LA0KICAgIHNjcmVlblk6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogICAgbWluRGF0ZToge30sDQogICAgbWF4RGF0ZToge30sDQogIH0sDQogIGRhdGEoKSB7DQogICAgbGV0IGR0ZU5vdyA9IG5ldyBEYXRlKCk7DQogICAgcmV0dXJuIHsNCiAgICAgIGhvdXI6IDAsDQogICAgICBtaW46IDAsDQogICAgICBzZWNvbmQ6IDAsDQogICAgICBkYXlNYXA6IHsNCiAgICAgICAgMDogIlQyIiwNCiAgICAgICAgMTogIlQzIiwNCiAgICAgICAgMjogIlQ0IiwNCiAgICAgICAgMzogIlQ1IiwNCiAgICAgICAgNDogIlQ2IiwNCiAgICAgICAgNTogIlQ3IiwNCiAgICAgICAgNjogIkNOIiwNCiAgICAgIH0sDQogICAgICBjdXJyZW50TW9udGg6IGAke2R0ZU5vdy5nZXRNb250aCgpfWAsIC8vIHRow6FuZyDEkWFuZyBoaeG7g24gdGjhu4sgdHLDqm4gcGlja2VyDQogICAgICBjdXJyZW50WWVhcjogYCR7ZHRlTm93LmdldEZ1bGxZZWFyKCl9YCwgLy8gbsSDbSDEkWFuZyBoaeG7g24gdGjhu4sgdHLDqm4gcGlja2VyDQogICAgICBzZWxlY3Rpbmc6ICJkYXRlIiwNCiAgICAgIHNlbGVjdGVkRGF5UmFuZ2U6IFtdLA0KICAgICAgc2VsZWN0ZWREYXlPZldlZWs6ICIiLA0KICAgICAgc2VsZWN0ZWREYXk6IGR0ZU5vdy5nZXREYXRlKCksIC8vIHNlbGVjdGVkOiBuZ8OgeS8gdGjDoW5nLyBuxINtIMSRYW5nIGNo4buNbg0KICAgICAgc2VsZWN0ZWRNb250aDogYCR7ZHRlTm93LmdldE1vbnRoKCl9YCwNCiAgICAgIHNlbGVjdGVkWWVhcjogYCR7ZHRlTm93LmdldEZ1bGxZZWFyKCl9YCwNCiAgICAgIHJhbmdlRGF5TW9kZTogZmFsc2UsIC8vIGNo4bq/IMSR4buZIGtob+G6o25nIHRo4budaSBnaWFuLCBt4bq3YyDEkeG7i25oIGzDoCBraMO0bmcgYuG6rXQNCiAgICAgIGhlaWdodDogIiIsDQogICAgICB3aWR0aDogIiIsDQogICAgfTsNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB2YWx1ZTogew0KICAgICAgaW1tZWRpYXRlOiB0cnVlLA0KICAgICAgaGFuZGxlcihuZXdWYWwsIG9sZFZhbCkgew0KICAgICAgICBjb25zdCBtZSA9IHRoaXM7DQoNCiAgICAgICAgaWYgKG5ld1ZhbCAmJiBuZXdWYWwgaW5zdGFuY2VvZiBEYXRlKSB7DQogICAgICAgICAgbWUuaG91ciA9IG5ld1ZhbC5nZXRIb3VycygpOw0KICAgICAgICAgIG1lLm1pbiA9IG5ld1ZhbC5nZXRNaW51dGVzKCk7DQogICAgICAgICAgbWUuc2Vjb25kID0gbmV3VmFsLmdldFNlY29uZHMoKTsNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2hlY2tNaW5EYXRlKGRheSkgew0KICAgICAgaWYgKHRoaXMubWluRGF0ZSkgew0KICAgICAgICBsZXQgbGVzc1llYXIgPSB0aGlzLmN1cnJlbnRZZWFyIDwgdGhpcy5taW5EYXRlLmdldEZ1bGxZZWFyKCksDQogICAgICAgICAgbGVzc01vbnRoID0NCiAgICAgICAgICAgIHRoaXMuY3VycmVudFllYXIgPT0gdGhpcy5taW5EYXRlLmdldEZ1bGxZZWFyKCkgJiYNCiAgICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoIDwgdGhpcy5taW5EYXRlLmdldE1vbnRoKCksDQogICAgICAgICAgbGVzc0RheSA9DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRZZWFyID09IHRoaXMubWluRGF0ZS5nZXRGdWxsWWVhcigpICYmDQogICAgICAgICAgICB0aGlzLmN1cnJlbnRNb250aCA9PSB0aGlzLm1pbkRhdGUuZ2V0TW9udGgoKSAmJg0KICAgICAgICAgICAgZGF5LmRheSA8IHRoaXMubWluRGF0ZS5nZXREYXRlKCk7DQoNCiAgICAgICAgaWYgKGxlc3NZZWFyIHx8IGxlc3NNb250aCB8fCBsZXNzRGF5KSByZXR1cm4gdHJ1ZTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9LA0KICAgIGNoZWNrTWF4RGF0ZShkYXkpIHsNCiAgICAgIGlmICh0aGlzLm1heERhdGUpIHsNCiAgICAgICAgbGV0IGdyZWF0ZXJZZWFyID0gdGhpcy5jdXJyZW50WWVhciA+IHRoaXMubWF4RGF0ZS5nZXRGdWxsWWVhcigpLA0KICAgICAgICAgIGdyZWF0ZXJNb250aCA9DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRZZWFyID09IHRoaXMubWF4RGF0ZS5nZXRGdWxsWWVhcigpICYmDQogICAgICAgICAgICB0aGlzLmN1cnJlbnRNb250aCA+IHRoaXMubWF4RGF0ZS5nZXRNb250aCgpLA0KICAgICAgICAgIGdyZWF0ZXJEYXkgPQ0KICAgICAgICAgICAgdGhpcy5jdXJyZW50WWVhciA9PSB0aGlzLm1heERhdGUuZ2V0RnVsbFllYXIoKSAmJg0KICAgICAgICAgICAgdGhpcy5jdXJyZW50TW9udGggPT0gdGhpcy5tYXhEYXRlLmdldE1vbnRoKCkgJiYNCiAgICAgICAgICAgIGRheS5kYXkgPiB0aGlzLm1heERhdGUuZ2V0RGF0ZSgpOw0KDQogICAgICAgIGlmIChncmVhdGVyWWVhciB8fCBncmVhdGVyTW9udGggfHwgZ3JlYXRlckRheSkgcmV0dXJuIHRydWU7DQogICAgICB9DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfSwNCiAgICBvbklucHV0SG91cigpIHsNCiAgICAgIC8vIGjDoG0gbsOgeSBraeG7g20gdHJhIGZvY3VzIHNhbmcgaW5wdXQgbWluDQogICAgICBjb25zdCBtZSA9IHRoaXMsDQogICAgICAgIGhvdXIgPSBtZS5ob3VyOw0KICAgICAgaWYgKA0KICAgICAgICAoaG91ci50b1N0cmluZygpLmxlbmd0aCA9PT0gMSAmJiBob3VyID49IDMpIHx8DQogICAgICAgIGhvdXIudG9TdHJpbmcoKS5sZW5ndGggPT09IDINCiAgICAgICkgew0KICAgICAgICBtZS51cGRhdGVUaW1lKGhvdXIsIG51bGwsIG51bGwpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBvbklucHV0TWluKCkgew0KICAgICAgY29uc3QgbWUgPSB0aGlzLA0KICAgICAgICBtaW4gPSBtZS5taW47DQogICAgICBpZiAoDQogICAgICAgIChtaW4udG9TdHJpbmcoKS5sZW5ndGggPT09IDEgJiYgbWluID49IDYpIHx8DQogICAgICAgIG1pbi50b1N0cmluZygpLmxlbmd0aCA9PT0gMg0KICAgICAgKSB7DQogICAgICAgIG1lLnVwZGF0ZVRpbWUobnVsbCwgbWluLCBudWxsKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgb25JbnB1dFNlY29uZCgpIHsNCiAgICAgIGNvbnN0IG1lID0gdGhpcywNCiAgICAgICAgc2Vjb25kID0gbWUuc2Vjb25kOw0KDQogICAgICBpZiAoDQogICAgICAgIChzZWNvbmQudG9TdHJpbmcoKS5sZW5ndGggPT09IDEgJiYgc2Vjb25kID49IDYpIHx8DQogICAgICAgIHNlY29uZC50b1N0cmluZygpLmxlbmd0aCA9PT0gMg0KICAgICAgKSB7DQogICAgICAgIC8vdXBkYXRlIHJhIG5nb2FpDQogICAgICAgIG1lLnVwZGF0ZVRpbWUobnVsbCwgbnVsbCwgc2Vjb25kKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgdXBkYXRlSG91cigpIHsNCiAgICAgIHRoaXMudXBkYXRlVGltZSh0aGlzLmhvdXIsIG51bGwsIG51bGwpOw0KICAgIH0sDQoNCiAgICB1cGRhdGVNaW4oKSB7DQogICAgICB0aGlzLnVwZGF0ZVRpbWUobnVsbCwgdGhpcy5taW4sIG51bGwpOw0KICAgIH0sDQoNCiAgICB1cGRhdGVTZWNvbmQoKSB7DQogICAgICB0aGlzLnVwZGF0ZVRpbWUobnVsbCwgbnVsbCwgdGhpcy5zZWNvbmQpOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiBUaOG7sWMgaGnhu4duIGPhuq1wIG5o4bqtdCBHaeG7nS9QaMO6dC9HacOieQ0KICAgICAqLw0KICAgIHVwZGF0ZVRpbWUoaG91ciwgbWluLCBzZWNvbmQpIHsNCiAgICAgIGNvbnN0IG1lID0gdGhpczsNCg0KICAgICAgbGV0IHZhbHVlRGF0ZVRpbWUgPSBtZS52YWx1ZTsNCiAgICAgIGlmICh2YWx1ZURhdGVUaW1lICYmIHZhbHVlRGF0ZVRpbWUgaW5zdGFuY2VvZiBEYXRlKSB7DQogICAgICAgIGlmIChob3VyKSB7DQogICAgICAgICAgdmFsdWVEYXRlVGltZS5zZXRIb3Vycyhob3VyKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAobWluKSB7DQogICAgICAgICAgdmFsdWVEYXRlVGltZS5zZXRNaW51dGVzKG1pbik7DQogICAgICAgIH0NCiAgICAgICAgaWYgKHNlY29uZCkgew0KICAgICAgICAgIHZhbHVlRGF0ZVRpbWUuc2V0U2Vjb25kcyhzZWNvbmQpOw0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB2YWx1ZURhdGVUaW1lKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgc3R5bGUoKSB7DQogICAgICAvL0NoaWV1IGNhbyBjdWEgY3VhIHNvDQogICAgICBsZXQgaGVpZ2h0ID0NCiAgICAgICAgd2luZG93LmlubmVySGVpZ2h0IHx8DQogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwNCiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7DQogICAgICBsZXQgd2lkdGggPQ0KICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCB8fA0KICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwNCiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsNCiAgICAgIGxldCB0b3AgPSAzNiArICJweCI7DQoNCiAgICAgIC8vdGhpcy5zY3JlZW5ZIGxhZiB2aSB0cmkgY3VhDQogICAgICBpZiAodGhpcy5zY3JlZW5ZICsgdGhpcy5oZWlnaHQgKyAxMDAgPiBoZWlnaHQpIHsNCiAgICAgICAgdG9wID0gLXRoaXMuaGVpZ2h0IC0gMzYgKyAicHgiOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuc2NyZWVuWCAtIHRoaXMud2lkdGggPCAyMDApIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBsZWZ0OiAwICsgInB4IiwNCiAgICAgICAgICB0b3A6IHRvcCwNCiAgICAgICAgfTsNCiAgICAgIH0gZWxzZQ0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIHJpZ2h0OiAwICsgInB4IiwNCiAgICAgICAgICB0b3A6IHRvcCwNCiAgICAgICAgfTsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICogQ2hhbmdlcyB0aGUgZGlzcGxheSB0byB0aGUgY2FsZW5kYXIgb3IgeWVhcnMgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZS4NCiAgICAgKi8NCiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAqIEjDoG0gdHLhuqMgduG7gSB0aMOhbmcgdGnhur9wIHRoZW8gKGhv4bq3YyAxMiBuxINtIHRp4bq/cCB0aGVvKSBraGkgYuG6pW0gbcWpaSB0w6puIHNhbmcgcGjhuqNpIChob+G6t2MgbMOqbiB0csOqbikNCiAgICAgKiBDcmVhdGVkIGJ5OiBudmxhbSAoMjIvMDYvMjAxOSkNCiAgICAgKi8NCiAgICBuZXh0TW9udGgoKSB7DQogICAgICBpZiAodGhpcy5zZWxlY3RpbmcgPT09ICJkYXRlIikgew0KICAgICAgICBpZiAodGhpcy5jdXJyZW50TW9udGggPCAxMSkgew0KICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gdGhpcy5jdXJyZW50TW9udGggKyAxOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gMDsNCiAgICAgICAgICB0aGlzLmN1cnJlbnRZZWFyID0gdGhpcy5jdXJyZW50WWVhciArIDE7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RpbmcgPT09ICJ5ZWFyIikgew0KICAgICAgICB0aGlzLmN1cnJlbnRZZWFyID0gdGhpcy5jdXJyZW50WWVhciArIDEyOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAqIEjDoG0gdHLhuqMgduG7gSB0aMOhbmcgdHLGsOG7m2MgKGhv4bq3YyAxMiBuxINtIHbhu4EgdHLGsOG7m2MpIGtoaSBi4bqlbSBtxalpIHTDqm4gc2FuZyBwaOG6o2kgKGhv4bq3YyB4deG7kW5nIGTGsOG7m2kpDQogICAgICogQ3JlYXRlZCBieTogbnZsYW0gKDIyLzA2LzIwMTkpDQogICAgICovDQogICAgcHJldmlvdXNNb250aCgpIHsNCiAgICAgIGlmICh0aGlzLnNlbGVjdGluZyA9PT0gImRhdGUiKSB7DQogICAgICAgIGlmICh0aGlzLmN1cnJlbnRNb250aCA+IDApIHsNCiAgICAgICAgICB0aGlzLmN1cnJlbnRNb250aCA9IHRoaXMuY3VycmVudE1vbnRoIC0gMTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLmN1cnJlbnRNb250aCA9IDExOw0KICAgICAgICAgIHRoaXMuY3VycmVudFllYXIgPSB0aGlzLmN1cnJlbnRZZWFyIC0gMTsNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGluZyA9PT0gInllYXIiKSB7DQogICAgICAgIHRoaXMuY3VycmVudFllYXIgLT0gMTI7DQogICAgICB9DQogICAgfSwNCg0KICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICogxJDDs25nIGzhu4tjaCBraGkgY8OhYyBuw7p0IEVzYyBoYXkgVGFiIMSRxrDhu6NjIG5o4bqlbg0KICAgICAqIENyZWF0ZWQgYnk6IG52bGFtICgyMi8wNi8yMDE5KQ0KICAgICAqLw0KICAgIHNldEVzY2FwZUV2ZW50KCkgew0KICAgICAgY29uc3QgbWUgPSB0aGlzOw0KICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIG1lLmV2ZW50RXNjYXBlKTsNCiAgICB9LA0KDQogICAgZXZlbnRFc2NhcGUoZXZlbnQpIHsNCiAgICAgIGNvbnN0IG1lID0gdGhpczsNCiAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDI3IHx8IGV2ZW50LmtleSA9PSAiRXNjYXBlIiB8fCBldmVudC5rZXkgPT0gIlRhYiIpIHsNCiAgICAgICAgZXZlbnQuY2FuY2VsID0gdHJ1ZTsNCiAgICAgICAgbWUub25DbG9zZShldmVudCk7DQogICAgICB9DQogICAgfSwNCg0KICAgIHNldEJ5WWVhcih5ZWFyKSB7DQogICAgICB0aGlzLnNlbGVjdGVkRGF5ID0gIiI7DQogICAgICB0aGlzLnNlbGVjdGVkWWVhciA9IHllYXI7DQogICAgICB0aGlzLmN1cnJlbnRZZWFyID0geWVhcjsNCiAgICAgIHRoaXMuc2VsZWN0aW5nID0gImRhdGUiOw0KICAgIH0sDQoNCiAgICBvbkJsdXIoZSkgew0KICAgICAgdGhpcy5vbkhpZGUoZSk7DQogICAgfSwNCg0KICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICogQ2jhu41uIG5nw6B5IGhp4buHbiB04bqhaSBraGkgYuG6pW0gdsOgbyBuw7p0IEjDtG0gbmF5DQogICAgICogQ3JlYXRlZCBieTogbnZsYW0gKDI0LzA2LzIwMTkpDQogICAgICovDQogICAgb25Ob3coKSB7DQogICAgICBjb25zdCBtZSA9IHRoaXMsDQogICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpOyAvL21lLkNvbmZpZ0luZm8uQ3VycmVudERhdGU7DQoNCiAgICAgIG1lLnNlbGVjdGVkRGF5ID0gZGF0ZS5nZXREYXRlKCk7DQogICAgICBtZS5zZWxlY3RlZE1vbnRoID0gZGF0ZS5nZXRNb250aCgpOw0KICAgICAgbWUuY3VycmVudE1vbnRoID0gZGF0ZS5nZXRNb250aCgpOw0KICAgICAgbWUuY3VycmVudFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgICBtZS5zZWxlY3RlZFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgICBtZS5zZWxlY3RlZERheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7DQoNCiAgICAgIGlmIChtZS5oYXNUaW1lKSB7DQogICAgICAgIG1lLmhvdXIgPSBkYXRlLmdldEhvdXJzKCk7DQogICAgICAgIG1lLm1pbiA9IGRhdGUuZ2V0TWludXRlcygpOw0KICAgICAgICBtZS5zZWNvbmQgPSBkYXRlLmdldFNlY29uZHMoKTsNCiAgICAgIH0NCg0KICAgICAgbWUuc2V0QnlEYXkoew0KICAgICAgICBjdXJyZW50RGF5OiB0cnVlLA0KICAgICAgICBkYXk6IG1lLnNlbGVjdGVkRGF5LA0KICAgICAgICAvL05NVHVhbjMgMjIvMTIvMjAyMTogVHJ1eeG7gW4gdGjDqm0gdGjDoW5nIMSRxrDhu6NjIGNo4buNbg0KICAgICAgICBtb250aDogbWUuc2VsZWN0ZWRNb250aCwNCiAgICAgICAgc2VsZWN0ZWQ6IHRydWUsDQogICAgICB9KTsNCg0KICAgICAgLy8gbWUuJGVtaXQoJ2lucHV0JywgbmV3IERhdGUoZGF0ZSkuZ2V0RGF0ZU9ubHkoKSk7DQogICAgICAvLyBtZS5vbkNsb3NlKGV2ZW50KTsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICogRW1pdCBhIGNsb3NlIGV2ZW50IHNvIHRoZSBkZXZlbG9wZXIgY2FuIGNsb3NlIHRoZSBkYXRlIHBpY2tlciBhcyB0aGV5DQogICAgICogc2VlIGZpdC4NCiAgICAgKi8NCiAgICBvbkNsb3NlKGUpIHsNCiAgICAgIC8vIHRoaXMuaGlkZUJvZHlPdmVyZmxvdyhmYWxzZSk7DQogICAgICBjb25zdCBtZSA9IHRoaXM7DQogICAgICB0aGlzLiRlbWl0KCJjbG9zZSIsIGUpOw0KICAgIH0sDQoNCiAgICBvbkhpZGUoZSkgew0KICAgICAgY29uc3QgbWUgPSB0aGlzOw0KICAgICAgdGhpcy4kZW1pdCgiaGlkZSIsIGUpOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiBTZXQgdGhlIGRhdGUgYnkgdGhlIGdpdmVuIGRheS4NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fQ0KICAgICAqLw0KICAgIHNldEJ5RGF5KGRheSkgew0KICAgICAgY29uc3QgbWUgPSB0aGlzOw0KDQogICAgICAvLyBpZiAoZGF5LmRpc2FibGVkKSByZXR1cm47DQogICAgICBpZiAobWUucmFuZ2VEYXlNb2RlID09IGZhbHNlKSB7DQogICAgICAgIC8vIE5NVHVhbjMgMjIvMTIvMjAyMTogQ2FzZSDEkeG7gyBzZXQgbsSDbSDEkcaw4bujYyBjaOG7jW4NCiAgICAgICAgLy8gTk1UVUFOMiAxOS4wNC4yMDIyOiBz4butYSDEkeG7gyBnacOhIHRy4buLIG7Eg20gxJHGsOG7o2MgY2jhu41uIGx1w7RuIHTDrW5oIHRoZW8gbsSDbSDEkWFuZyBoaeG7g24gdGjhu4sNCiAgICAgICAgaWYgKGRheS5tb250aCA9PSAwICYmIG1lLmN1cnJlbnRNb250aCA9PSAxMSkgew0KICAgICAgICAgIG1lLnNlbGVjdGVkWWVhciA9IG1lLmN1cnJlbnRZZWFyICsgMTsNCiAgICAgICAgfSBlbHNlIGlmIChkYXkubW9udGggPT0gMTEgJiYgbWUuY3VycmVudE1vbnRoID09IDApIHsNCiAgICAgICAgICBtZS5zZWxlY3RlZFllYXIgPSBtZS5jdXJyZW50WWVhciAtIDE7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgbWUuc2VsZWN0ZWRZZWFyID0gbWUuY3VycmVudFllYXI7DQogICAgICAgIH0NCiAgICAgICAgbWUuc2VsZWN0ZWREYXkgPSBkYXkuZGF5Ow0KICAgICAgICBtZS5zZWxlY3RlZE1vbnRoID0gZGF5Lm1vbnRoOw0KICAgICAgICBtZS5zZWxlY3RlZERheU9mV2VlayA9IG5ldyBEYXRlKA0KICAgICAgICAgIG1lLnNlbGVjdGVkWWVhciwNCiAgICAgICAgICBtZS5zZWxlY3RlZE1vbnRoLA0KICAgICAgICAgIG1lLnNlbGVjdGVkRGF5DQogICAgICAgICkuZ2V0RGF5KCk7DQogICAgICB9DQoNCiAgICAgIGxldCB2YWx1ZURhdGVUaW1lID0gbmV3IERhdGUoDQogICAgICAgIG1lLnNlbGVjdGVkWWVhciwNCiAgICAgICAgbWUuc2VsZWN0ZWRNb250aCwNCiAgICAgICAgbWUuc2VsZWN0ZWREYXkNCiAgICAgICk7DQoNCiAgICAgIGlmIChtZS5oYXNUaW1lKSB7DQogICAgICAgIHZhbHVlRGF0ZVRpbWUuc2V0SG91cnMobWUuaG91cik7DQogICAgICAgIHZhbHVlRGF0ZVRpbWUuc2V0TWludXRlcyhtZS5taW4pOw0KICAgICAgICB2YWx1ZURhdGVUaW1lLnNldFNlY29uZHMobWUuc2Vjb25kKTsNCiAgICAgIH0NCg0KICAgICAgbWUuJGVtaXQoInNlbGVjdGVkIiwgbmV3IERhdGUodmFsdWVEYXRlVGltZSkpOw0KICAgICAgbWUuJGVtaXQoImlucHV0IiwgbmV3IERhdGUodmFsdWVEYXRlVGltZSkpOw0KDQogICAgICBtZS5vbkNsb3NlKGV2ZW50KTsNCiAgICAgIC8vIHRoaXMub25JbnB1dCgpOw0KICAgIH0sDQogICAgY2xvc2VPdXQoZSkgew0KICAgICAgY29uc3QgbWUgPSB0aGlzOw0KICAgICAgaWYgKA0KICAgICAgICAhZS50YXJnZXQuY2xvc2VzdCgiLmNhbGVuZGFyIikgJiYNCiAgICAgICAgKCFlLnRhcmdldC5jbG9zZXN0KCIubXMtZGF0ZXBpY2tlciIpIHx8DQogICAgICAgICAgZS50YXJnZXQuY2xvc2VzdCgiLm1zLWRhdGVwaWNrZXIiKSAhPSBtZS4kcGFyZW50LiRlbCkNCiAgICAgICkgew0KICAgICAgICBtZS5vbkhpZGUoZSk7DQogICAgICB9DQogICAgfSwNCiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICogQuG6rXQgY2jhur8gxJHhu5kgY2jhu41uIGtob+G6o25nIG5nw6B5DQogICAgICogQ3JlYXRlZCBieTogbnZsYW0oMjYvMDYvMjAxOSkNCiAgICAgKi8NCiAgICBvblJhbmdlRGF5TW9kZSgpIHsNCiAgICAgIHRoaXMucmFuZ2VEYXlNb2RlID0gdHJ1ZTsNCiAgICAgIHJldHVybiB0aGlzLnJhbmdlRGF5TW9kZTsNCiAgICB9LA0KDQogICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAqIFThuq90IGNo4bq/IMSR4buZIGNo4buNbiBraG/huqNuZyBuZ8OgeQ0KICAgICAqIENyZWF0ZWQgYnk6IG52bGFtKDI2LzA2LzIwMTkpDQogICAgICovDQogICAgb2ZmUmFuZ2VEYXlNb2RlKCkgew0KICAgICAgdGhpcy5yYW5nZURheU1vZGUgPSBmYWxzZTsNCiAgICAgIHJldHVybiB0aGlzLnJhbmdlRGF5TW9kZTsNCiAgICB9LA0KDQogICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgKiBIw6BtIHRoYXkgxJHhu5VpIGNo4bq/IMSR4buZIGNo4buNbiBuxINtIGhv4bq3YyBjaOG7jW4gbmfDoHkNCiAgICAgKiBDcmVhdGVkIGJ5OiBudmxhbSgyNC8wNi8yMDE5KQ0KICAgICAqLw0KICAgIHNldFNlbGVjdGluZyh2YWx1ZSkgew0KICAgICAgdGhpcy5zZWxlY3RpbmcgPSB2YWx1ZTsNCiAgICAgIHRoaXMuY3VycmVudFllYXIgPSB0aGlzLnNlbGVjdGVkWWVhcjsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICogTOG6pXkgbmfDoHkgY2hvIGRhdGVwaWNrZXIga2hpIG5o4bqtcCB04burIMO0IGlucHV0Lg0KICAgICAqLw0KICAgIHNldERhdGUoKSB7DQogICAgICAvLyBO4bq/dSBuZ8OgeSDEkcaw4bujYyB0cnV54buBbiB04bubaSBjb21wb25lbnQgZGF0ZXBpY2tlciwgbsOzIHPhur0gxJHGsOG7o2MgZMO5bmcNCiAgICAgIC8vIHRoYXkgY2hvIG5nw6B5IGhp4buHbiB04bqhaS4NCiAgICAgIGxldCBkYXRlOw0KDQogICAgICBpZiAodGhpcy5taW4gJiYgdGhpcy5taW4gJiYgIXRoaXMudmFsdWUpIHsNCiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKCk7DQogICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUgJiYgdGhpcy52YWx1ZSkgew0KICAgICAgICBkYXRlID0gbmV3IERhdGUodGhpcy52YWx1ZSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBkYXRlID0gbmV3IERhdGUoKTsNCiAgICAgIH0NCiAgICAgIC8vIGlmICh0aGlzLmluaXRpYWxEYXRlKSB7DQogICAgICAvLyAgICAgdGhpcy5zZWxlY3RlZERheSA9IGRhdGUuZ2V0RGF0ZSgpOw0KICAgICAgLy8gfSBlbHNlIHsNCiAgICAgIC8vICAgICB0aGlzLnNlbGVjdGVkRGF5ID0gZGF0ZS5nZXREYXRlKCk7DQogICAgICAvLyB9DQogICAgICB0aGlzLnNlbGVjdGVkRGF5ID0gZGF0ZS5nZXREYXRlKCk7DQogICAgICB0aGlzLnNlbGVjdGVkRGF5T2ZXZWVrID0gZGF0ZS5nZXREYXkoKTsNCiAgICAgIHRoaXMuc2VsZWN0ZWRNb250aCA9IGRhdGUuZ2V0TW9udGgoKTsNCiAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gZGF0ZS5nZXRNb250aCgpOw0KICAgICAgdGhpcy5zZWxlY3RlZFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgICB0aGlzLmN1cnJlbnRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpOw0KICAgIH0sDQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKE1vZHVsZUNvbnRleHQsIFsiQ29uZmlnSW5mbyJdKSwNCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAqIEjDoG0gdHLhuqMgduG7gSBt4buZdCBt4bqjbmcgZ+G7k20gbmfDoHkgY+G7p2EgdHXhuqduIMSR4bqndSB0acOqbiB0cm9uZyB0aMOhbmcgY+G7p2EgbsSDbQ0KICAgICAqIFZEOiBO4bq/dSBuZ8OgeSAxIHRyb25nIHRow6FuZyBi4bqvdCDEkeG6p3UgdOG7qyB0aOG7qSA2DQogICAgICogdGjDrCBt4bqjbmcgc+G6vSBsw6AgWycnLCAnJywgJycsICcnLCAnJywgJzEnLCAnMiddDQogICAgICogQ3JlYXRlZCBieTogbnZsYW0gKDIyLzA2LzIwMTkpDQogICAgICovDQogICAgY2FsZW5kYXIoKSB7DQogICAgICBjb25zdCBkYXlzID0gW107DQogICAgICAvL0zhuqV5IHJhIHRo4bupIGPhu6dhIG5nw6B5IMSR4bqndSB0acOqbiB0cm9uZyB0aMOhbmcNCiAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSh0aGlzLnNlbGVjdGVkWWVhciwgdGhpcy5jdXJyZW50TW9udGgsIDEpOw0KICAgICAgY29uc3Qgc3RhcnREYXlPZk1vbnRoID0gbm93LmdldERheSgpOw0KICAgICAgbGV0IHN0YXJ0RGF5ID0gc3RhcnREYXlPZk1vbnRoOw0KICAgICAgaWYgKHN0YXJ0RGF5T2ZNb250aCAhPSAwKSB7DQogICAgICAgIGxldCBwcmUgPSBub3cuYWRkRGF5cygtMSkuZ2V0RGF0ZSgpOw0KICAgICAgICBmb3IgKGxldCBpID0gc3RhcnREYXkgLSAyOyBpID49IDA7IGktLSkgew0KICAgICAgICAgIGRheXMucHVzaChwcmUgLSBpKTsNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IHByZSA9IG5vdy5hZGREYXlzKC0xKS5nZXREYXRlKCk7DQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7DQogICAgICAgICAgZGF5cy51bnNoaWZ0KHByZS0tKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLy9U4bqhbyBt4bqjbmcgZ+G7k20gY8OhYyBuZ8OgeSBjw7JuIGzhuqFpIHRyb25nIHRow6FuZw0KICAgICAgY29uc3QgZGF5c0luTW9udGggPQ0KICAgICAgICAzMiAtIG5ldyBEYXRlKHRoaXMuc2VsZWN0ZWRZZWFyLCB0aGlzLmN1cnJlbnRNb250aCwgMzIpLmdldERhdGUoKTsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF5c0luTW9udGg7IGkrKykgew0KICAgICAgICBkYXlzLnB1c2goaSArIDEpOw0KICAgICAgfQ0KDQogICAgICAvLyBNYXAgdGhlIGRheXMgZnJvbSBudW1iZXJzIHRvIG9iamVjdHMgdGhhdCBoYXZlIGN1cnJlbnQgZGF5LA0KICAgICAgLy8gc2VsZWN0ZWQsIGFuZCBkaXNhYmxlZCBwcm9wZXJ0aWVzIGZvciB0aGUgdmlldy4NCiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUodGhpcyk7DQoNCiAgICAgIGxldCBkaXMgPSBzdGFydERheTsNCiAgICAgIGNvbnN0IGRheU9iamVjdHMgPSBkYXlzLm1hcCgoZGF5LCBpbmRleCkgPT4gew0KICAgICAgICBjb25zdCBjdXJyZW50RGF5ID0NCiAgICAgICAgICBkYXkgPT09IHRvZGF5LmdldERhdGUoKSAmJg0KICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoID09IHRvZGF5LmdldE1vbnRoKCkgJiYNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkWWVhciA9PSB0b2RheS5nZXRGdWxsWWVhcigpOw0KICAgICAgICAvLyBjb25zdCBkaXNhYmxlZCA9IHRoaXMuZGF5RGlzYWJsZWQoZGF5KTsNCiAgICAgICAgY29uc3QgZGlmZk1vbnRoID0NCiAgICAgICAgICAoaW5kZXggPCA2ICYmIGRheSA8IDgpIHx8IChpbmRleCA+PSA2ICYmIGRheSA+PSAxKSA/IGZhbHNlIDogdHJ1ZTsNCg0KICAgICAgICAvLyBOTVRVQU4zIDE4LzEyLzIwMjE6IENhc2UgdGjDqm0gdHLGsOG7nW5nIGjhu6NwIG7hur91IHRow6FuZyBoaeG7h24gdOG6oWkgbMOgIDEgdGjDrCBuaOG7r25nIG5nw6B5IGFkZCB2w6BvIHRyxrDhu5tjIGzDoCB0aMOhbmcgMTINCiAgICAgICAgLy8gVsOtIGThu6U6IG5nw6B5IDEvMS8yMDIyIGzDoCB0aOG7qSA3IHRow6wgY8OhYyB0aOG7qSB04burIDItNiBsw6AgbmfDoHkg4bufIHRow6FuZyAxMi8yMDIxDQogICAgICAgIGNvbnN0IG1vbnRoID0gZGlmZk1vbnRoDQogICAgICAgICAgPyB0aGlzLmN1cnJlbnRNb250aCA9PSAwDQogICAgICAgICAgICA/IDExDQogICAgICAgICAgICA6IHRoaXMuY3VycmVudE1vbnRoIC0gMQ0KICAgICAgICAgIDogdGhpcy5jdXJyZW50TW9udGg7DQogICAgICAgIGNvbnN0IHNlbGVjdGVkID0NCiAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF5ID09PSBkYXkgJiYgbW9udGggPT09IHRoaXMuc2VsZWN0ZWRNb250aDsNCiAgICAgICAgcmV0dXJuIHsgZGF5LCBjdXJyZW50RGF5LCBzZWxlY3RlZCwgZGlmZk1vbnRoLCBtb250aCB9Ow0KICAgICAgfSk7DQoNCiAgICAgIC8vIGFkZCB0aMOqbSBuZ8OgeSB0aMOhbmcgc2F1IGNobyBrw61uIGzhu4tjaA0KICAgICAgdmFyIG9mcyA9IGRheU9iamVjdHMubGVuZ3RoICUgNzsNCiAgICAgIGlmIChvZnMgPiAwKSB7DQogICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDcgLSBvZnM7IGkrKykgew0KICAgICAgICAgIGRheU9iamVjdHMucHVzaCh7DQogICAgICAgICAgICBkYXk6IGksDQogICAgICAgICAgICBjdXJyZW50RGF5OiBmYWxzZSwNCiAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSwNCiAgICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSwNCiAgICAgICAgICAgIGRpZmZNb250aDogdHJ1ZSwNCiAgICAgICAgICAgIC8vIE5NVFVBTjMgMTgvMTIvMjAyMTogbuG6v3UgdGjDoW5nIGhp4buHbiB04bqhaSBsw6AgdGjDoW5nIDEyIHRow6wgbmjhu69uZyBuZ8OgeSDEkcaw4bujYyBhZGQgdsOgbyBzYXUgbMOgIHRow6FuZyAxDQogICAgICAgICAgICAvLyBWw60gZOG7pTogbmfDoHkgMzEvMTIvMjAyMSBsw6AgdGjhu6kgNiB0aMOsIHQ3IHbDoCBjaOG7pyBuaOG6rXQgY+G7p2EgdHXhuqduIGzDoCBuZ8OgeSBj4bunYSB0aMOhbmcgMS8yMDIyDQogICAgICAgICAgICBtb250aDogdGhpcy5jdXJyZW50TW9udGggPT0gMTEgPyAwIDogdGhpcy5jdXJyZW50TW9udGggKyAxLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIC8vIENodW5rIGFsbCBvZiB0aGUgZGF5cyBpbnRvIGFuIGFycmF5IG9mIGFycmF5cywgYnkgc2V2ZW4uDQogICAgICByZXR1cm4gY2h1bmsoZGF5T2JqZWN0cywgNyk7DQogICAgfSwNCiAgICB5ZWFycygpIHsNCiAgICAgIC8vxJDhurd0IG7Eg20gxJHhuqd1IHRpw6puIGPhu6dhIGTDo3kNCiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTsNCiAgICAgIGxldCBsYXN0WWVhcjsNCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkWWVhciA9PT0gIiIpIHsNCiAgICAgICAgbGFzdFllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpOw0KICAgICAgfSBlbHNlIGxhc3RZZWFyID0gdGhpcy5jdXJyZW50WWVhcjsNCiAgICAgIGxldCB0aHJvdWdoID0gMTI7IC8vIHPhu5EgbsSDbSBoaeG7g24gdGjhu4sgdHLDqm4gMSB0cmFuZw0KICAgICAgbGV0IHllYXJzID0gW107IC8vIG3huqNuZyBjaOG7qWEgY8OhYyBuxINtDQogICAgICBmb3IgKGxldCBpID0gbGFzdFllYXI7IGkgPiBsYXN0WWVhciAtIHRocm91Z2g7IGktLSkgew0KICAgICAgICB5ZWFycy5wdXNoKGkpOw0KICAgICAgfQ0KICAgICAgY29uc3QgeWVhck9iamVjdHMgPSB5ZWFycy5tYXAoKHllYXIpID0+IHsNCiAgICAgICAgY29uc3QgY3VycmVudFllYXIgPSB0aGlzLnNlbGVjdGVkWWVhciA9PT0gdG9kYXkuZ2V0RnVsbFllYXIoKTsNCiAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPQ0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRZZWFyID09PSB5ZWFyICYmDQogICAgICAgICAgdGhpcy5jdXJyZW50TW9udGggPT09IHRoaXMuc2VsZWN0ZWRNb250aDsNCiAgICAgICAgLy8gY29uc3QgZGlzYWJsZWQgPSB0aGlzLmRheURpc2FibGVkKGRheSk7DQoNCiAgICAgICAgcmV0dXJuIHsgeWVhciwgY3VycmVudFllYXIsIHNlbGVjdGVkIH07DQogICAgICB9KTsNCg0KICAgICAgLy8gQ2h1bmsgYWxsIG9mIHRoZSBkYXlzIGludG8gYW4gYXJyYXkgb2YgYXJyYXlzLCBieSBzZXZlbi4NCiAgICAgIHJldHVybiBjaHVuayh5ZWFyT2JqZWN0cywgNCk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiBUcuG6oyB24buBIHRow6FuZyDEkcaw4bujYyBjaOG7jW4gdGjDoG5oIG3hu5l0IHThu6suDQogICAgICogVkQ6IDYgLT4gVGjDoW5nIDYNCiAgICAgKg0KICAgICAqIEByZXR1cm4ge1N0cmluZ30NCiAgICAgKi8NCiAgICBzZWxlY3RlZE1vbnRoV29yZCgpIHsNCiAgICAgIHJldHVybiBtb250aE1hcFt0aGlzLnNlbGVjdGVkTW9udGhdOw0KICAgIH0sDQogICAgc2VsZWN0ZWREYXRlUmFuZ2UoKSB7DQogICAgICBsZXQgYmVnaW5EYXkgPSB0aGlzLnNlbGVjdGVkRGF5Ow0KICAgICAgcmV0dXJuIGJlZ2luRGF5Ow0KICAgIH0sDQogIH0sDQogIGdldFZhbHVlRnJvbUlucHV0KCkgew0KICAgIHJldHVybiAodGhpcy5jdXJyZW50TW9udGggPSB0aGlzLnNwZWNpZmllZERhdGUuZ2V0TW9udGgoKSk7DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5zZXRFc2NhcGVFdmVudCgpOw0KICAgIHRoaXMuc2V0RGF0ZSgpOw0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5jbG9zZU91dCk7DQogIH0sDQogIGJlZm9yZURlc3Ryb3koKSB7DQogICAgY29uc3QgbWUgPSB0aGlzOw0KICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgbWUuY2xvc2VPdXQpOw0KICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBtZS5ldmVudEVzY2FwZSk7DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5oZWlnaHQgPSB0aGlzLiRlbC5vZmZzZXRIZWlnaHQ7DQogICAgdGhpcy53aWR0aCA9IHRoaXMuJGVsLm9mZnNldFdpZHRoOw0KICB9LA0KfTsNCg=="},null]}