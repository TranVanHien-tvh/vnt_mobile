{"remainingRequest":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\VNT Mobile\\vnt_mobile\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\VNT Mobile\\vnt_mobile\\src\\components\\msTooltip\\lib\\tooltip.js","dependencies":[{"path":"D:\\VNT Mobile\\vnt_mobile\\src\\components\\msTooltip\\lib\\tooltip.js","mtime":1656597545917},{"path":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovVk5UIE1vYmlsZS92bnRfbW9iaWxlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJEOi9WTlQgTW9iaWxlL3ZudF9tb2JpbGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9WTlQgTW9iaWxlL3ZudF9tb2JpbGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJEOi9WTlQgTW9iaWxlL3ZudF9tb2JpbGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CgovKiBGb3JrZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vRmV6VnJhc3RhL3BvcHBlci5qcy9ibG9iL21hc3Rlci9wYWNrYWdlcy90b29sdGlwL3NyYy9pbmRleC5qcyAqLwppbXBvcnQgUG9wcGVyIGZyb20gJ3BvcHBlci5qcyc7CmltcG9ydCB7IGdldE9wdGlvbnMsIGRpcmVjdGl2ZSB9IGZyb20gJy4uL2RpcmVjdGl2ZXMvdi10b29sdGlwJzsKaW1wb3J0IHsgYWRkQ2xhc3NlcywgcmVtb3ZlQ2xhc3Nlcywgc3VwcG9ydHNQYXNzaXZlIH0gZnJvbSAnLi4vdXRpbHMnOwppbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7CnZhciBERUZBVUxUX09QVElPTlMgPSB7CiAgY29udGFpbmVyOiBmYWxzZSwKICBkZWxheTogMCwKICBodG1sOiBmYWxzZSwKICBwbGFjZW1lbnQ6ICd0b3AnLAogIHRpdGxlOiAnJywKICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9InRvb2x0aXAiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9InRvb2x0aXAtYXJyb3ciPjwvZGl2PjxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiPjwvZGl2PjwvZGl2PicsCiAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJywKICBvZmZzZXQ6IDAKfTsKdmFyIG9wZW5Ub29sdGlwcyA9IFtdOwoKdmFyIFRvb2x0aXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIC8qKg0KICAgKiBDcmVhdGUgYSBuZXcgVG9vbHRpcC5qcyBpbnN0YW5jZQ0KICAgKiBAY2xhc3MgVG9vbHRpcA0KICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2UgLSBUaGUgRE9NIG5vZGUgdXNlZCBhcyByZWZlcmVuY2Ugb2YgdGhlIHRvb2x0aXAgKGl0IGNhbiBiZSBhIGpRdWVyeSBlbGVtZW50KS4NCiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMNCiAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMucGxhY2VtZW50PWJvdHRvbQ0KICAgKiAgICAgIFBsYWNlbWVudCBvZiB0aGUgcG9wcGVyIGFjY2VwdGVkIHZhbHVlczogYHRvcCgtc3RhcnQsIC1lbmQpLCByaWdodCgtc3RhcnQsIC1lbmQpLCBib3R0b20oLXN0YXJ0LCAtZW5kKSwNCiAgICogICAgICBsZWZ0KC1zdGFydCwgLWVuZClgDQogICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8U3RyaW5nfGZhbHNlfSBvcHRpb25zLmNvbnRhaW5lcj1mYWxzZSAtIEFwcGVuZCB0aGUgdG9vbHRpcCB0byBhIHNwZWNpZmljIGVsZW1lbnQuDQogICAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gb3B0aW9ucy5kZWxheT0wDQogICAqICAgICAgRGVsYXkgc2hvd2luZyBhbmQgaGlkaW5nIHRoZSB0b29sdGlwIChtcykgLSBkb2VzIG5vdCBhcHBseSB0byBtYW51YWwgdHJpZ2dlciB0eXBlLg0KICAgKiAgICAgIElmIGEgbnVtYmVyIGlzIHN1cHBsaWVkLCBkZWxheSBpcyBhcHBsaWVkIHRvIGJvdGggaGlkZS9zaG93Lg0KICAgKiAgICAgIE9iamVjdCBzdHJ1Y3R1cmUgaXM6IGB7IHNob3c6IDUwMCwgaGlkZTogMTAwIH1gDQogICAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5odG1sPWZhbHNlIC0gSW5zZXJ0IEhUTUwgaW50byB0aGUgdG9vbHRpcC4gSWYgZmFsc2UsIHRoZSBjb250ZW50IHdpbGwgaW5zZXJ0ZWQgd2l0aCBgaW5uZXJUZXh0YC4NCiAgICogQHBhcmFtIHtTdHJpbmd8UGxhY2VtZW50RnVuY3Rpb259IG9wdGlvbnMucGxhY2VtZW50PSd0b3AnIC0gT25lIG9mIHRoZSBhbGxvd2VkIHBsYWNlbWVudHMsIG9yIGEgZnVuY3Rpb24gcmV0dXJuaW5nIG9uZSBvZiB0aGVtLg0KICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMudGVtcGxhdGU9JzxkaXYgY2xhc3M9InRvb2x0aXAiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9InRvb2x0aXAtYXJyb3ciPjwvZGl2PjxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiPjwvZGl2PjwvZGl2PiddDQogICAqICAgICAgQmFzZSBIVE1MIHRvIHVzZWQgd2hlbiBjcmVhdGluZyB0aGUgdG9vbHRpcC4NCiAgICogICAgICBUaGUgdG9vbHRpcCdzIGB0aXRsZWAgd2lsbCBiZSBpbmplY3RlZCBpbnRvIHRoZSBgLnRvb2x0aXAtaW5uZXJgIG9yIGAudG9vbHRpcF9faW5uZXJgLg0KICAgKiAgICAgIGAudG9vbHRpcC1hcnJvd2Agb3IgYC50b29sdGlwX19hcnJvd2Agd2lsbCBiZWNvbWUgdGhlIHRvb2x0aXAncyBhcnJvdy4NCiAgICogICAgICBUaGUgb3V0ZXJtb3N0IHdyYXBwZXIgZWxlbWVudCBzaG91bGQgaGF2ZSB0aGUgYC50b29sdGlwYCBjbGFzcy4NCiAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8VGl0bGVGdW5jdGlvbn0gb3B0aW9ucy50aXRsZT0nJyAtIERlZmF1bHQgdGl0bGUgdmFsdWUgaWYgYHRpdGxlYCBhdHRyaWJ1dGUgaXNuJ3QgcHJlc2VudC4NCiAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnRyaWdnZXI9J2hvdmVyIGZvY3VzJ10NCiAgICogICAgICBIb3cgdG9vbHRpcCBpcyB0cmlnZ2VyZWQgLSBjbGljaywgaG92ZXIsIGZvY3VzLCBtYW51YWwuDQogICAqICAgICAgWW91IG1heSBwYXNzIG11bHRpcGxlIHRyaWdnZXJzOyBzZXBhcmF0ZSB0aGVtIHdpdGggYSBzcGFjZS4gYG1hbnVhbGAgY2Fubm90IGJlIGNvbWJpbmVkIHdpdGggYW55IG90aGVyIHRyaWdnZXIuDQogICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQNCiAgICogICAgICBUaGUgZWxlbWVudCB1c2VkIGFzIGJvdW5kYXJpZXMgZm9yIHRoZSB0b29sdGlwLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiByZWZlciB0byBQb3BwZXIuanMnDQogICAqICAgICAgW2JvdW5kYXJpZXNFbGVtZW50IGRvY3NdKGh0dHBzOi8vcG9wcGVyLmpzLm9yZy9wb3BwZXItZG9jdW1lbnRhdGlvbi5odG1sKQ0KICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IG9wdGlvbnMub2Zmc2V0PTAgLSBPZmZzZXQgb2YgdGhlIHRvb2x0aXAgcmVsYXRpdmUgdG8gaXRzIHJlZmVyZW5jZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24gcmVmZXIgdG8gUG9wcGVyLmpzJw0KICAgKiAgICAgIFtvZmZzZXQgZG9jc10oaHR0cHM6Ly9wb3BwZXIuanMub3JnL3BvcHBlci1kb2N1bWVudGF0aW9uLmh0bWwpDQogICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnBvcHBlck9wdGlvbnM9e30gLSBQb3BwZXIgb3B0aW9ucywgd2lsbCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gcG9wcGVyIGluc3RhbmNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiByZWZlciB0byBQb3BwZXIuanMnDQogICAqICAgICAgW29wdGlvbnMgZG9jc10oaHR0cHM6Ly9wb3BwZXIuanMub3JnL3BvcHBlci1kb2N1bWVudGF0aW9uLmh0bWwpDQogICAqIEByZXR1cm4ge09iamVjdH0gaW5zdGFuY2UgLSBUaGUgZ2VuZXJhdGVkIHRvb2x0aXAgaW5zdGFuY2UNCiAgICovCiAgZnVuY3Rpb24gVG9vbHRpcChfcmVmZXJlbmNlLCBfb3B0aW9ucykgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9vbHRpcCk7CgogICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICJfZXZlbnRzIiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCAiX3NldFRvb2x0aXBOb2RlRXZlbnQiLCBmdW5jdGlvbiAoZXZ0LCByZWZlcmVuY2UsIGRlbGF5LCBvcHRpb25zKSB7CiAgICAgIHZhciByZWxhdGVkcmVmZXJlbmNlID0gZXZ0LnJlbGF0ZWRyZWZlcmVuY2UgfHwgZXZ0LnRvRWxlbWVudCB8fCBldnQucmVsYXRlZFRhcmdldDsKCiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKGV2dDIpIHsKICAgICAgICB2YXIgcmVsYXRlZHJlZmVyZW5jZTIgPSBldnQyLnJlbGF0ZWRyZWZlcmVuY2UgfHwgZXZ0Mi50b0VsZW1lbnQgfHwgZXZ0Mi5yZWxhdGVkVGFyZ2V0OyAvLyBSZW1vdmUgZXZlbnQgbGlzdGVuZXIgYWZ0ZXIgY2FsbAoKICAgICAgICBfdGhpcy5fdG9vbHRpcE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnQudHlwZSwgY2FsbGJhY2spOyAvLyBJZiB0aGUgbmV3IHJlZmVyZW5jZSBpcyBub3QgdGhlIHJlZmVyZW5jZSBlbGVtZW50CgoKICAgICAgICBpZiAoIXJlZmVyZW5jZS5jb250YWlucyhyZWxhdGVkcmVmZXJlbmNlMikpIHsKICAgICAgICAgIC8vIFNjaGVkdWxlIHRvIGhpZGUgdG9vbHRpcAogICAgICAgICAgX3RoaXMuX3NjaGVkdWxlSGlkZShyZWZlcmVuY2UsIG9wdGlvbnMuZGVsYXksIG9wdGlvbnMsIGV2dDIpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGlmIChfdGhpcy5fdG9vbHRpcE5vZGUuY29udGFpbnMocmVsYXRlZHJlZmVyZW5jZSkpIHsKICAgICAgICAvLyBsaXN0ZW4gdG8gbW91c2VsZWF2ZSBvbiB0aGUgdG9vbHRpcCBlbGVtZW50IHRvIGJlIGFibGUgdG8gaGlkZSB0aGUgdG9vbHRpcAogICAgICAgIF90aGlzLl90b29sdGlwTm9kZS5hZGRFdmVudExpc3RlbmVyKGV2dC50eXBlLCBjYWxsYmFjayk7CgogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9KTsKCiAgICAvLyBhcHBseSB1c2VyIG9wdGlvbnMgb3ZlciBkZWZhdWx0IG9uZXMKICAgIF9vcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBERUZBVUxUX09QVElPTlMpLCBfb3B0aW9ucyk7CiAgICBfcmVmZXJlbmNlLmpxdWVyeSAmJiAoX3JlZmVyZW5jZSA9IF9yZWZlcmVuY2VbMF0pOwogICAgdGhpcy5zaG93ID0gdGhpcy5zaG93LmJpbmQodGhpcyk7CiAgICB0aGlzLmhpZGUgPSB0aGlzLmhpZGUuYmluZCh0aGlzKTsgLy8gY2FjaGUgcmVmZXJlbmNlIGFuZCBvcHRpb25zCgogICAgdGhpcy5yZWZlcmVuY2UgPSBfcmVmZXJlbmNlOwogICAgdGhpcy5vcHRpb25zID0gX29wdGlvbnM7IC8vIHNldCBpbml0aWFsIHN0YXRlCgogICAgdGhpcy5faXNPcGVuID0gZmFsc2U7CgogICAgdGhpcy5faW5pdCgpOwogIH0gLy8KICAvLyBQdWJsaWMgbWV0aG9kcwogIC8vCgogIC8qKg0KICAgKiBSZXZlYWxzIGFuIGVsZW1lbnQncyB0b29sdGlwLiBUaGlzIGlzIGNvbnNpZGVyZWQgYSAibWFudWFsIiB0cmlnZ2VyaW5nIG9mIHRoZSB0b29sdGlwLg0KICAgKiBUb29sdGlwcyB3aXRoIHplcm8tbGVuZ3RoIHRpdGxlcyBhcmUgbmV2ZXIgZGlzcGxheWVkLg0KICAgKiBAbWV0aG9kIFRvb2x0aXAjc2hvdw0KICAgKiBAbWVtYmVyb2YgVG9vbHRpcA0KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhUb29sdGlwLCBbewogICAga2V5OiAic2hvdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdGhpcy5fc2hvdyh0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zKTsKICAgIH0KICAgIC8qKg0KICAgICAqIEhpZGVzIGFuIGVsZW1lbnTigJlzIHRvb2x0aXAuIFRoaXMgaXMgY29uc2lkZXJlZCBhIOKAnG1hbnVhbOKAnSB0cmlnZ2VyaW5nIG9mIHRoZSB0b29sdGlwLg0KICAgICAqIEBtZXRob2QgVG9vbHRpcCNoaWRlDQogICAgICogQG1lbWJlcm9mIFRvb2x0aXANCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaGlkZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgdGhpcy5faGlkZSgpOwogICAgfQogICAgLyoqDQogICAgICogSGlkZXMgYW5kIGRlc3Ryb3lzIGFuIGVsZW1lbnTigJlzIHRvb2x0aXAuDQogICAgICogQG1ldGhvZCBUb29sdGlwI2Rpc3Bvc2UNCiAgICAgKiBAbWVtYmVyb2YgVG9vbHRpcA0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJkaXNwb3NlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwb3NlKCkgewogICAgICB0aGlzLl9kaXNwb3NlKCk7CiAgICB9CiAgICAvKioNCiAgICAgKiBUb2dnbGVzIGFuIGVsZW1lbnTigJlzIHRvb2x0aXAuIFRoaXMgaXMgY29uc2lkZXJlZCBhIOKAnG1hbnVhbOKAnSB0cmlnZ2VyaW5nIG9mIHRoZSB0b29sdGlwLg0KICAgICAqIEBtZXRob2QgVG9vbHRpcCN0b2dnbGUNCiAgICAgKiBAbWVtYmVyb2YgVG9vbHRpcA0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b2dnbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHsKICAgICAgaWYgKHRoaXMuX2lzT3BlbikgewogICAgICAgIHJldHVybiB0aGlzLmhpZGUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5zaG93KCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRDbGFzc2VzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDbGFzc2VzKGNsYXNzZXMpIHsKICAgICAgdGhpcy5fY2xhc3NlcyA9IGNsYXNzZXM7CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0Q29udGVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29udGVudChjb250ZW50KSB7CiAgICAgIHRoaXMub3B0aW9ucy50aXRsZSA9IGNvbnRlbnQ7CgogICAgICBpZiAodGhpcy5fdG9vbHRpcE5vZGUpIHsKICAgICAgICB0aGlzLl9zZXRDb250ZW50KGNvbnRlbnQsIHRoaXMub3B0aW9ucyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRPcHRpb25zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgICAgdmFyIGNsYXNzZXNVcGRhdGVkID0gZmFsc2U7CiAgICAgIHZhciBjbGFzc2VzID0gb3B0aW9ucyAmJiBvcHRpb25zLmNsYXNzZXMgfHwgZGlyZWN0aXZlLm9wdGlvbnMuZGVmYXVsdENsYXNzOwoKICAgICAgaWYgKCFpc0VxdWFsKHRoaXMuX2NsYXNzZXMsIGNsYXNzZXMpKSB7CiAgICAgICAgdGhpcy5zZXRDbGFzc2VzKGNsYXNzZXMpOwogICAgICAgIGNsYXNzZXNVcGRhdGVkID0gdHJ1ZTsKICAgICAgfQoKICAgICAgb3B0aW9ucyA9IGdldE9wdGlvbnMob3B0aW9ucyk7CiAgICAgIHZhciBuZWVkUG9wcGVyVXBkYXRlID0gZmFsc2U7CiAgICAgIHZhciBuZWVkUmVzdGFydCA9IGZhbHNlOwoKICAgICAgaWYgKHRoaXMub3B0aW9ucy5vZmZzZXQgIT09IG9wdGlvbnMub2Zmc2V0IHx8IHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgIT09IG9wdGlvbnMucGxhY2VtZW50KSB7CiAgICAgICAgbmVlZFBvcHBlclVwZGF0ZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLm9wdGlvbnMudGVtcGxhdGUgIT09IG9wdGlvbnMudGVtcGxhdGUgfHwgdGhpcy5vcHRpb25zLnRyaWdnZXIgIT09IG9wdGlvbnMudHJpZ2dlciB8fCB0aGlzLm9wdGlvbnMuY29udGFpbmVyICE9PSBvcHRpb25zLmNvbnRhaW5lciB8fCBjbGFzc2VzVXBkYXRlZCkgewogICAgICAgIG5lZWRSZXN0YXJ0ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHsKICAgICAgICB0aGlzLm9wdGlvbnNba2V5XSA9IG9wdGlvbnNba2V5XTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuX3Rvb2x0aXBOb2RlKSB7CiAgICAgICAgaWYgKG5lZWRSZXN0YXJ0KSB7CiAgICAgICAgICB2YXIgaXNPcGVuID0gdGhpcy5faXNPcGVuOwogICAgICAgICAgdGhpcy5kaXNwb3NlKCk7CgogICAgICAgICAgdGhpcy5faW5pdCgpOwoKICAgICAgICAgIGlmIChpc09wZW4pIHsKICAgICAgICAgICAgdGhpcy5zaG93KCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChuZWVkUG9wcGVyVXBkYXRlKSB7CiAgICAgICAgICB0aGlzLnBvcHBlckluc3RhbmNlLnVwZGF0ZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfSAvLwogICAgLy8gUHJpdmF0ZSBtZXRob2RzCiAgICAvLwoKICB9LCB7CiAgICBrZXk6ICJfaW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXQoKSB7CiAgICAgIC8vIGdldCBldmVudHMgbGlzdAogICAgICB2YXIgZXZlbnRzID0gdHlwZW9mIHRoaXMub3B0aW9ucy50cmlnZ2VyID09PSAnc3RyaW5nJyA/IHRoaXMub3B0aW9ucy50cmlnZ2VyLnNwbGl0KCcgJykgOiBbXTsKICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlOwogICAgICB0aGlzLl9lbmFibGVEb2N1bWVudFRvdWNoID0gZXZlbnRzLmluZGV4T2YoJ21hbnVhbCcpID09PSAtMTsKICAgICAgZXZlbnRzID0gZXZlbnRzLmZpbHRlcihmdW5jdGlvbiAodHJpZ2dlcikgewogICAgICAgIHJldHVybiBbJ2NsaWNrJywgJ2hvdmVyJywgJ2ZvY3VzJ10uaW5kZXhPZih0cmlnZ2VyKSAhPT0gLTE7CiAgICAgIH0pOyAvLyBzZXQgZXZlbnQgbGlzdGVuZXJzCgogICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyh0aGlzLnJlZmVyZW5jZSwgZXZlbnRzLCB0aGlzLm9wdGlvbnMpOyAvLyB0aXRsZSBhdHRyaWJ1dGUKCgogICAgICB0aGlzLiRfb3JpZ2luYWxUaXRsZSA9IHRoaXMucmVmZXJlbmNlLmdldEF0dHJpYnV0ZSgndGl0bGUnKTsKICAgICAgdGhpcy5yZWZlcmVuY2UucmVtb3ZlQXR0cmlidXRlKCd0aXRsZScpOwogICAgICB0aGlzLnJlZmVyZW5jZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCB0aGlzLiRfb3JpZ2luYWxUaXRsZSk7CiAgICB9CiAgICAvKioNCiAgICAgKiBDcmVhdGVzIGEgbmV3IHRvb2x0aXAgbm9kZQ0KICAgICAqIEBtZW1iZXJvZiBUb29sdGlwDQogICAgICogQHByaXZhdGUNCiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2UNCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGUNCiAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxUaXRsZUZ1bmN0aW9ufSB0aXRsZQ0KICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gYWxsb3dIdG1sDQogICAgICogQHJldHVybiB7SFRNTGVsZW1lbnR9IHRvb2x0aXBOb2RlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIl9jcmVhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGUocmVmZXJlbmNlLCB0ZW1wbGF0ZSkgewogICAgICAvLyBjcmVhdGUgdG9vbHRpcCBlbGVtZW50CiAgICAgIHZhciB0b29sdGlwR2VuZXJhdG9yID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICB0b29sdGlwR2VuZXJhdG9yLmlubmVySFRNTCA9IHRlbXBsYXRlLnRyaW0oKTsKICAgICAgdmFyIHRvb2x0aXBOb2RlID0gdG9vbHRpcEdlbmVyYXRvci5jaGlsZE5vZGVzWzBdOyAvLyBhZGQgdW5pcXVlIElEIHRvIG91ciB0b29sdGlwIChuZWVkZWQgZm9yIGFjY2Vzc2liaWxpdHkgcmVhc29ucykKCiAgICAgIHRvb2x0aXBOb2RlLmlkID0gInRvb2x0aXBfIi5jb25jYXQoTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDEwKSk7IC8vIEluaXRpYWxseSBoaWRlIHRoZSB0b29sdGlwCiAgICAgIC8vIFRoZSBhdHRyaWJ1dGUgd2lsbCBiZSBzd2l0Y2hlZCBpbiBhIG5leHQgZnJhbWUgc28KICAgICAgLy8gQ1NTIHRyYW5zaXRpb25zIGNhbiBwbGF5CgogICAgICB0b29sdGlwTm9kZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTsKCiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0hpZGUgJiYgdGhpcy5vcHRpb25zLnRyaWdnZXIuaW5kZXhPZignaG92ZXInKSAhPT0gLTEpIHsKICAgICAgICB0b29sdGlwTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5oaWRlKTsKICAgICAgICB0b29sdGlwTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZSk7CiAgICAgIH0gLy8gcmV0dXJuIHRoZSBnZW5lcmF0ZWQgdG9vbHRpcCBub2RlCgoKICAgICAgcmV0dXJuIHRvb2x0aXBOb2RlOwogICAgfQogIH0sIHsKICAgIGtleTogIl9zZXRDb250ZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0Q29udGVudChjb250ZW50LCBvcHRpb25zKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5hc3luY0NvbnRlbnQgPSBmYWxzZTsKCiAgICAgIHRoaXMuX2FwcGx5Q29udGVudChjb250ZW50LCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIucG9wcGVySW5zdGFuY2UudXBkYXRlKCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIl9hcHBseUNvbnRlbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBseUNvbnRlbnQodGl0bGUsIG9wdGlvbnMpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciBhbGxvd0h0bWwgPSBvcHRpb25zLmh0bWw7CiAgICAgICAgdmFyIHJvb3ROb2RlID0gX3RoaXMzLl90b29sdGlwTm9kZTsKICAgICAgICBpZiAoIXJvb3ROb2RlKSByZXR1cm47CiAgICAgICAgdmFyIHRpdGxlTm9kZSA9IHJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3IoX3RoaXMzLm9wdGlvbnMuaW5uZXJTZWxlY3Rvcik7CgogICAgICAgIGlmICh0aXRsZS5ub2RlVHlwZSA9PT0gMSkgewogICAgICAgICAgLy8gaWYgdGl0bGUgaXMgYSBub2RlLCBhcHBlbmQgaXQgb25seSBpZiBhbGxvd0h0bWwgaXMgdHJ1ZQogICAgICAgICAgaWYgKGFsbG93SHRtbCkgewogICAgICAgICAgICB3aGlsZSAodGl0bGVOb2RlLmZpcnN0Q2hpbGQpIHsKICAgICAgICAgICAgICB0aXRsZU5vZGUucmVtb3ZlQ2hpbGQodGl0bGVOb2RlLmZpcnN0Q2hpbGQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aXRsZU5vZGUuYXBwZW5kQ2hpbGQodGl0bGUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRpdGxlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAvLyBpZiB0aXRsZSBpcyBhIGZ1bmN0aW9uLCBjYWxsIGl0IGFuZCBzZXQgaW5uZXJUZXh0IG9yIGlubmVySHRtbCBkZXBlbmRpbmcgYnkgYGFsbG93SHRtbGAgdmFsdWUKICAgICAgICAgIHZhciByZXN1bHQgPSB0aXRsZSgpOwoKICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIF90aGlzMy5hc3luY0NvbnRlbnQgPSB0cnVlOwogICAgICAgICAgICBvcHRpb25zLmxvYWRpbmdDbGFzcyAmJiBhZGRDbGFzc2VzKHJvb3ROb2RlLCBvcHRpb25zLmxvYWRpbmdDbGFzcyk7CgogICAgICAgICAgICBpZiAob3B0aW9ucy5sb2FkaW5nQ29udGVudCkgewogICAgICAgICAgICAgIF90aGlzMy5fYXBwbHlDb250ZW50KG9wdGlvbnMubG9hZGluZ0NvbnRlbnQsIG9wdGlvbnMpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXN1bHQudGhlbihmdW5jdGlvbiAoYXN5bmNSZXN1bHQpIHsKICAgICAgICAgICAgICBvcHRpb25zLmxvYWRpbmdDbGFzcyAmJiByZW1vdmVDbGFzc2VzKHJvb3ROb2RlLCBvcHRpb25zLmxvYWRpbmdDbGFzcyk7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fYXBwbHlDb250ZW50KGFzeW5jUmVzdWx0LCBvcHRpb25zKTsKICAgICAgICAgICAgfSkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzLl9hcHBseUNvbnRlbnQocmVzdWx0LCBvcHRpb25zKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBpZiBpdCdzIGp1c3QgYSBzaW1wbGUgdGV4dCwgc2V0IGlubmVyVGV4dCBvciBpbm5lckh0bWwgZGVwZW5kaW5nIGJ5IGBhbGxvd0h0bWxgIHZhbHVlCiAgICAgICAgICBhbGxvd0h0bWwgPyB0aXRsZU5vZGUuaW5uZXJIVE1MID0gdGl0bGUgOiB0aXRsZU5vZGUuaW5uZXJUZXh0ID0gdGl0bGU7CiAgICAgICAgfQoKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIl9zaG93IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hvdyhyZWZlcmVuY2UsIG9wdGlvbnMpIHsKICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuY29udGFpbmVyID09PSAnc3RyaW5nJykgewogICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuY29udGFpbmVyKTsKICAgICAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuOwogICAgICB9CgogICAgICBjbGVhclRpbWVvdXQodGhpcy5fZGlzcG9zZVRpbWVyKTsKICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpOwogICAgICBkZWxldGUgb3B0aW9ucy5vZmZzZXQ7CiAgICAgIHZhciB1cGRhdGVDbGFzc2VzID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLl90b29sdGlwTm9kZSkgewogICAgICAgIGFkZENsYXNzZXModGhpcy5fdG9vbHRpcE5vZGUsIHRoaXMuX2NsYXNzZXMpOwogICAgICAgIHVwZGF0ZUNsYXNzZXMgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2Vuc3VyZVNob3duKHJlZmVyZW5jZSwgb3B0aW9ucyk7CgogICAgICBpZiAodXBkYXRlQ2xhc3NlcyAmJiB0aGlzLl90b29sdGlwTm9kZSkgewogICAgICAgIGFkZENsYXNzZXModGhpcy5fdG9vbHRpcE5vZGUsIHRoaXMuX2NsYXNzZXMpOwogICAgICB9CgogICAgICBhZGRDbGFzc2VzKHJlZmVyZW5jZSwgWyd2LXRvb2x0aXAtb3BlbiddKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfZW5zdXJlU2hvd24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9lbnN1cmVTaG93bihyZWZlcmVuY2UsIG9wdGlvbnMpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICAvLyBkb24ndCBzaG93IGlmIGl0J3MgYWxyZWFkeSB2aXNpYmxlCiAgICAgIGlmICh0aGlzLl9pc09wZW4pIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgdGhpcy5faXNPcGVuID0gdHJ1ZTsKICAgICAgb3BlblRvb2x0aXBzLnB1c2godGhpcyk7IC8vIGlmIHRoZSB0b29sdGlwTm9kZSBhbHJlYWR5IGV4aXN0cywganVzdCBzaG93IGl0CgogICAgICBpZiAodGhpcy5fdG9vbHRpcE5vZGUpIHsKICAgICAgICB0aGlzLl90b29sdGlwTm9kZS5zdHlsZS5kaXNwbGF5ID0gJyc7CgogICAgICAgIHRoaXMuX3Rvb2x0aXBOb2RlLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTsKCiAgICAgICAgdGhpcy5wb3BwZXJJbnN0YW5jZS5lbmFibGVFdmVudExpc3RlbmVycygpOwogICAgICAgIHRoaXMucG9wcGVySW5zdGFuY2UudXBkYXRlKCk7CgogICAgICAgIGlmICh0aGlzLmFzeW5jQ29udGVudCkgewogICAgICAgICAgdGhpcy5fc2V0Q29udGVudChvcHRpb25zLnRpdGxlLCBvcHRpb25zKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9IC8vIGdldCB0aXRsZQoKCiAgICAgIHZhciB0aXRsZSA9IHJlZmVyZW5jZS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJykgfHwgb3B0aW9ucy50aXRsZTsgLy8gZG9uJ3Qgc2hvdyB0b29sdGlwIGlmIG5vIHRpdGxlIGlzIGRlZmluZWQKCiAgICAgIGlmICghdGl0bGUpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfSAvLyBjcmVhdGUgdG9vbHRpcCBub2RlCgoKICAgICAgdmFyIHRvb2x0aXBOb2RlID0gdGhpcy5fY3JlYXRlKHJlZmVyZW5jZSwgb3B0aW9ucy50ZW1wbGF0ZSk7CgogICAgICB0aGlzLl90b29sdGlwTm9kZSA9IHRvb2x0aXBOb2RlOyAvLyBBZGQgYGFyaWEtZGVzY3JpYmVkYnlgIHRvIG91ciByZWZlcmVuY2UgZWxlbWVudCBmb3IgYWNjZXNzaWJpbGl0eSByZWFzb25zCgogICAgICByZWZlcmVuY2Uuc2V0QXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5JywgdG9vbHRpcE5vZGUuaWQpOyAvLyBhcHBlbmQgdG9vbHRpcCB0byBjb250YWluZXIKCiAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9maW5kQ29udGFpbmVyKG9wdGlvbnMuY29udGFpbmVyLCByZWZlcmVuY2UpOwoKICAgICAgdGhpcy5fYXBwZW5kKHRvb2x0aXBOb2RlLCBjb250YWluZXIpOwoKICAgICAgdmFyIHBvcHBlck9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMucG9wcGVyT3B0aW9ucyksIHt9LCB7CiAgICAgICAgcGxhY2VtZW50OiBvcHRpb25zLnBsYWNlbWVudAogICAgICB9KTsKCiAgICAgIHBvcHBlck9wdGlvbnMubW9kaWZpZXJzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwb3BwZXJPcHRpb25zLm1vZGlmaWVycyksIHt9LCB7CiAgICAgICAgYXJyb3c6IHsKICAgICAgICAgIGVsZW1lbnQ6IHRoaXMub3B0aW9ucy5hcnJvd1NlbGVjdG9yCiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChvcHRpb25zLmJvdW5kYXJpZXNFbGVtZW50KSB7CiAgICAgICAgcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMucHJldmVudE92ZXJmbG93ID0gewogICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6IG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQKICAgICAgICB9OwogICAgICB9CgogICAgICB0aGlzLnBvcHBlckluc3RhbmNlID0gbmV3IFBvcHBlcihyZWZlcmVuY2UsIHRvb2x0aXBOb2RlLCBwb3BwZXJPcHRpb25zKTsKCiAgICAgIHRoaXMuX3NldENvbnRlbnQodGl0bGUsIG9wdGlvbnMpOyAvLyBGaXggcG9zaXRpb24KCgogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghX3RoaXM0Ll9pc0Rpc3Bvc2VkICYmIF90aGlzNC5wb3BwZXJJbnN0YW5jZSkgewogICAgICAgICAgX3RoaXM0LnBvcHBlckluc3RhbmNlLnVwZGF0ZSgpOyAvLyBTaG93IHRoZSB0b29sdGlwCgoKICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICghX3RoaXM0Ll9pc0Rpc3Bvc2VkKSB7CiAgICAgICAgICAgICAgX3RoaXM0Ll9pc09wZW4gJiYgdG9vbHRpcE5vZGUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzNC5kaXNwb3NlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQuZGlzcG9zZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogIl9ub0xvbmdlck9wZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9ub0xvbmdlck9wZW4oKSB7CiAgICAgIHZhciBpbmRleCA9IG9wZW5Ub29sdGlwcy5pbmRleE9mKHRoaXMpOwoKICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgIG9wZW5Ub29sdGlwcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX2hpZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9oaWRlKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIC8vIGRvbid0IGhpZGUgaWYgaXQncyBhbHJlYWR5IGhpZGRlbgogICAgICBpZiAoIXRoaXMuX2lzT3BlbikgewogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTsKCiAgICAgIHRoaXMuX25vTG9uZ2VyT3BlbigpOyAvLyBoaWRlIHRvb2x0aXBOb2RlCgoKICAgICAgdGhpcy5fdG9vbHRpcE5vZGUuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCiAgICAgIHRoaXMuX3Rvb2x0aXBOb2RlLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpOwoKICAgICAgdGhpcy5wb3BwZXJJbnN0YW5jZS5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2Rpc3Bvc2VUaW1lcik7CiAgICAgIHZhciBkaXNwb3NlVGltZSA9IGRpcmVjdGl2ZS5vcHRpb25zLmRpc3Bvc2VUaW1lb3V0OwoKICAgICAgaWYgKGRpc3Bvc2VUaW1lICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy5fZGlzcG9zZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoX3RoaXM1Ll90b29sdGlwTm9kZSkgewogICAgICAgICAgICBfdGhpczUuX3Rvb2x0aXBOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBfdGhpczUuaGlkZSk7CgogICAgICAgICAgICBfdGhpczUuX3Rvb2x0aXBOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXM1LmhpZGUpOyAvLyBEb24ndCByZW1vdmUgcG9wcGVyIGluc3RhbmNlLCBqdXN0IHRoZSBIVE1MIGVsZW1lbnQKCgogICAgICAgICAgICBfdGhpczUuX3JlbW92ZVRvb2x0aXBOb2RlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgZGlzcG9zZVRpbWUpOwogICAgICB9CgogICAgICByZW1vdmVDbGFzc2VzKHRoaXMucmVmZXJlbmNlLCBbJ3YtdG9vbHRpcC1vcGVuJ10pOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfcmVtb3ZlVG9vbHRpcE5vZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVUb29sdGlwTm9kZSgpIHsKICAgICAgaWYgKCF0aGlzLl90b29sdGlwTm9kZSkgcmV0dXJuOwogICAgICB2YXIgcGFyZW50Tm9kZSA9IHRoaXMuX3Rvb2x0aXBOb2RlLnBhcmVudE5vZGU7CgogICAgICBpZiAocGFyZW50Tm9kZSkgewogICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fdG9vbHRpcE5vZGUpOwogICAgICAgIHRoaXMucmVmZXJlbmNlLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpOwogICAgICB9CgogICAgICB0aGlzLl90b29sdGlwTm9kZSA9IG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2Rpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9kaXNwb3NlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlOwogICAgICB0aGlzLnJlZmVyZW5jZS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKTsKCiAgICAgIGlmICh0aGlzLiRfb3JpZ2luYWxUaXRsZSkgewogICAgICAgIHRoaXMucmVmZXJlbmNlLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB0aGlzLiRfb3JpZ2luYWxUaXRsZSk7CiAgICAgIH0gLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBmaXJzdCB0byBwcmV2ZW50IGFueSB1bmV4cGVjdGVkIGJlaGF2aW91cgoKCiAgICAgIHRoaXMuX2V2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGZ1bmMgPSBfcmVmLmZ1bmMsCiAgICAgICAgICAgIGV2ZW50ID0gX3JlZi5ldmVudDsKCiAgICAgICAgX3RoaXM2LnJlZmVyZW5jZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jKTsKICAgICAgfSk7CgogICAgICB0aGlzLl9ldmVudHMgPSBbXTsKCiAgICAgIGlmICh0aGlzLl90b29sdGlwTm9kZSkgewogICAgICAgIHRoaXMuX2hpZGUoKTsKCiAgICAgICAgdGhpcy5fdG9vbHRpcE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuaGlkZSk7CgogICAgICAgIHRoaXMuX3Rvb2x0aXBOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlKTsgLy8gZGVzdHJveSBpbnN0YW5jZQoKCiAgICAgICAgdGhpcy5wb3BwZXJJbnN0YW5jZS5kZXN0cm95KCk7IC8vIGRlc3Ryb3kgdG9vbHRpcE5vZGUgaWYgcmVtb3ZlT25EZXN0cm95IGlzIG5vdCBzZXQsIGFzIHBvcHBlckluc3RhbmNlLmRlc3Ryb3koKSBhbHJlYWR5IHJlbW92ZXMgdGhlIGVsZW1lbnQKCiAgICAgICAgaWYgKCF0aGlzLnBvcHBlckluc3RhbmNlLm9wdGlvbnMucmVtb3ZlT25EZXN0cm95KSB7CiAgICAgICAgICB0aGlzLl9yZW1vdmVUb29sdGlwTm9kZSgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9ub0xvbmdlck9wZW4oKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiX2ZpbmRDb250YWluZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5kQ29udGFpbmVyKGNvbnRhaW5lciwgcmVmZXJlbmNlKSB7CiAgICAgIC8vIGlmIGNvbnRhaW5lciBpcyBhIHF1ZXJ5LCBnZXQgdGhlIHJlbGF0aXZlIGVsZW1lbnQKICAgICAgaWYgKHR5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgY29udGFpbmVyID0gd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTsKICAgICAgfSBlbHNlIGlmIChjb250YWluZXIgPT09IGZhbHNlKSB7CiAgICAgICAgLy8gaWYgY29udGFpbmVyIGlzIGBmYWxzZWAsIHNldCBpdCB0byByZWZlcmVuY2UgcGFyZW50CiAgICAgICAgY29udGFpbmVyID0gcmVmZXJlbmNlLnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb250YWluZXI7CiAgICB9CiAgICAvKioNCiAgICAgKiBBcHBlbmQgdG9vbHRpcCB0byBjb250YWluZXINCiAgICAgKiBAbWVtYmVyb2YgVG9vbHRpcA0KICAgICAqIEBwcml2YXRlDQogICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdG9vbHRpcA0KICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8U3RyaW5nfGZhbHNlfSBjb250YWluZXINCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX2FwcGVuZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGVuZCh0b29sdGlwTm9kZSwgY29udGFpbmVyKSB7CiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0b29sdGlwTm9kZSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX3NldEV2ZW50TGlzdGVuZXJzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0RXZlbnRMaXN0ZW5lcnMocmVmZXJlbmNlLCBldmVudHMsIG9wdGlvbnMpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YXIgZGlyZWN0RXZlbnRzID0gW107CiAgICAgIHZhciBvcHBvc2l0ZUV2ZW50cyA9IFtdOwogICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7CiAgICAgICAgICBjYXNlICdob3Zlcic6CiAgICAgICAgICAgIGRpcmVjdEV2ZW50cy5wdXNoKCdtb3VzZWVudGVyJyk7CiAgICAgICAgICAgIG9wcG9zaXRlRXZlbnRzLnB1c2goJ21vdXNlbGVhdmUnKTsKICAgICAgICAgICAgaWYgKF90aGlzNy5vcHRpb25zLmhpZGVPblRhcmdldENsaWNrKSBvcHBvc2l0ZUV2ZW50cy5wdXNoKCdjbGljaycpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdmb2N1cyc6CiAgICAgICAgICAgIGRpcmVjdEV2ZW50cy5wdXNoKCdmb2N1cycpOwogICAgICAgICAgICBvcHBvc2l0ZUV2ZW50cy5wdXNoKCdibHVyJyk7CiAgICAgICAgICAgIGlmIChfdGhpczcub3B0aW9ucy5oaWRlT25UYXJnZXRDbGljaykgb3Bwb3NpdGVFdmVudHMucHVzaCgnY2xpY2snKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnY2xpY2snOgogICAgICAgICAgICBkaXJlY3RFdmVudHMucHVzaCgnY2xpY2snKTsKICAgICAgICAgICAgb3Bwb3NpdGVFdmVudHMucHVzaCgnY2xpY2snKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsgLy8gc2NoZWR1bGUgc2hvdyB0b29sdGlwCgogICAgICBkaXJlY3RFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uIGZ1bmMoZXZ0KSB7CiAgICAgICAgICBpZiAoX3RoaXM3Ll9pc09wZW4gPT09IHRydWUpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGV2dC51c2VkQnlUb29sdGlwID0gdHJ1ZTsKCiAgICAgICAgICBfdGhpczcuX3NjaGVkdWxlU2hvdyhyZWZlcmVuY2UsIG9wdGlvbnMuZGVsYXksIG9wdGlvbnMsIGV2dCk7CiAgICAgICAgfTsKCiAgICAgICAgX3RoaXM3Ll9ldmVudHMucHVzaCh7CiAgICAgICAgICBldmVudDogZXZlbnQsCiAgICAgICAgICBmdW5jOiBmdW5jCiAgICAgICAgfSk7CgogICAgICAgIHJlZmVyZW5jZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jKTsKICAgICAgfSk7IC8vIHNjaGVkdWxlIGhpZGUgdG9vbHRpcAoKICAgICAgb3Bwb3NpdGVFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uIGZ1bmMoZXZ0KSB7CiAgICAgICAgICBpZiAoZXZ0LnVzZWRCeVRvb2x0aXAgPT09IHRydWUpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNy5fc2NoZWR1bGVIaWRlKHJlZmVyZW5jZSwgb3B0aW9ucy5kZWxheSwgb3B0aW9ucywgZXZ0KTsKICAgICAgICB9OwoKICAgICAgICBfdGhpczcuX2V2ZW50cy5wdXNoKHsKICAgICAgICAgIGV2ZW50OiBldmVudCwKICAgICAgICAgIGZ1bmM6IGZ1bmMKICAgICAgICB9KTsKCiAgICAgICAgcmVmZXJlbmNlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bmMpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfb25Eb2N1bWVudFRvdWNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Eb2N1bWVudFRvdWNoKGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLl9lbmFibGVEb2N1bWVudFRvdWNoKSB7CiAgICAgICAgdGhpcy5fc2NoZWR1bGVIaWRlKHRoaXMucmVmZXJlbmNlLCB0aGlzLm9wdGlvbnMuZGVsYXksIHRoaXMub3B0aW9ucywgZXZlbnQpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiX3NjaGVkdWxlU2hvdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3NjaGVkdWxlU2hvdyhyZWZlcmVuY2UsIGRlbGF5LCBvcHRpb25zCiAgICAvKiwgZXZ0ICovCiAgICApIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICAvLyBkZWZhdWx0cyB0byAwCiAgICAgIHZhciBjb21wdXRlZERlbGF5ID0gZGVsYXkgJiYgZGVsYXkuc2hvdyB8fCBkZWxheSB8fCAwOwogICAgICBjbGVhclRpbWVvdXQodGhpcy5fc2NoZWR1bGVUaW1lcik7CiAgICAgIHRoaXMuX3NjaGVkdWxlVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzOC5fc2hvdyhyZWZlcmVuY2UsIG9wdGlvbnMpOwogICAgICB9LCBjb21wdXRlZERlbGF5KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfc2NoZWR1bGVIaWRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfc2NoZWR1bGVIaWRlKHJlZmVyZW5jZSwgZGVsYXksIG9wdGlvbnMsIGV2dCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIC8vIGRlZmF1bHRzIHRvIDAKICAgICAgdmFyIGNvbXB1dGVkRGVsYXkgPSBkZWxheSAmJiBkZWxheS5oaWRlIHx8IGRlbGF5IHx8IDA7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zY2hlZHVsZVRpbWVyKTsKICAgICAgdGhpcy5fc2NoZWR1bGVUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXM5Ll9pc09wZW4gPT09IGZhbHNlKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoIV90aGlzOS5fdG9vbHRpcE5vZGUub3duZXJEb2N1bWVudC5ib2R5LmNvbnRhaW5zKF90aGlzOS5fdG9vbHRpcE5vZGUpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAvLyBpZiB3ZSBhcmUgaGlkaW5nIGJlY2F1c2Ugb2YgYSBtb3VzZWxlYXZlLCB3ZSBtdXN0IGNoZWNrIHRoYXQgdGhlIG5ldwogICAgICAgIC8vIHJlZmVyZW5jZSBpc24ndCB0aGUgdG9vbHRpcCwgYmVjYXVzZSBpbiB0aGlzIGNhc2Ugd2UgZG9uJ3Qgd2FudCB0byBoaWRlIGl0CgoKICAgICAgICBpZiAoZXZ0LnR5cGUgPT09ICdtb3VzZWxlYXZlJykgewogICAgICAgICAgdmFyIGlzU2V0ID0gX3RoaXM5Ll9zZXRUb29sdGlwTm9kZUV2ZW50KGV2dCwgcmVmZXJlbmNlLCBkZWxheSwgb3B0aW9ucyk7IC8vIGlmIHdlIHNldCB0aGUgbmV3IGV2ZW50LCBkb24ndCBoaWRlIHRoZSB0b29sdGlwIHlldAogICAgICAgICAgLy8gdGhlIG5ldyBldmVudCB3aWxsIHRha2UgY2FyZSB0byBoaWRlIGl0IGlmIG5lY2Vzc2FyeQoKCiAgICAgICAgICBpZiAoaXNTZXQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgX3RoaXM5Ll9oaWRlKHJlZmVyZW5jZSwgb3B0aW9ucyk7CiAgICAgIH0sIGNvbXB1dGVkRGVsYXkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFRvb2x0aXA7Cn0oKTsgLy8gSGlkZSB0b29sdGlwcyBvbiB0b3VjaCBkZXZpY2VzCgoKZXhwb3J0IHsgVG9vbHRpcCBhcyBkZWZhdWx0IH07CgppZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykgewogIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlblRvb2x0aXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgIG9wZW5Ub29sdGlwc1tpXS5fb25Eb2N1bWVudFRvdWNoKGV2ZW50KTsKICAgIH0KICB9LCBzdXBwb3J0c1Bhc3NpdmUgPyB7CiAgICBwYXNzaXZlOiB0cnVlLAogICAgY2FwdHVyZTogdHJ1ZQogIH0gOiB0cnVlKTsKfQovKioNCiAqIFBsYWNlbWVudCBmdW5jdGlvbiwgaXRzIGNvbnRleHQgaXMgdGhlIFRvb2x0aXAgaW5zdGFuY2UuDQogKiBAbWVtYmVyb2YgVG9vbHRpcA0KICogQGNhbGxiYWNrIFBsYWNlbWVudEZ1bmN0aW9uDQogKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0b29sdGlwIC0gdG9vbHRpcCBET00gbm9kZS4NCiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZSAtIHJlZmVyZW5jZSBET00gbm9kZS4NCiAqIEByZXR1cm4ge1N0cmluZ30gcGxhY2VtZW50IC0gT25lIG9mIHRoZSBhbGxvd2VkIHBsYWNlbWVudCBvcHRpb25zLg0KICovCgovKioNCiAqIFRpdGxlIGZ1bmN0aW9uLCBpdHMgY29udGV4dCBpcyB0aGUgVG9vbHRpcCBpbnN0YW5jZS4NCiAqIEBtZW1iZXJvZiBUb29sdGlwDQogKiBAY2FsbGJhY2sgVGl0bGVGdW5jdGlvbg0KICogQHJldHVybiB7U3RyaW5nfSBwbGFjZW1lbnQgLSBUaGUgZGVzaXJlZCB0aXRsZS4NCiAqLw=="},null]}