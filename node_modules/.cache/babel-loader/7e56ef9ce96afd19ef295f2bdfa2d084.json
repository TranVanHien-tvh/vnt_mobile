{"remainingRequest":"D:\\VNT_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\VNT_vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\VNT_vue\\src\\apis\\base\\axiosHttpClient.js","dependencies":[{"path":"D:\\VNT_vue\\src\\apis\\base\\axiosHttpClient.js","mtime":1653205085530},{"path":"D:\\VNT_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VNT_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VNT_vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiRDovVk5UX3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1ZOVF92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkQ6L1ZOVF92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9WTlRfdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBRcyBmcm9tICJxcyI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3Jlcy9zdG9yZSI7CmltcG9ydCBjb21tb25GbiBmcm9tICJAL2NvbW1vbnMvY29tbW9uRnVuY3Rpb24iOwppbXBvcnQgaTE4biBmcm9tICJAL2kxOG5zL2kxOG4iOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBtZXNzYWdlQm94IGZyb20gJ0AvY29tbW9ucy9tZXNzYWdlQm94JzsgLy8gRGFuaCBzw6FjaCDEkeG7kWkgdMaw4bujbmcgY+G6p24geOG7rSBsw70gY2FuY2VsIHJlcXVlc3QKCnZhciBjYW5jZWxSZXF1ZXN0cyA9IFtdOwovKioNCiAqIEzhu5twIG7DoHkgZMO5bmcgxJHhu4MgdGhhbyB0w6FjIHbhu5tpIHJlc3RmdWwNCiAqLwoKdmFyIEF4aW9zSHR0cENsaWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXhpb3NIdHRwQ2xpZW50KCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF4aW9zSHR0cENsaWVudCk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXhpb3NIdHRwQ2xpZW50LCBbewogICAga2V5OiAicG9zdEFzeW5jIiwKICAgIHZhbHVlOgogICAgLyoqDQogICAgICogY29uZmlnOiBBeGlvc1JlcXVlc3RDb25maWcNCiAgICAgKiBAcGFyYW0gY29uZmlnOiB7DQogICAgICogdXJsPzogc3RyaW5nOw0KICAgICAqIG1ldGhvZD86IHN0cmluZzsNCiAgICAgKiBiYXNlVVJMPzogc3RyaW5nOw0KICAgICAqIHRyYW5zZm9ybVJlcXVlc3Q/OiBBeGlvc1RyYW5zZm9ybWVyIHwgQXhpb3NUcmFuc2Zvcm1lcltdOw0KICAgICAqIHRyYW5zZm9ybVJlc3BvbnNlPzogQXhpb3NUcmFuc2Zvcm1lciB8IEF4aW9zVHJhbnNmb3JtZXJbXTsNCiAgICAgKiBoZWFkZXJzPzogYW55Ow0KICAgICAqIHBhcmFtcz86IGFueTsNCiAgICAgKiBwYXJhbXNTZXJpYWxpemVyPzogKHBhcmFtczogYW55KSA9PiBzdHJpbmc7DQogICAgICogZGF0YT86IGFueTsNCiAgICAgKiB0aW1lb3V0PzogbnVtYmVyOw0KICAgICAqIHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW47DQogICAgICogYWRhcHRlcj86IEF4aW9zQWRhcHRlcjsNCiAgICAgKiBhdXRoPzogQXhpb3NCYXNpY0NyZWRlbnRpYWxzOw0KICAgICAqIHJlc3BvbnNlVHlwZT86IHN0cmluZzsNCiAgICAgKiB4c3JmQ29va2llTmFtZT86IHN0cmluZzsNCiAgICAgKiB4c3JmSGVhZGVyTmFtZT86IHN0cmluZzsNCiAgICAgKiBvblVwbG9hZFByb2dyZXNzPzogKHByb2dyZXNzRXZlbnQ6IGFueSkgPT4gdm9pZDsNCiAgICAgKiBvbkRvd25sb2FkUHJvZ3Jlc3M/OiAocHJvZ3Jlc3NFdmVudDogYW55KSA9PiB2b2lkOw0KICAgICAqIG1heENvbnRlbnRMZW5ndGg/OiBudW1iZXI7DQogICAgICogdmFsaWRhdGVTdGF0dXM/OiAoc3RhdHVzOiBudW1iZXIpID0+IGJvb2xlYW47DQogICAgICogbWF4UmVkaXJlY3RzPzogbnVtYmVyOw0KICAgICAqIGh0dHBBZ2VudD86IGFueTsNCiAgICAgKiBodHRwc0FnZW50PzogYW55Ow0KICAgICAqIHByb3h5PzogQXhpb3NQcm94eUNvbmZpZyB8IGZhbHNlOw0KICAgICAqIGNhbmNlbFRva2VuPzogQ2FuY2VsVG9rZW47DQogICAgICogfQ0KICAgICAqIEBwYXJhbSBtZXRob2Q6IFBPU1QsIFBVVCwgR0VULCBERUxURQ0KICAgICAqIEBwYXJhbSBpc1Nob3dMb2FkaW5nOiBjw7MgY2hvIGxvYWRpbmcgaGF5IGtow7RuZywgaGnhu4NuIHRo4buLIGxvYWRpbmcgY2hvIG5nxrDhu51pIGTDuW5nDQogICAgICogQHBhcmFtIGlzQ2FuY2VsUmVxdWVzdDogY8OzIGNobyBwaMOpcCBo4buneSByZXF1ZXN0IGPDuW5nIHVybCB2w6AgbWV0aG9kIGhheSBraMO0bmcNCiAgICAgKiBAcGFyYW0gY29udGVuVHlwZTogYXBwbGljYXRpb24vanNvbiwgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkLCBtdWx0aXBhcnQvZm9ybS1kYXRhDQogICAgICovCiAgICBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcG9zdEFzeW5jID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGNvbmZpZykgewogICAgICAgIHZhciBpc1Nob3dMb2FkaW5nLAogICAgICAgICAgICBpc0NhbmNlbFJlcXVlc3QsCiAgICAgICAgICAgIGNvbnRlblR5cGUsCiAgICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlzU2hvd0xvYWRpbmcgPSBfYXJncy5sZW5ndGggPiAxICYmIF9hcmdzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnc1sxXSA6IGZhbHNlOwogICAgICAgICAgICAgICAgaXNDYW5jZWxSZXF1ZXN0ID0gX2FyZ3MubGVuZ3RoID4gMiAmJiBfYXJnc1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMl0gOiB0cnVlOwogICAgICAgICAgICAgICAgY29udGVuVHlwZSA9IF9hcmdzLmxlbmd0aCA+IDMgJiYgX2FyZ3NbM10gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzNdIDogQXBwbGljYXRpb25Kc29uOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QXN5bmMoY29uZmlnLCBQT1NULCBpc1Nob3dMb2FkaW5nLCBpc0NhbmNlbFJlcXVlc3QsIGNvbnRlblR5cGUpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHBvc3RBc3luYyhfeCkgewogICAgICAgIHJldHVybiBfcG9zdEFzeW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwb3N0QXN5bmM7CiAgICB9KCkKICAgIC8qKg0KICAgICAqIGNvbmZpZzogQXhpb3NSZXF1ZXN0Q29uZmlnDQogICAgICogQHBhcmFtIGNvbmZpZzogew0KICAgICAqIHVybD86IHN0cmluZzsNCiAgICAgKiBtZXRob2Q/OiBzdHJpbmc7DQogICAgICogYmFzZVVSTD86IHN0cmluZzsNCiAgICAgKiB0cmFuc2Zvcm1SZXF1ZXN0PzogQXhpb3NUcmFuc2Zvcm1lciB8IEF4aW9zVHJhbnNmb3JtZXJbXTsNCiAgICAgKiB0cmFuc2Zvcm1SZXNwb25zZT86IEF4aW9zVHJhbnNmb3JtZXIgfCBBeGlvc1RyYW5zZm9ybWVyW107DQogICAgICogaGVhZGVycz86IGFueTsNCiAgICAgKiBwYXJhbXM/OiBhbnk7DQogICAgICogcGFyYW1zU2VyaWFsaXplcj86IChwYXJhbXM6IGFueSkgPT4gc3RyaW5nOw0KICAgICAqIGRhdGE/OiBhbnk7DQogICAgICogdGltZW91dD86IG51bWJlcjsNCiAgICAgKiB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuOw0KICAgICAqIGFkYXB0ZXI/OiBBeGlvc0FkYXB0ZXI7DQogICAgICogYXV0aD86IEF4aW9zQmFzaWNDcmVkZW50aWFsczsNCiAgICAgKiByZXNwb25zZVR5cGU/OiBzdHJpbmc7DQogICAgICogeHNyZkNvb2tpZU5hbWU/OiBzdHJpbmc7DQogICAgICogeHNyZkhlYWRlck5hbWU/OiBzdHJpbmc7DQogICAgICogb25VcGxvYWRQcm9ncmVzcz86IChwcm9ncmVzc0V2ZW50OiBhbnkpID0+IHZvaWQ7DQogICAgICogb25Eb3dubG9hZFByb2dyZXNzPzogKHByb2dyZXNzRXZlbnQ6IGFueSkgPT4gdm9pZDsNCiAgICAgKiBtYXhDb250ZW50TGVuZ3RoPzogbnVtYmVyOw0KICAgICAqIHZhbGlkYXRlU3RhdHVzPzogKHN0YXR1czogbnVtYmVyKSA9PiBib29sZWFuOw0KICAgICAqIG1heFJlZGlyZWN0cz86IG51bWJlcjsNCiAgICAgKiBodHRwQWdlbnQ/OiBhbnk7DQogICAgICogaHR0cHNBZ2VudD86IGFueTsNCiAgICAgKiBwcm94eT86IEF4aW9zUHJveHlDb25maWcgfCBmYWxzZTsNCiAgICAgKiBjYW5jZWxUb2tlbj86IENhbmNlbFRva2VuOw0KICAgICAqIH0NCiAgICAgKiBAcGFyYW0gbWV0aG9kOiBQT1NULCBQVVQsIEdFVCwgREVMVEUNCiAgICAgKiBAcGFyYW0gaXNTaG93TG9hZGluZzogY8OzIGNobyBsb2FkaW5nIGhheSBraMO0bmcsIGhp4buDbiB0aOG7iyBsb2FkaW5nIGNobyBuZ8aw4budaSBkw7luZw0KICAgICAqIEBwYXJhbSBpc0NhbmNlbFJlcXVlc3Q6IGPDsyBjaG8gcGjDqXAgaOG7p3kgcmVxdWVzdCBjw7luZyB1cmwgdsOgIG1ldGhvZCBoYXkga2jDtG5nDQogICAgICogQHBhcmFtIGNvbnRlblR5cGU6IGFwcGxpY2F0aW9uL2pzb24sIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCwgbXVsdGlwYXJ0L2Zvcm0tZGF0YQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJwdXRBc3luYyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3B1dEFzeW5jID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjb25maWcpIHsKICAgICAgICB2YXIgaXNTaG93TG9hZGluZywKICAgICAgICAgICAgaXNDYW5jZWxSZXF1ZXN0LAogICAgICAgICAgICBjb250ZW5UeXBlLAogICAgICAgICAgICBfYXJnczIgPSBhcmd1bWVudHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlzU2hvd0xvYWRpbmcgPSBfYXJnczIubGVuZ3RoID4gMSAmJiBfYXJnczJbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMlsxXSA6IGZhbHNlOwogICAgICAgICAgICAgICAgaXNDYW5jZWxSZXF1ZXN0ID0gX2FyZ3MyLmxlbmd0aCA+IDIgJiYgX2FyZ3MyWzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczJbMl0gOiB0cnVlOwogICAgICAgICAgICAgICAgY29udGVuVHlwZSA9IF9hcmdzMi5sZW5ndGggPiAzICYmIF9hcmdzMlszXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzNdIDogQXBwbGljYXRpb25Kc29uOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdEFzeW5jKGNvbmZpZywgUFVULCBpc1Nob3dMb2FkaW5nLCBpc0NhbmNlbFJlcXVlc3QsIGNvbnRlblR5cGUpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBwdXRBc3luYyhfeDIpIHsKICAgICAgICByZXR1cm4gX3B1dEFzeW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwdXRBc3luYzsKICAgIH0oKQogICAgLyoqDQogICAgICogY29uZmlnOiBBeGlvc1JlcXVlc3RDb25maWcNCiAgICAgKiBAcGFyYW0gY29uZmlnOiB7DQogICAgICogdXJsPzogc3RyaW5nOw0KICAgICAqIG1ldGhvZD86IHN0cmluZzsNCiAgICAgKiBiYXNlVVJMPzogc3RyaW5nOw0KICAgICAqIHRyYW5zZm9ybVJlcXVlc3Q/OiBBeGlvc1RyYW5zZm9ybWVyIHwgQXhpb3NUcmFuc2Zvcm1lcltdOw0KICAgICAqIHRyYW5zZm9ybVJlc3BvbnNlPzogQXhpb3NUcmFuc2Zvcm1lciB8IEF4aW9zVHJhbnNmb3JtZXJbXTsNCiAgICAgKiBoZWFkZXJzPzogYW55Ow0KICAgICAqIHBhcmFtcz86IGFueTsNCiAgICAgKiBwYXJhbXNTZXJpYWxpemVyPzogKHBhcmFtczogYW55KSA9PiBzdHJpbmc7DQogICAgICogZGF0YT86IGFueTsNCiAgICAgKiB0aW1lb3V0PzogbnVtYmVyOw0KICAgICAqIHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW47DQogICAgICogYWRhcHRlcj86IEF4aW9zQWRhcHRlcjsNCiAgICAgKiBhdXRoPzogQXhpb3NCYXNpY0NyZWRlbnRpYWxzOw0KICAgICAqIHJlc3BvbnNlVHlwZT86IHN0cmluZzsNCiAgICAgKiB4c3JmQ29va2llTmFtZT86IHN0cmluZzsNCiAgICAgKiB4c3JmSGVhZGVyTmFtZT86IHN0cmluZzsNCiAgICAgKiBvblVwbG9hZFByb2dyZXNzPzogKHByb2dyZXNzRXZlbnQ6IGFueSkgPT4gdm9pZDsNCiAgICAgKiBvbkRvd25sb2FkUHJvZ3Jlc3M/OiAocHJvZ3Jlc3NFdmVudDogYW55KSA9PiB2b2lkOw0KICAgICAqIG1heENvbnRlbnRMZW5ndGg/OiBudW1iZXI7DQogICAgICogdmFsaWRhdGVTdGF0dXM/OiAoc3RhdHVzOiBudW1iZXIpID0+IGJvb2xlYW47DQogICAgICogbWF4UmVkaXJlY3RzPzogbnVtYmVyOw0KICAgICAqIGh0dHBBZ2VudD86IGFueTsNCiAgICAgKiBodHRwc0FnZW50PzogYW55Ow0KICAgICAqIHByb3h5PzogQXhpb3NQcm94eUNvbmZpZyB8IGZhbHNlOw0KICAgICAqIGNhbmNlbFRva2VuPzogQ2FuY2VsVG9rZW47DQogICAgICogfQ0KICAgICAqIEBwYXJhbSBtZXRob2Q6IFBPU1QsIFBVVCwgR0VULCBERUxURQ0KICAgICAqIEBwYXJhbSBpc1Nob3dMb2FkaW5nOiBjw7MgY2hvIGxvYWRpbmcgaGF5IGtow7RuZywgaGnhu4NuIHRo4buLIGxvYWRpbmcgY2hvIG5nxrDhu51pIGTDuW5nDQogICAgICogQHBhcmFtIGlzQ2FuY2VsUmVxdWVzdDogY8OzIGNobyBwaMOpcCBo4buneSByZXF1ZXN0IGPDuW5nIHVybCB2w6AgbWV0aG9kIGhheSBraMO0bmcNCiAgICAgKiBAcGFyYW0gY29udGVuVHlwZTogYXBwbGljYXRpb24vanNvbiwgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkLCBtdWx0aXBhcnQvZm9ybS1kYXRhDQogICAgICovCgogIH0sIHsKICAgIGtleTogImRlbGV0ZUFzeW5jIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZGVsZXRlQXN5bmMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGNvbmZpZykgewogICAgICAgIHZhciBpc1Nob3dMb2FkaW5nLAogICAgICAgICAgICBpc0NhbmNlbFJlcXVlc3QsCiAgICAgICAgICAgIGNvbnRlblR5cGUsCiAgICAgICAgICAgIF9hcmdzMyA9IGFyZ3VtZW50czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaXNTaG93TG9hZGluZyA9IF9hcmdzMy5sZW5ndGggPiAxICYmIF9hcmdzM1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzWzFdIDogZmFsc2U7CiAgICAgICAgICAgICAgICBpc0NhbmNlbFJlcXVlc3QgPSBfYXJnczMubGVuZ3RoID4gMiAmJiBfYXJnczNbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzM1syXSA6IHRydWU7CiAgICAgICAgICAgICAgICBjb250ZW5UeXBlID0gX2FyZ3MzLmxlbmd0aCA+IDMgJiYgX2FyZ3MzWzNdICE9PSB1bmRlZmluZWQgPyBfYXJnczNbM10gOiBBcHBsaWNhdGlvbkpzb247CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QXN5bmMoY29uZmlnLCBERUxFVEUsIGlzU2hvd0xvYWRpbmcsIGlzQ2FuY2VsUmVxdWVzdCwgY29udGVuVHlwZSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDMuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUFzeW5jKF94MykgewogICAgICAgIHJldHVybiBfZGVsZXRlQXN5bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRlbGV0ZUFzeW5jOwogICAgfSgpCiAgICAvKioNCiAgICAgKiBjb25maWc6IEF4aW9zUmVxdWVzdENvbmZpZw0KICAgICAqIEBwYXJhbSBjb25maWc6IHsNCiAgICAgKiB1cmw/OiBzdHJpbmc7DQogICAgICogbWV0aG9kPzogc3RyaW5nOw0KICAgICAqIGJhc2VVUkw/OiBzdHJpbmc7DQogICAgICogdHJhbnNmb3JtUmVxdWVzdD86IEF4aW9zVHJhbnNmb3JtZXIgfCBBeGlvc1RyYW5zZm9ybWVyW107DQogICAgICogdHJhbnNmb3JtUmVzcG9uc2U/OiBBeGlvc1RyYW5zZm9ybWVyIHwgQXhpb3NUcmFuc2Zvcm1lcltdOw0KICAgICAqIGhlYWRlcnM/OiBhbnk7DQogICAgICogcGFyYW1zPzogYW55Ow0KICAgICAqIHBhcmFtc1NlcmlhbGl6ZXI/OiAocGFyYW1zOiBhbnkpID0+IHN0cmluZzsNCiAgICAgKiBkYXRhPzogYW55Ow0KICAgICAqIHRpbWVvdXQ/OiBudW1iZXI7DQogICAgICogd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjsNCiAgICAgKiBhZGFwdGVyPzogQXhpb3NBZGFwdGVyOw0KICAgICAqIGF1dGg/OiBBeGlvc0Jhc2ljQ3JlZGVudGlhbHM7DQogICAgICogcmVzcG9uc2VUeXBlPzogc3RyaW5nOw0KICAgICAqIHhzcmZDb29raWVOYW1lPzogc3RyaW5nOw0KICAgICAqIHhzcmZIZWFkZXJOYW1lPzogc3RyaW5nOw0KICAgICAqIG9uVXBsb2FkUHJvZ3Jlc3M/OiAocHJvZ3Jlc3NFdmVudDogYW55KSA9PiB2b2lkOw0KICAgICAqIG9uRG93bmxvYWRQcm9ncmVzcz86IChwcm9ncmVzc0V2ZW50OiBhbnkpID0+IHZvaWQ7DQogICAgICogbWF4Q29udGVudExlbmd0aD86IG51bWJlcjsNCiAgICAgKiB2YWxpZGF0ZVN0YXR1cz86IChzdGF0dXM6IG51bWJlcikgPT4gYm9vbGVhbjsNCiAgICAgKiBtYXhSZWRpcmVjdHM/OiBudW1iZXI7DQogICAgICogaHR0cEFnZW50PzogYW55Ow0KICAgICAqIGh0dHBzQWdlbnQ/OiBhbnk7DQogICAgICogcHJveHk/OiBBeGlvc1Byb3h5Q29uZmlnIHwgZmFsc2U7DQogICAgICogY2FuY2VsVG9rZW4/OiBDYW5jZWxUb2tlbjsNCiAgICAgKiB9DQogICAgICogQHBhcmFtIG1ldGhvZDogUE9TVCwgUFVULCBHRVQsIERFTFRFDQogICAgICogQHBhcmFtIGlzU2hvd0xvYWRpbmc6IGPDsyBjaG8gbG9hZGluZyBoYXkga2jDtG5nLCBoaeG7g24gdGjhu4sgbG9hZGluZyBjaG8gbmfGsOG7nWkgZMO5bmcNCiAgICAgKiBAcGFyYW0gaXNDYW5jZWxSZXF1ZXN0OiBjw7MgY2hvIHBow6lwIGjhu6d5IHJlcXVlc3QgY8O5bmcgdXJsIHbDoCBtZXRob2QgaGF5IGtow7RuZw0KICAgICAqIEBwYXJhbSBjb250ZW5UeXBlOiBhcHBsaWNhdGlvbi9qc29uLCBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQsIG11bHRpcGFydC9mb3JtLWRhdGENCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0QXN5bmMiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRBc3luYyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoY29uZmlnKSB7CiAgICAgICAgdmFyIGlzU2hvd0xvYWRpbmcsCiAgICAgICAgICAgIGlzQ2FuY2VsUmVxdWVzdCwKICAgICAgICAgICAgY29udGVuVHlwZSwKICAgICAgICAgICAgX2FyZ3M0ID0gYXJndW1lbnRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpc1Nob3dMb2FkaW5nID0gX2FyZ3M0Lmxlbmd0aCA+IDEgJiYgX2FyZ3M0WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczRbMV0gOiBmYWxzZTsKICAgICAgICAgICAgICAgIGlzQ2FuY2VsUmVxdWVzdCA9IF9hcmdzNC5sZW5ndGggPiAyICYmIF9hcmdzNFsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0WzJdIDogdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbnRlblR5cGUgPSBfYXJnczQubGVuZ3RoID4gMyAmJiBfYXJnczRbM10gIT09IHVuZGVmaW5lZCA/IF9hcmdzNFszXSA6IEFwcGxpY2F0aW9uSnNvbjsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RBc3luYyhjb25maWcsIEdFVCwgaXNTaG93TG9hZGluZywgaXNDYW5jZWxSZXF1ZXN0LCBjb250ZW5UeXBlKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NC5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0QXN5bmMoX3g0KSB7CiAgICAgICAgcmV0dXJuIF9nZXRBc3luYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0QXN5bmM7CiAgICB9KCkKICAgIC8qKg0KICAgICAqIGNvbmZpZzogQXhpb3NSZXF1ZXN0Q29uZmlnDQogICAgICogQHBhcmFtIGNvbmZpZzogew0KICAgICAqIHVybD86IHN0cmluZzsNCiAgICAgKiBtZXRob2Q/OiBzdHJpbmc7DQogICAgICogYmFzZVVSTD86IHN0cmluZzsNCiAgICAgKiB0cmFuc2Zvcm1SZXF1ZXN0PzogQXhpb3NUcmFuc2Zvcm1lciB8IEF4aW9zVHJhbnNmb3JtZXJbXTsNCiAgICAgKiB0cmFuc2Zvcm1SZXNwb25zZT86IEF4aW9zVHJhbnNmb3JtZXIgfCBBeGlvc1RyYW5zZm9ybWVyW107DQogICAgICogaGVhZGVycz86IGFueTsNCiAgICAgKiBwYXJhbXM/OiBhbnk7DQogICAgICogcGFyYW1zU2VyaWFsaXplcj86IChwYXJhbXM6IGFueSkgPT4gc3RyaW5nOw0KICAgICAqIGRhdGE/OiBhbnk7DQogICAgICogdGltZW91dD86IG51bWJlcjsNCiAgICAgKiB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuOw0KICAgICAqIGFkYXB0ZXI/OiBBeGlvc0FkYXB0ZXI7DQogICAgICogYXV0aD86IEF4aW9zQmFzaWNDcmVkZW50aWFsczsNCiAgICAgKiByZXNwb25zZVR5cGU/OiBzdHJpbmc7DQogICAgICogeHNyZkNvb2tpZU5hbWU/OiBzdHJpbmc7DQogICAgICogeHNyZkhlYWRlck5hbWU/OiBzdHJpbmc7DQogICAgICogb25VcGxvYWRQcm9ncmVzcz86IChwcm9ncmVzc0V2ZW50OiBhbnkpID0+IHZvaWQ7DQogICAgICogb25Eb3dubG9hZFByb2dyZXNzPzogKHByb2dyZXNzRXZlbnQ6IGFueSkgPT4gdm9pZDsNCiAgICAgKiBtYXhDb250ZW50TGVuZ3RoPzogbnVtYmVyOw0KICAgICAqIHZhbGlkYXRlU3RhdHVzPzogKHN0YXR1czogbnVtYmVyKSA9PiBib29sZWFuOw0KICAgICAqIG1heFJlZGlyZWN0cz86IG51bWJlcjsNCiAgICAgKiBodHRwQWdlbnQ/OiBhbnk7DQogICAgICogaHR0cHNBZ2VudD86IGFueTsNCiAgICAgKiBwcm94eT86IEF4aW9zUHJveHlDb25maWcgfCBmYWxzZTsNCiAgICAgKiBjYW5jZWxUb2tlbj86IENhbmNlbFRva2VuOw0KICAgICAqIH0NCiAgICAgKiBAcGFyYW0gbWV0aG9kOiBQT1NULCBQVVQsIEdFVCwgREVMVEUNCiAgICAgKiBAcGFyYW0gaXNTaG93TG9hZGluZzogY8OzIGNobyBsb2FkaW5nIGhheSBraMO0bmcsIGhp4buDbiB0aOG7iyBsb2FkaW5nIGNobyBuZ8aw4budaSBkw7luZw0KICAgICAqIEBwYXJhbSBpc0NhbmNlbFJlcXVlc3Q6IGPDsyBjaG8gcGjDqXAgaOG7p3kgcmVxdWVzdCBjw7luZyB1cmwgdsOgIG1ldGhvZCBoYXkga2jDtG5nDQogICAgICogQHBhcmFtIGNvbnRlblR5cGU6IGFwcGxpY2F0aW9uL2pzb24sIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCwgbXVsdGlwYXJ0L2Zvcm0tZGF0YQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJyZXF1ZXN0QXN5bmMiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZXF1ZXN0QXN5bmMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KGNvbmZpZywgbWV0aG9kKSB7CiAgICAgICAgdmFyIGlzU2hvd0xvYWRpbmcsCiAgICAgICAgICAgIGlzQ2FuY2VsUmVxdWVzdCwKICAgICAgICAgICAgY29udGVuVHlwZSwKICAgICAgICAgICAgcmVzdWx0LAogICAgICAgICAgICBlcnJvciwKICAgICAgICAgICAgX2FyZ3M1ID0gYXJndW1lbnRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpc1Nob3dMb2FkaW5nID0gX2FyZ3M1Lmxlbmd0aCA+IDIgJiYgX2FyZ3M1WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczVbMl0gOiBmYWxzZTsKICAgICAgICAgICAgICAgIGlzQ2FuY2VsUmVxdWVzdCA9IF9hcmdzNS5sZW5ndGggPiAzICYmIF9hcmdzNVszXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M1WzNdIDogdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbnRlblR5cGUgPSBfYXJnczUubGVuZ3RoID4gNCAmJiBfYXJnczVbNF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNVs0XSA6IEFwcGxpY2F0aW9uSnNvbjsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMzsKICAgICAgICAgICAgICAgIGNvbW1vbkZuLmluZm9Mb2dnaW5nKCJyZXF1ZXN0QXN5bmM6OnVybDo6Ii5jb25jYXQoY29uZmlnLnVybCkpOyAvLyBD4bqtcCBuaOG6rXQgY8OhYyB0aGFtIHPhu5EgY+G7p2EgaGVhZGVycwoKICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NIZWFkZXJzKGNvbmZpZyk7IC8vIEPhuq1wIG5o4bqtdCBkYXRhCgoKICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NEYXRhT3JQYXJhbXMoY29uZmlnLCBtZXRob2QsIGNvbnRlblR5cGUpOyAvLyBM4bqleSBrZXkgdHJvbmcgZGFuaCBzw6FjaCBo4buneSByZXF1ZXN0CiAgICAgICAgICAgICAgICAvLyBsZXQga2V5ID0gdGhpcy5fZ2V0S2V5KGNvbmZpZyk7CiAgICAgICAgICAgICAgICAvLyBUaMOqbSBjYW5jZWxyZXF1ZXN0IHbDoG8gZGFuaCBzw6FjaCBo4buneQogICAgICAgICAgICAgICAgLy8gbGV0IGNhbmNlbFJlcXVlc3QgPSB0aGlzLl9hZGRDYW5jZWxSZXF1ZXN0KGNvbmZpZywga2V5LCBpc0NhbmNlbFJlcXVlc3QpOwogICAgICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIGxvYWRpbmcKCgogICAgICAgICAgICAgICAgdGhpcy5fc2V0TG9hZGluZyhpc1Nob3dMb2FkaW5nLCB0cnVlKTsgLy8gVGjhu7FjIGhp4buHbiBn4buNaSBzZXJ2aWNlCgoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoY29uZmlnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIC8vICAgLy8gTG9nIGvhur90IHF14bqjCiAgICAgICAgICAgICAgICAvLyAgIGNvbW1vbkZuLmluZm9Mb2dnaW5nKCJyZXF1ZXN0QXN5bmM6OnJlc3VsdDo6YmVnaW4iKTsKICAgICAgICAgICAgICAgIC8vICAgY29tbW9uRm4uaW5mb0xvZ2dpbmcocmVzdWx0KTsKICAgICAgICAgICAgICAgIC8vICAgY29tbW9uRm4uaW5mb0xvZ2dpbmcoInJlcXVlc3RBc3luYzo6cmVzdWx0OjplbmQiKTsKICAgICAgICAgICAgICAgIC8vIOG6qG4gbG9hZGluZwogICAgICAgICAgICAgICAgdGhpcy5fc2V0TG9hZGluZyhpc1Nob3dMb2FkaW5nLCBmYWxzZSk7IC8vIC8vIEjhu6d5IHJlcXVlc3QKICAgICAgICAgICAgICAgIC8vIHRoaXMuX3JlbW92ZVJlcXVlc3QoY2FuY2VsUmVxdWVzdCwgImZpbmlzaCIpOwogICAgICAgICAgICAgICAgLy8gVHLhuqMga+G6v3QgcXXhuqMgeOG7rSBsw70gdGjDoG5oIGPDtG5nCgoKICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8veOG7rSBsw70ga+G6v3QgcXXhuqMgdHLGsOG7m2Mga2hpIHJldHVybgogICAgICAgICAgICAgICAgY29tbW9uRm4ucHJvY2Vzc1NlcnZlclJlc3BvbnNlRGF0YShyZXN1bHQuZGF0YSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0LmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgICAgU3VjY2VzczogZmFsc2UsCiAgICAgICAgICAgICAgICAgIERhdGE6IG51bGwsCiAgICAgICAgICAgICAgICAgIENvZGU6IDAsCiAgICAgICAgICAgICAgICAgIE1lc3NhZ2U6IGkxOG4udCgiaTE4bkNvbW1vbi5DYW5jZWxSZXF1ZXN0IiksCiAgICAgICAgICAgICAgICAgIE1lc3NhZ2VEZXY6ICIiCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMTg7CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgICBlcnJvciA9IF9jb250ZXh0NS50MDsgLy9Mb2cgbOG7l2kKCiAgICAgICAgICAgICAgICBjb21tb25Gbi5lcnJvckxvZ2dpbmcoInJlcXVlc3RBc3luYzo6ZXJyb3I6OiIsIGVycm9yLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MSA9IGVycm9yLnJlc3BvbnNlLnN0YXR1czsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gX2NvbnRleHQ1LnQxID09PSA0MDEgPyAyNiA6IF9jb250ZXh0NS50MSA9PT0gNDAzID8gMjggOiAzMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgbWVzc2FnZUJveC5zaG93RXJyb3IoJ1BoacOqbiBsw6BtIHZp4buHYyDEkcOjIGvhur90IHRow7pjLicpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjb21tb25Gbi5sb2dvZmYoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoImJyZWFrIiwgMzApOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgY29tbW9uRm4ucmVkaXJlY3QoJy80MDMnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJicmVhayIsIDMwKTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIC8vIOG6qG4gbG9hZGluZwogICAgICAgICAgICAgICAgdGhpcy5fc2V0TG9hZGluZyhpc1Nob3dMb2FkaW5nLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ1LnQwOwoKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzLCBbWzMsIDE4XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiByZXF1ZXN0QXN5bmMoX3g1LCBfeDYpIHsKICAgICAgICByZXR1cm4gX3JlcXVlc3RBc3luYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcmVxdWVzdEFzeW5jOwogICAgfSgpCiAgICAvKioNCiAgICAgKiBjb25maWc6IEF4aW9zUmVxdWVzdENvbmZpZw0KICAgICAqIENoaSB0aeG6v3QgY8OhYyB0aMO0bmcgdGluIHRyb25nIGNvbmZpZw0KICAgICAqIEBwYXJhbSB7DQogICAgICogdXJsPzogc3RyaW5nOw0KICAgICAqIG1ldGhvZD86IHN0cmluZzsNCiAgICAgKiBiYXNlVVJMPzogc3RyaW5nOw0KICAgICAqIHRyYW5zZm9ybVJlcXVlc3Q/OiBBeGlvc1RyYW5zZm9ybWVyIHwgQXhpb3NUcmFuc2Zvcm1lcltdOw0KICAgICAqIHRyYW5zZm9ybVJlc3BvbnNlPzogQXhpb3NUcmFuc2Zvcm1lciB8IEF4aW9zVHJhbnNmb3JtZXJbXTsNCiAgICAgKiBoZWFkZXJzPzogYW55Ow0KICAgICAqIHBhcmFtcz86IGFueTsNCiAgICAgKiBwYXJhbXNTZXJpYWxpemVyPzogKHBhcmFtczogYW55KSA9PiBzdHJpbmc7DQogICAgICogZGF0YT86IGFueTsNCiAgICAgKiB0aW1lb3V0PzogbnVtYmVyOw0KICAgICAqIHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW47DQogICAgICogYWRhcHRlcj86IEF4aW9zQWRhcHRlcjsNCiAgICAgKiBhdXRoPzogQXhpb3NCYXNpY0NyZWRlbnRpYWxzOw0KICAgICAqIHJlc3BvbnNlVHlwZT86IHN0cmluZzsNCiAgICAgKiB4c3JmQ29va2llTmFtZT86IHN0cmluZzsNCiAgICAgKiB4c3JmSGVhZGVyTmFtZT86IHN0cmluZzsNCiAgICAgKiBvblVwbG9hZFByb2dyZXNzPzogKHByb2dyZXNzRXZlbnQ6IGFueSkgPT4gdm9pZDsNCiAgICAgKiBvbkRvd25sb2FkUHJvZ3Jlc3M/OiAocHJvZ3Jlc3NFdmVudDogYW55KSA9PiB2b2lkOw0KICAgICAqIG1heENvbnRlbnRMZW5ndGg/OiBudW1iZXI7DQogICAgICogdmFsaWRhdGVTdGF0dXM/OiAoc3RhdHVzOiBudW1iZXIpID0+IGJvb2xlYW47DQogICAgICogbWF4UmVkaXJlY3RzPzogbnVtYmVyOw0KICAgICAqIGh0dHBBZ2VudD86IGFueTsNCiAgICAgKiBodHRwc0FnZW50PzogYW55Ow0KICAgICAqIHByb3h5PzogQXhpb3NQcm94eUNvbmZpZyB8IGZhbHNlOw0KICAgICAqIGNhbmNlbFRva2VuPzogQ2FuY2VsVG9rZW47DQogICAgICogfQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfcHJvY2Vzc0RhdGFPclBhcmFtcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NEYXRhT3JQYXJhbXMoY29uZmlnLCBtZXRob2QpIHsKICAgICAgdmFyIGNvbnRlblR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IEFwcGxpY2F0aW9uSnNvbjsKICAgICAgaWYgKCFjb25maWcpIHJldHVybjsgLy8gWOG7rSBsw70gbWV0aG9kCgogICAgICBjb25maWcubWV0aG9kID0gbWV0aG9kOwoKICAgICAgc3dpdGNoIChtZXRob2QpIHsKICAgICAgICBjYXNlIEdFVDoKICAgICAgICAgIC8vIGNhc2UgREVMRVRFOgogICAgICAgICAgaWYgKGNvbmZpZy5kYXRhKSB7CiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFFzLnN0cmluZ2lmeShjb25maWcuZGF0YSB8fCB7fSk7CgogICAgICAgICAgICBpZiAocXVlcnlTdHJpbmcpIHsKICAgICAgICAgICAgICBjb25maWcudXJsID0gW2NvbmZpZy51cmwsIHF1ZXJ5U3RyaW5nXS5qb2luKGNvbmZpZy51cmwuaW5kZXhPZigiPyIpID09PSAtMSA/ICI/IiA6ICImIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBQT1NUOgogICAgICAgIGNhc2UgUFVUOgogICAgICAgIGNhc2UgREVMRVRFOgogICAgICAgICAgaWYgKGNvbnRlblR5cGUgPT0gRm9ybVVybEVuY29kZWQpIHsKICAgICAgICAgICAgY29uZmlnLmRhdGEgPSBRcy5zdHJpbmdpZnkoY29uZmlnLmRhdGEgfHwge30pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjb25maWcuZGF0YSkgewogICAgICAgICAgICAvL3jhu60gbMO9IGRhdGUgLSBsb+G6oWkgYuG7jyBtw7ppIGdp4budIHRyxrDhu5tjIGtoaSBzdWJtaXQKICAgICAgICAgICAgdGhpcy5wcm9jZXNzU3VibWl0RGF0YShjb25maWcuZGF0YSk7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICAgIC8qKg0KICAgICAqIHjhu60gbMO9IGRhdGUgLSBsb+G6oWkgYuG7jyBtw7ppIGdp4budIHRyxrDhu5tjIGtoaSBzdWJtaXQNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAicHJvY2Vzc1N1Ym1pdERhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByb2Nlc3NTdWJtaXREYXRhKGRhdGEpIHsKICAgICAgdmFyIGNvdW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwoKICAgICAgLy90csOhbmggb3ZlcmZsb3cKICAgICAgaWYgKGNvdW50ID4gMjApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBtZSA9IHRoaXM7CgogICAgICBmb3IgKHZhciBpIGluIGRhdGEpIHsKICAgICAgICB2YXIgdmFsdWUgPSBkYXRhW2ldOwoKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUuZ2V0RnVsbFllYXIgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgZGF0YVtpXSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCJZWVlZLU1NLUREVEhIOm1tOnNzIik7CiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICBtZS5wcm9jZXNzU3VibWl0RGF0YShpdGVtLCBjb3VudCArIDEpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3R5cGVvZih2YWx1ZSkgPT09ICJvYmplY3QiICYmIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIG1lLnByb2Nlc3NTdWJtaXREYXRhKHZhbHVlLCBjb3VudCArIDEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqDQogICAgICogY29uZmlnOiBBeGlvc1JlcXVlc3RDb25maWcNCiAgICAgKiBDaGkgdGnhur90IGPDoWMgdGjDtG5nIHRpbiB0cm9uZyBjb25maWcNCiAgICAgKiBAcGFyYW0gew0KICAgICAqIHVybD86IHN0cmluZzsNCiAgICAgKiBtZXRob2Q/OiBzdHJpbmc7DQogICAgICogYmFzZVVSTD86IHN0cmluZzsNCiAgICAgKiB0cmFuc2Zvcm1SZXF1ZXN0PzogQXhpb3NUcmFuc2Zvcm1lciB8IEF4aW9zVHJhbnNmb3JtZXJbXTsNCiAgICAgKiB0cmFuc2Zvcm1SZXNwb25zZT86IEF4aW9zVHJhbnNmb3JtZXIgfCBBeGlvc1RyYW5zZm9ybWVyW107DQogICAgICogaGVhZGVycz86IGFueTsNCiAgICAgKiBwYXJhbXM/OiBhbnk7DQogICAgICogcGFyYW1zU2VyaWFsaXplcj86IChwYXJhbXM6IGFueSkgPT4gc3RyaW5nOw0KICAgICAqIGRhdGE/OiBhbnk7DQogICAgICogdGltZW91dD86IG51bWJlcjsNCiAgICAgKiB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuOw0KICAgICAqIGFkYXB0ZXI/OiBBeGlvc0FkYXB0ZXI7DQogICAgICogYXV0aD86IEF4aW9zQmFzaWNDcmVkZW50aWFsczsNCiAgICAgKiByZXNwb25zZVR5cGU/OiBzdHJpbmc7DQogICAgICogeHNyZkNvb2tpZU5hbWU/OiBzdHJpbmc7DQogICAgICogeHNyZkhlYWRlck5hbWU/OiBzdHJpbmc7DQogICAgICogb25VcGxvYWRQcm9ncmVzcz86IChwcm9ncmVzc0V2ZW50OiBhbnkpID0+IHZvaWQ7DQogICAgICogb25Eb3dubG9hZFByb2dyZXNzPzogKHByb2dyZXNzRXZlbnQ6IGFueSkgPT4gdm9pZDsNCiAgICAgKiBtYXhDb250ZW50TGVuZ3RoPzogbnVtYmVyOw0KICAgICAqIHZhbGlkYXRlU3RhdHVzPzogKHN0YXR1czogbnVtYmVyKSA9PiBib29sZWFuOw0KICAgICAqIG1heFJlZGlyZWN0cz86IG51bWJlcjsNCiAgICAgKiBodHRwQWdlbnQ/OiBhbnk7DQogICAgICogaHR0cHNBZ2VudD86IGFueTsNCiAgICAgKiBwcm94eT86IEF4aW9zUHJveHlDb25maWcgfCBmYWxzZTsNCiAgICAgKiBjYW5jZWxUb2tlbj86IENhbmNlbFRva2VuOw0KICAgICAqIH0NCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX3Byb2Nlc3NIZWFkZXJzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJvY2Vzc0hlYWRlcnMoY29uZmlnKSB7CiAgICAgIHZhciBjb250ZW5UeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBBcHBsaWNhdGlvbkpzb247CiAgICAgIGlmICghY29uZmlnKSByZXR1cm47IC8vIEzhuqV5IGThu68gbGnhu4d1IGPhu6dhIGhlYWRlcnMKCiAgICAgIHZhciBoZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307IC8vIENvbnRlbnQgdHlwZQoKICAgICAgaGVhZGVyc1siQ29udGVudC1UeXBlIl0gPSBjb250ZW5UeXBlOyAvLyBD4bqtcCBuaOG6rXQgbOG6oWkgaGVhZGVyCgogICAgICBjb25maWcuaGVhZGVycyA9IGhlYWRlcnM7IC8vdGhp4bq/dCBs4bqtcCB0aW1lb3V0IGNobyByZXF1ZXN0CgogICAgICBpZiAoIWNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgndGltZW91dCcpICYmIHdpbmRvdy5fYXBwQ29uZmlnLmF4aW9zVGltZW91dCkgewogICAgICAgIGNvbmZpZy50aW1lb3V0ID0gd2luZG93Ll9hcHBDb25maWcuYXhpb3NUaW1lb3V0OwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiBM4bqleSBrZXkgxJHhu4MgY2FuY2VsIHJlcXVlc3QgdGhlbyBjb25maWcNCiAgICAgKiBAcGFyYW0gY29uZmlnDQogICAgICovCgogIH0sIHsKICAgIGtleTogIl9nZXRLZXkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRLZXkoY29uZmlnKSB7CiAgICAgIGlmICghY29uZmlnKSByZXR1cm4gIiI7CiAgICAgIHJldHVybiAiIi5jb25jYXQoY29uZmlnLnVybCwgIl8iKS5jb25jYXQoY29uZmlnLm1ldGhvZCk7CiAgICB9CiAgICAvKioNCiAgICAgKiBIw6BtIG7DoHkgY2hvIHBow6lwIGjhu6d5IHJlcXVlc3QNCiAgICAgKiBAcGFyYW0gY2FuY2VsUmVxdWVzdA0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfcmVtb3ZlUmVxdWVzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZVJlcXVlc3QoY2FuY2VsUmVxdWVzdCwgZnJvbSkgewogICAgICB0cnkgewogICAgICAgIGlmICghY2FuY2VsUmVxdWVzdCkgcmV0dXJuOyAvLyBI4buneSByZXF1ZXN0CgogICAgICAgIGlmIChjYW5jZWxSZXF1ZXN0LlZhbHVlKSB7CiAgICAgICAgICBjYW5jZWxSZXF1ZXN0LlZhbHVlLmNhbmNlbCgpOwogICAgICAgIH0gLy8gWMOzYSBnacOhIHRy4buLIHRyb25nIGRhbmggc8OhY2ggY2jhu50gaOG7p3kKCgogICAgICAgIGNhbmNlbFJlcXVlc3RzID0gY2FuY2VsUmVxdWVzdHMuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICByZXR1cm4gbi5LZXkgIT0gY2FuY2VsUmVxdWVzdC5LZXkgfHwgbi5LZXkgPT0gY2FuY2VsUmVxdWVzdC5LZXkgJiYgbi5UaW1lICE9IGNhbmNlbFJlcXVlc3QuVGltZTsKICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICBjb21tb25Gbi5lcnJvckxvZ2dpbmcoIl9jYW5jZWxSZXF1ZXN0OjplcnJvcjoiLCBleCk7CiAgICAgIH0KICAgIH0KICAgIC8qKg0KICAgICAqIFRow6ptIHbDoG8gZGFuaCBzw6FjaCBo4buneSByZXF1ZXN0DQogICAgICogQHBhcmFtIGNvbmZpZw0KICAgICAqIEBwYXJhbSBrZXkNCiAgICAgKiBAcGFyYW0gaXNDYW5jZWxSZXF1ZXN0DQogICAgICovCgogIH0sIHsKICAgIGtleTogIl9hZGRDYW5jZWxSZXF1ZXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkQ2FuY2VsUmVxdWVzdChjb25maWcsIGtleSwgaXNDYW5jZWxSZXF1ZXN0KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbWUgPSB0aGlzOwoKICAgICAgdHJ5IHsKICAgICAgICAvL0zhuqV5IGPDoWMgcmVxdWVzdCBjw7Mga2V5IHbDoCBj4bqnbiBo4buneQogICAgICAgIHZhciByZXF1ZXN0cyA9IGNhbmNlbFJlcXVlc3RzLmZpbHRlcihmdW5jdGlvbiAobikgewogICAgICAgICAgcmV0dXJuIG4uS2V5ID09IGtleSAmJiBuLklzQ2FuY2VsUmVxdWVzdCA9PSB0cnVlOwogICAgICAgIH0pOwoKICAgICAgICBpZiAocmVxdWVzdHMgIT0gbnVsbCAmJiByZXF1ZXN0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICByZXF1ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXN0KSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcmVtb3ZlUmVxdWVzdChyZXF1ZXN0LCAiYWRkIik7CiAgICAgICAgICB9KTsKICAgICAgICB9IC8vIGNhbmNlbCB0b2tlbgoKCiAgICAgICAgdmFyIGNhbmNlbFRva2VuU291cmNlID0gYXhpb3MuQ2FuY2VsVG9rZW4uc291cmNlKCk7IC8vIEPhuq1wIG5o4bqtdCB2w6BvIGNvbmZpZwoKICAgICAgICBjb25maWcuY2FuY2VsVG9rZW4gPSBjYW5jZWxUb2tlblNvdXJjZS50b2tlbjsgLy9U4bqhbyB5w6p1IGPhuqd1IGjhu6d5IHJlcXVlc3QKCiAgICAgICAgdmFyIGNhbmNlbFJlcXVlc3QgPSB7CiAgICAgICAgICBLZXk6IGtleSwKICAgICAgICAgIFZhbHVlOiBjYW5jZWxUb2tlblNvdXJjZSwKICAgICAgICAgIFRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgICAgSXNDYW5jZWxSZXF1ZXN0OiBpc0NhbmNlbFJlcXVlc3QKICAgICAgICB9OyAvLyBUaMOqbSB2w6BvIGRhbmggc8OhY2ggY2jhu50gaOG7p3kgcmVxdWVzdAoKICAgICAgICBjYW5jZWxSZXF1ZXN0cy5wdXNoKGNhbmNlbFJlcXVlc3QpOyAvL1Ry4bqjIHbhu4EgdGhhbSBz4buRIGNhbmNlbCByZXF1ZXN0CgogICAgICAgIHJldHVybiBjYW5jZWxSZXF1ZXN0OwogICAgICB9IGNhdGNoIChleCkgewogICAgICAgIGNvbW1vbkZuLmVycm9yTG9nZ2luZygiX2FkZENhbmNlbFJlcXVlc3Q6OmVycm9yOjoiLCBleCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgLyoqDQogICAgICogSMOgbSBuw6B5IGTDuW5nIMSR4buDIHVwZGF0ZSB0cuG6oW5nIHRow6FpIGxvYWRpbmcgdHJvbmcgZ2xvYmFsIHN0YXRlDQogICAgICogQHBhcmFtIGlzU2hvd0xvYWRpbmcgY8OzIGNobyBsb2FkaW5nIGhheSBraMO0bmcsIGhp4buDbiB0aOG7iyBsb2FkaW5nIGNobyBuZ8aw4budaSBkw7luZw0KICAgICAqIEBwYXJhbSBpc0xvYWRpbmcNCiAgICAgKiBwdmR1eSAxMy8wNS8yMDIxOiBi4buPIMSRaSBt4buZdCBjb250cm9sIGxvYWRpbmcgdHLDoW5oIGzhu5dpIDIgY29udHJvbCBsb2FkaW5nIGtoaSBz4butYSBj4bqldC4NCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX3NldExvYWRpbmciLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRMb2FkaW5nKGlzU2hvd0xvYWRpbmcsIGlzTG9hZGluZykgewogICAgICByZXR1cm47CgogICAgICBpZiAoaXNTaG93TG9hZGluZykgewogICAgICAgIGlmIChpc0xvYWRpbmcpIHsKICAgICAgICAgIGNvbW1vbkZuLm1hc2soKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29tbW9uRm4udW5tYXNrKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXhpb3NIdHRwQ2xpZW50Owp9KCk7IC8vIEluc3RhbmNlIGPhu6dhIGF4aW9zIGNsaWVudAoKCmV4cG9ydCBkZWZhdWx0IG5ldyBBeGlvc0h0dHBDbGllbnQoKTsgLy8gQ8OhYyBtZXRob2QgY+G7p2EgaHR0cAoKZXhwb3J0IHZhciBQT1NUID0gIlBPU1QiOwpleHBvcnQgdmFyIFBVVCA9ICJQVVQiOwpleHBvcnQgdmFyIERFTEVURSA9ICJERUxFVEUiOwpleHBvcnQgdmFyIEdFVCA9ICJHRVQiOyAvLyBDb250ZW50LXR5cGUKCmV4cG9ydCB2YXIgQXBwbGljYXRpb25Kc29uID0gImFwcGxpY2F0aW9uL2pzb24iOwpleHBvcnQgdmFyIEZvcm1VcmxFbmNvZGVkID0gImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCI7CmV4cG9ydCB2YXIgRm9ybU11bHRpUGFydCA9ICJtdWx0aXBhcnQvZm9ybS1kYXRhIjs="},null]}