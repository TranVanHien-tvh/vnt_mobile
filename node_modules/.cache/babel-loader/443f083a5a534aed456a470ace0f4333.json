{"remainingRequest":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\VNT Mobile\\vnt_mobile\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\VNT Mobile\\vnt_mobile\\src\\components\\vue-context\\vue-context.js","dependencies":[{"path":"D:\\VNT Mobile\\vnt_mobile\\src\\components\\vue-context\\vue-context.js","mtime":1670055812050},{"path":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkQ6L1ZOVCBNb2JpbGUvdm50X21vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCB7IGRpcmVjdGl2ZSBhcyBvbkNsaWNrYXdheSB9IGZyb20gJ3Z1ZS1jbGlja2F3YXknOwppbXBvcnQgeyBldmVudE9mZiwgZXZlbnRPbiwgZmlsdGVyVmlzaWJsZSwgaXNBcnJheSwga2V5Q29kZXMsIHNlbGVjdEFsbCwgc2V0QXR0ciwgZ2V0QkNSLCBwYXJlbnRFbGVtZW50QnlDbGFzc05hbWUgfSBmcm9tICcuL3V0aWxzJzsKaW1wb3J0IHsgbm9ybWFsaXplU2xvdCB9IGZyb20gJy4vbm9ybWFsaXplLXNsb3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGlyZWN0aXZlczogewogICAgb25DbGlja2F3YXk6IG9uQ2xpY2thd2F5CiAgfSwKICBwcm9wczogewogICAgY2xvc2VPbkNsaWNrOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBjbG9zZU9uU2Nyb2xsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBsYXp5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaXRlbVNlbGVjdG9yOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIEFycmF5XSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFsnLnYtY29udGV4dC1pdGVtJywgJy52LWNvbnRleHQgPiBsaSA+IGEnXTsKICAgICAgfQogICAgfSwKICAgIHJvbGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnbWVudScKICAgIH0sCiAgICBzdWJNZW51T2Zmc2V0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMTAKICAgIH0sCiAgICB1c2VTY3JvbGxIZWlnaHQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB1c2VTY3JvbGxXaWR0aDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGhlaWdodE9mZnNldDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDUgLy8yNQoKICAgIH0sCiAgICB3aWR0aE9mZnNldDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDI1CiAgICB9LAogICAgdGFnOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3VsJwogICAgfSwKICAgIGN1c3RvbVBvc2l0aW9uTWVudTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGN1c3RvbVdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN0eWxlOiBmdW5jdGlvbiBzdHlsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2hvdyA/IHsKICAgICAgICB0b3A6ICIiLmNvbmNhdCh0aGlzLnRvcCwgInB4IiksCiAgICAgICAgbGVmdDogIiIuY29uY2F0KHRoaXMubGVmdCwgInB4IiksCiAgICAgICAgd2lkdGg6ICIiLmNvbmNhdCh0aGlzLndpZHRoLCAicHgiKQogICAgICB9IDogbnVsbDsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3A6IG51bGwsCiAgICAgIGxlZnQ6IG51bGwsCiAgICAgIHdpZHRoOiBudWxsLAogICAgICBzaG93OiBmYWxzZSwKICAgICAgZGF0YTogbnVsbCwKICAgICAgbG9jYWxJdGVtU2VsZWN0b3I6ICcnLAogICAgICBhY3RpdmVTdWJNZW51OiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9jYWxJdGVtU2VsZWN0b3IgPSB0aGlzLm1hcEl0ZW1TZWxlY3Rvcih0aGlzLml0ZW1TZWxlY3Rvcik7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMuY2xvc2VPblNjcm9sbCkgewogICAgICB0aGlzLnJlbW92ZVNjcm9sbEV2ZW50TGlzdGVuZXIoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZFNjcm9sbEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIGFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoKSB7CiAgICAgIGV2ZW50T24od2luZG93LCAnc2Nyb2xsJywgdGhpcy5jbG9zZSk7CiAgICB9LAogICAgYWRkSG92ZXJFdmVudExpc3RlbmVyOiBmdW5jdGlvbiBhZGRIb3ZlckV2ZW50TGlzdGVuZXIoZWxlbWVudCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudi1jb250ZXh0X19zdWInKS5mb3JFYWNoKGZ1bmN0aW9uIChzdWJNZW51Tm9kZSkgewogICAgICAgIGV2ZW50T24oc3ViTWVudU5vZGUsICdtb3VzZWVudGVyJywgX3RoaXMub3BlblN1Yk1lbnUpOwogICAgICAgIGV2ZW50T24oc3ViTWVudU5vZGUsICdtb3VzZWxlYXZlJywgX3RoaXMuY2xvc2VTdWJNZW51KTsKICAgICAgfSk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICBpZiAoIXRoaXMuc2hvdykgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBtYWtlIHN1cmUgYWxsIHN1YiBtZW51cyBhcmUgY2xvc2VkCgoKICAgICAgd2hpbGUgKHRoaXMuYWN0aXZlU3ViTWVudSAhPT0gbnVsbCkgewogICAgICAgIHBhcmVudEVsZW1lbnRCeUNsYXNzTmFtZSh0aGlzLmFjdGl2ZVN1Yk1lbnUsICd2LWNvbnRleHRfX3N1YicpLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdtb3VzZWxlYXZlJykpOwogICAgICB9CgogICAgICB0aGlzLnJlc2V0RGF0YSgpOwogICAgICB0aGlzLnJlbW92ZUhvdmVyRXZlbnRMaXN0ZW5lcih0aGlzLiRlbCk7CgogICAgICBpZiAodGhpcy5jbG9zZU9uU2Nyb2xsKSB7CiAgICAgICAgdGhpcy5yZW1vdmVTY3JvbGxFdmVudExpc3RlbmVyKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICB9LAogICAgZm9jdXNJdGVtOiBmdW5jdGlvbiBmb2N1c0l0ZW0oaW5kZXgsIGl0ZW1zKSB7CiAgICAgIHZhciBlbCA9IGl0ZW1zLmZpbmQoZnVuY3Rpb24gKGVsLCBpZHgpIHsKICAgICAgICByZXR1cm4gaWR4ID09PSBpbmRleDsKICAgICAgfSk7CiAgICAgIGVsICYmIGVsLmZvY3VzKCk7CiAgICB9LAogICAgZm9jdXNOZXh0OiBmdW5jdGlvbiBmb2N1c05leHQoZXZlbnQsIHVwKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnNob3cpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGl0ZW1zID0gX3RoaXMyLmdldEl0ZW1zKCk7CgogICAgICAgIGlmIChpdGVtcy5sZW5ndGggPCAxKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgaW5kZXggPSBpdGVtcy5pbmRleE9mKGV2ZW50LnRhcmdldCk7CgogICAgICAgIGlmICh1cCAmJiBpbmRleCA+IDApIHsKICAgICAgICAgIGluZGV4LS07CiAgICAgICAgfSBlbHNlIGlmICghdXAgJiYgaW5kZXggPCBpdGVtcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICBpbmRleCsrOwogICAgICAgIH0KCiAgICAgICAgaWYgKGluZGV4IDwgMCkgewogICAgICAgICAgaW5kZXggPSAwOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMyLmZvY3VzSXRlbShpbmRleCwgaXRlbXMpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRJdGVtczogZnVuY3Rpb24gZ2V0SXRlbXMoKSB7CiAgICAgIC8vIGlmIGEgc3ViIG1lbnUgaXMgYWN0aXZlIG9ubHkgcmV0dXJuIHRoZSBlbGVtZW50cyBvZiB0aGUgc3ViIG1lbnUgdG8ga2VlcCB0aGUgc2NvcGUKICAgICAgcmV0dXJuIGZpbHRlclZpc2libGUoc2VsZWN0QWxsKHRoaXMubG9jYWxJdGVtU2VsZWN0b3IsIHRoaXMuYWN0aXZlU3ViTWVudSB8fCB0aGlzLiRlbCkpOwogICAgfSwKICAgIG1hcEl0ZW1TZWxlY3RvcjogZnVuY3Rpb24gbWFwSXRlbVNlbGVjdG9yKGl0ZW1TZWxlY3RvcikgewogICAgICBpZiAoaXNBcnJheShpdGVtU2VsZWN0b3IpKSB7CiAgICAgICAgaXRlbVNlbGVjdG9yID0gaXRlbVNlbGVjdG9yLm1hcChmdW5jdGlvbiAoc2VsZWN0b3IpIHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQoc2VsZWN0b3IsICI6bm90KC5kaXNhYmxlZCk6bm90KFtkaXNhYmxlZF0pIik7CiAgICAgICAgfSkuam9pbignLCAnKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGl0ZW1TZWxlY3RvcjsKICAgIH0sCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICB0aGlzLmNsb3NlKCk7CiAgICB9LAogICAgb25LZXlkb3duOiBmdW5jdGlvbiBvbktleWRvd24oZXZlbnQpIHsKICAgICAgdmFyIGtleSA9IGV2ZW50LmtleUNvZGU7CgogICAgICBpZiAoa2V5ID09PSBrZXlDb2Rlcy5FU0MpIHsKICAgICAgICAvLyBDbG9zZSBvbiBlc2MKICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBrZXlDb2Rlcy5ET1dOKSB7CiAgICAgICAgLy8gRG93biBhcnJvdwogICAgICAgIHRoaXMuZm9jdXNOZXh0KGV2ZW50LCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBrZXlDb2Rlcy5VUCkgewogICAgICAgIC8vIFVwIGFycm93CiAgICAgICAgdGhpcy5mb2N1c05leHQoZXZlbnQsIHRydWUpOwogICAgICB9IGVsc2UgaWYgKGtleSA9PT0ga2V5Q29kZXMuUklHSFQpIHsKICAgICAgICAvLyBjaGVjayBpZiBhIHBhcmVudCBlbGVtZW50IHdoaWNoIGlzIGFzc29jaWF0ZWQgd2l0aCBhIHN1YiBtZW51IGNhbiBiZSBmb3VuZC4KICAgICAgICB2YXIgbWVudUNvbnRhaW5lciA9IHBhcmVudEVsZW1lbnRCeUNsYXNzTmFtZShldmVudC50YXJnZXQsICd2LWNvbnRleHRfX3N1YicpOyAvLyB0cnkgdG8gb3BlbiBhIHN1YiBtZW51IGlmIHRoZSBzdWIgbWVudSBpc24ndCB0aGUgY3VycmVudCBzdWIgbWVudQoKICAgICAgICBpZiAobWVudUNvbnRhaW5lciAmJiBtZW51Q29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3YtY29udGV4dCcpWzBdICE9PSB0aGlzLmFjdGl2ZVN1Yk1lbnUpIHsKICAgICAgICAgIG1lbnVDb250YWluZXIuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ21vdXNlZW50ZXInKSk7CiAgICAgICAgICB0aGlzLmZvY3VzTmV4dChldmVudCwgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChrZXkgPT09IGtleUNvZGVzLkxFRlQpIHsKICAgICAgICBpZiAoIXRoaXMuYWN0aXZlU3ViTWVudSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIHBhcmVudE1lbnUgPSBwYXJlbnRFbGVtZW50QnlDbGFzc05hbWUodGhpcy5hY3RpdmVTdWJNZW51LCAndi1jb250ZXh0X19zdWInKTsKICAgICAgICBwYXJlbnRNZW51LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdtb3VzZWxlYXZlJykpOwogICAgICAgIHZhciBpdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKSwKICAgICAgICAgICAgaW5kZXggPSBpdGVtcy5pbmRleE9mKHBhcmVudE1lbnUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXSk7CiAgICAgICAgdGhpcy5mb2N1c0l0ZW0oaW5kZXgsIGl0ZW1zKTsKICAgICAgfQogICAgfSwKICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oZXZlbnQsIGRhdGEpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICB0aGlzLnNob3cgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGJ1dHRvbkRyb3BEb3duUG9zaXRpb24gPSAoZXZlbnQudG9FbGVtZW50IHx8IGV2ZW50LnRhcmdldCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdmFyIGNsaWVudFkgPSBidXR0b25Ecm9wRG93blBvc2l0aW9uID8gYnV0dG9uRHJvcERvd25Qb3NpdGlvbi50b3AgOiBldmVudC5jbGllbnRZOwogICAgICAgIHZhciBjbGllbnRYID0gYnV0dG9uRHJvcERvd25Qb3NpdGlvbiA/IGJ1dHRvbkRyb3BEb3duUG9zaXRpb24ubGVmdCA6IGV2ZW50LmNsaWVudFg7CgogICAgICAgIGlmIChfdGhpczMuY3VzdG9tUG9zaXRpb25NZW51KSB7CiAgICAgICAgICB2YXIgX3RoaXMzJHBvc2l0aW9uQnlNYXN0ID0gX3RoaXMzLnBvc2l0aW9uQnlNYXN0ZXJFbGVtZW50KGNsaWVudFksIGNsaWVudFgsIF90aGlzMy4kZWwpOwoKICAgICAgICAgIHZhciBfdGhpczMkcG9zaXRpb25CeU1hc3QyID0gX3NsaWNlZFRvQXJyYXkoX3RoaXMzJHBvc2l0aW9uQnlNYXN0LCAzKTsKCiAgICAgICAgICBfdGhpczMudG9wID0gX3RoaXMzJHBvc2l0aW9uQnlNYXN0MlswXTsKICAgICAgICAgIF90aGlzMy5sZWZ0ID0gX3RoaXMzJHBvc2l0aW9uQnlNYXN0MlsxXTsKICAgICAgICAgIF90aGlzMy53aWR0aCA9IF90aGlzMyRwb3NpdGlvbkJ5TWFzdDJbMl07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBfdGhpczMkcG9zaXRpb25NZW51ID0gX3RoaXMzLnBvc2l0aW9uTWVudShjbGllbnRZLCBjbGllbnRYLCBfdGhpczMuJGVsKTsKCiAgICAgICAgICB2YXIgX3RoaXMzJHBvc2l0aW9uTWVudTIgPSBfc2xpY2VkVG9BcnJheShfdGhpczMkcG9zaXRpb25NZW51LCAzKTsKCiAgICAgICAgICBfdGhpczMudG9wID0gX3RoaXMzJHBvc2l0aW9uTWVudTJbMF07CiAgICAgICAgICBfdGhpczMubGVmdCA9IF90aGlzMyRwb3NpdGlvbk1lbnUyWzFdOwogICAgICAgICAgX3RoaXMzLndpZHRoID0gX3RoaXMzJHBvc2l0aW9uTWVudTJbMl07CiAgICAgICAgfQoKICAgICAgICBfdGhpczMuJGVsLmZvY3VzKCk7CgogICAgICAgIF90aGlzMy5zZXRJdGVtUm9sZXMoKTsKCiAgICAgICAgX3RoaXMzLmFkZEhvdmVyRXZlbnRMaXN0ZW5lcihfdGhpczMuJGVsKTsKCiAgICAgICAgaWYgKF90aGlzMy5jbG9zZU9uU2Nyb2xsKSB7CiAgICAgICAgICBfdGhpczMuYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcigpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMzLiRlbWl0KCdvcGVuJywgZXZlbnQsIF90aGlzMy5kYXRhLCBfdGhpczMudG9wLCBfdGhpczMubGVmdCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5TdWJNZW51OiBmdW5jdGlvbiBvcGVuU3ViTWVudShldmVudCkgewogICAgICB2YXIgc3ViTWVudUVsZW1lbnQgPSB0aGlzLiRlbCwKICAgICAgICAgIHBhcmVudE1lbnUgPSBwYXJlbnRFbGVtZW50QnlDbGFzc05hbWUoc3ViTWVudUVsZW1lbnQucGFyZW50RWxlbWVudCwgJ3YtY29udGV4dCcpLAogICAgICAgICAgYmNyID0gZ2V0QkNSKGV2ZW50LnRhcmdldCk7IC8vIGNoZWNrIGlmIGFub3RoZXIgc3ViIG1lbnUgaXMgb3Blbi4gSW4gdGhpcyBjYXNlIG1ha2Ugc3VyZSBubyBvdGhlciBhcyB3ZWxsIGFzIG5vIG5lc3RlZCBzdWIgbWVudSBpcyBvcGVuCgogICAgICBpZiAodGhpcy5hY3RpdmVTdWJNZW51ICE9PSBwYXJlbnRNZW51KSB7CiAgICAgICAgd2hpbGUgKHRoaXMuYWN0aXZlU3ViTWVudSAhPT0gbnVsbCAmJiB0aGlzLmFjdGl2ZVN1Yk1lbnUgIT09IHBhcmVudE1lbnUgJiYgdGhpcy5hY3RpdmVTdWJNZW51ICE9PSBzdWJNZW51RWxlbWVudCkgewogICAgICAgICAgcGFyZW50RWxlbWVudEJ5Q2xhc3NOYW1lKHRoaXMuYWN0aXZlU3ViTWVudSwgJ3YtY29udGV4dF9fc3ViJykuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ21vdXNlbGVhdmUnKSk7CiAgICAgICAgfQogICAgICB9IC8vIGZpcnN0IHNldCB0aGUgZGlzcGxheSBhbmQgYWZ0ZXJ3YXJkcyBleGVjdXRlIHBvc2l0aW9uIGNhbGN1bGF0aW9uIGZvciBjb3JyZWN0IGVsZW1lbnQgb2Zmc2V0cwoKCiAgICAgIHN1Yk1lbnVFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwoKICAgICAgdmFyIF90aGlzJHBvc2l0aW9uTWVudSA9IHRoaXMucG9zaXRpb25NZW51KGJjci50b3AsIGJjci5yaWdodCAtIHRoaXMuc3ViTWVudU9mZnNldCwgc3ViTWVudUVsZW1lbnQpLAogICAgICAgICAgX3RoaXMkcG9zaXRpb25NZW51MiA9IF9zbGljZWRUb0FycmF5KF90aGlzJHBvc2l0aW9uTWVudSwgMyksCiAgICAgICAgICBlbGVtZW50VG9wID0gX3RoaXMkcG9zaXRpb25NZW51MlswXSwKICAgICAgICAgIGVsZW1lbnRMZWZ0ID0gX3RoaXMkcG9zaXRpb25NZW51MlsxXSwKICAgICAgICAgIGVsZW1lbnRXaWR0aCA9IF90aGlzJHBvc2l0aW9uTWVudTJbMl07CgogICAgICBzdWJNZW51RWxlbWVudC5zdHlsZS5sZWZ0ID0gIiIuY29uY2F0KGVsZW1lbnRMZWZ0LCAicHgiKTsKICAgICAgc3ViTWVudUVsZW1lbnQuc3R5bGUudG9wID0gIiIuY29uY2F0KGVsZW1lbnRUb3AsICJweCIpOwogICAgICBzdWJNZW51RWxlbWVudC5zdHlsZS53aWR0aCA9ICIiLmNvbmNhdChlbGVtZW50V2lkdGgsICJweCIpOwogICAgICB0aGlzLmFjdGl2ZVN1Yk1lbnUgPSBzdWJNZW51RWxlbWVudDsKICAgIH0sCiAgICBjbG9zZVN1Yk1lbnU6IGZ1bmN0aW9uIGNsb3NlU3ViTWVudShldmVudCkgewogICAgICB2YXIgc3ViTWVudUVsZW1lbnQgPSB0aGlzLmdldFN1Yk1lbnVFbGVtZW50QnlFdmVudChldmVudCksCiAgICAgICAgICBwYXJlbnRNZW51ID0gcGFyZW50RWxlbWVudEJ5Q2xhc3NOYW1lKHN1Yk1lbnVFbGVtZW50LCAndi1jb250ZXh0Jyk7IC8vIGlmIGEgc3ViIG1lbnUgaXMgY2xvc2VkIGFuZCBpdCdzIG5vdCB0aGUgY3VycmVudGx5IGFjdGl2ZSBzdWIgbWVudSAoZWcuIGEgbG93ZSBsYXllcmVkIHN1YiBtZW51IGNsb3NlZAogICAgICAvLyBieSBhIG1vdXNlbGVhdmUgZXZlbnQpIGNsb3NlIGFsbCBuZXN0ZWQgc3ViIG1lbnVzCgogICAgICBpZiAodGhpcy5hY3RpdmVTdWJNZW51ICE9PSBzdWJNZW51RWxlbWVudCkgewogICAgICAgIHdoaWxlICh0aGlzLmFjdGl2ZVN1Yk1lbnUgIT09IG51bGwgJiYgdGhpcy5hY3RpdmVTdWJNZW51ICE9PSBzdWJNZW51RWxlbWVudCkgewogICAgICAgICAgcGFyZW50RWxlbWVudEJ5Q2xhc3NOYW1lKHRoaXMuYWN0aXZlU3ViTWVudSwgJ3YtY29udGV4dF9fc3ViJykuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ21vdXNlbGVhdmUnKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBzdWJNZW51RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAvLyBjaGVjayBpZiBhIHBhcmVudCBtZW51IGV4aXN0cyBhbmQgdGhlIHBhcmVudCBtZW51IGlzIGEgc3ViIG1lbnUgdG8ga2VlcCB0cmFjayBvZiB0aGUgY29ycmVjdCBzdWIgbWVudQoKICAgICAgdGhpcy5hY3RpdmVTdWJNZW51ID0gcGFyZW50TWVudSAmJiBwYXJlbnRFbGVtZW50QnlDbGFzc05hbWUocGFyZW50TWVudSwgJ3YtY29udGV4dF9fc3ViJykgPyBwYXJlbnRNZW51IDogbnVsbDsKICAgIH0sCiAgICBnZXRTdWJNZW51RWxlbWVudEJ5RXZlbnQ6IGZ1bmN0aW9uIGdldFN1Yk1lbnVFbGVtZW50QnlFdmVudChldmVudCkgewogICAgICByZXR1cm4gZXZlbnQudGFyZ2V0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd1bCcpWzBdOwogICAgfSwKICAgIHBvc2l0aW9uTWVudTogZnVuY3Rpb24gcG9zaXRpb25NZW51KHRvcCwgbGVmdCwgZWxlbWVudCkgewogICAgICAvL3RvcCxsZWZ0IGzDoCB24buLIHRyw60gY+G7p2EgaWNvbiBz4buVIHh14buRbmcKICAgICAgLy9wb3NpdGlvbiBj4bunYSB0aOG6uyB1bCAobWVudSBkcm9wZG93bikKICAgICAgdmFyIHBvc2l0aW9uTWVudSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vcG9zaXRpb24gY+G7p2EgYnV0dG9uIGNoYSAKCiAgICAgIHZhciBwb3NpdGlvblBhcmVudE1lbnUgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIHTDrW5oIHdpZHRoIGNobyBtZW51IDogbuG6v3UgY8OzIGN1c3RvbSB0aMOsIHTDrW5oIHRoZW8gY3VzdG9tIGPDsm4ga2jDtG5nIHRow6wgc8OpdCB3aWR0aCBi4bqxbmcgd2lkdGggY+G7p2EgYnV0dG9uCgogICAgICB2YXIgd2lkdGggPSB0aGlzLmN1c3RvbVdpZHRoICE9IDAgPyB0aGlzLmN1c3RvbVdpZHRoIDogcG9zaXRpb25QYXJlbnRNZW51LndpZHRoOyAvL27hur91IHdpZHRoIGLDqm4gdHLDqm4gbcOgIGzhu5tuIGjGoW4gd2lkdGggbeG6t2MgxJHhu4tuaCBj4bunYSBtZW51IHRow6wgbeG7m2kgZ8OhbiwgbuG6v3Ugbmjhu48gaMahbiB0aMOsIHRow7RpIMSR4buDIG3hurdjIMSR4buLbmggY2hvIMSR4bq5cAoKICAgICAgLyp3aWR0aCA9IHdpZHRoPiBlbGVtZW50Lm9mZnNldFdpZHRoPyB3aWR0aDogZWxlbWVudC5vZmZzZXRXaWR0aDsqLwoKICAgICAgdmFyIHRlc3RQb3NpdGlvbiA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgcG9zaXRpb25QYXJlbnRNZW51LnRvcCArIGVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5vZmZzZXRIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgIHZhciB0ZXN0Qm90dG9uUG9zaXRpb24gPSBwb3NpdGlvblBhcmVudE1lbnUudG9wIC0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciBlbGVtZW50SGVpZ2h0ID0gdGhpcy51c2VTY3JvbGxIZWlnaHQgPyBlbGVtZW50LnNjcm9sbEhlaWdodCA6IGVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgbGFyZ2VzdEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIGVsZW1lbnRIZWlnaHQgLSBwb3NpdGlvblBhcmVudE1lbnUuaGVpZ2h0IC0gKHBvc2l0aW9uUGFyZW50TWVudS5ib3R0b20gLSBwb3NpdGlvblBhcmVudE1lbnUudG9wKSAtIHRoaXMuaGVpZ2h0T2Zmc2V0OwogICAgICB2YXIgZWxlbWVudFdpZHRoID0gdGhpcy51c2VTY3JvbGxXaWR0aCA/IGVsZW1lbnQuc2Nyb2xsV2lkdGggOiB3aWR0aDsKICAgICAgdmFyIGxhcmdlc3RXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gZWxlbWVudFdpZHRoIC0gdGhpcy53aWR0aE9mZnNldDsgLy90csaw4budbmcgaOG7o3AgbcOgIG1lbnUgcXVheSBuZ8aw4bujYyBsw6puIHRyw6puIGhv4bq3YyB4dcO0aSB4deG7kW5nIGTGsOG7m2kgbcOgIGtow7RuZyBi4buLIHbGsOG7o3QgcXXDoSBjaGnhu4F1IGNhbyBtw6BuIGjDrG5oIHRow6wgbmjhuqN5IHbDoG8gxJHDonkKCiAgICAgIGlmICh0ZXN0UG9zaXRpb24gPj0gMCAmJiB0ZXN0Qm90dG9uUG9zaXRpb24gPj0gMCB8fCB0ZXN0UG9zaXRpb24gPCAwICYmIHRlc3RCb3R0b25Qb3NpdGlvbiA8IDApIHsKICAgICAgICAvL27hur91IHRvcCA+IGNoaeG7gXUgY2FvIG1heCB0aMOsIGTDoG4gbMOqbiB0csOqbiBu4bq/dSBraMO0bmcgdGjDrCBkw6BuIHh14buRbmcgZMaw4bubaQogICAgICAgIGlmICh0ZXN0UG9zaXRpb24gPiAwKSB7CiAgICAgICAgICB0b3AgPSBwb3NpdGlvblBhcmVudE1lbnUudG9wIC0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRvcCA9IHBvc2l0aW9uUGFyZW50TWVudS50b3AgKyBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcub2Zmc2V0SGVpZ2h0OwogICAgICAgIH0KICAgICAgfSAvL27hur91IG3DoCBjaGnhu4F1IGNhbyBj4bunYSBtZW51IGNhbyBxdcOhLCBkw7kgcXVheSBsw6puIHRyw6puIGhheSBxdWF5IHh14buRbmcgZMaw4bubaSDEkeG7gXUgYuG7iyBtw6BuIGjDrG5oIGPhuq90IG3huqV0IHRow6wgbmjhuqN5IHbDoG8gxJHDonkKICAgICAgZWxzZSB7CiAgICAgICAgLy9u4bq/dSB0b3AgPiBjaGnhu4F1IGNhbyBtYXggdGjDrCBkw6BuIGzDqm4gdHLDqm4gbuG6v3Uga2jDtG5nIHRow6wgZMOgbiB4deG7kW5nIGTGsOG7m2kKICAgICAgICBpZiAocG9zaXRpb25NZW51LnRvcCA+PSBsYXJnZXN0SGVpZ2h0KSB7CiAgICAgICAgICB0b3AgPSBsYXJnZXN0SGVpZ2h0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b3AgPSBwb3NpdGlvbk1lbnUudG9wICsgdGhpcy5oZWlnaHRPZmZzZXQ7CiAgICAgICAgfQogICAgICB9IC8vbuG6v3UgbGVmdCBj4bunYSBtZW51ID4gxJHhu5kgcuG7mW5nIG1heCB0aMOsIGTDoG4gc2FuZyB0csOhaSwgbuG6v3UgayB0aMOsIGTDoG4gc2FuZyBwaOG6o2kKCgogICAgICBpZiAocG9zaXRpb25NZW51LmxlZnQgPj0gbGFyZ2VzdFdpZHRoKSB7CiAgICAgICAgbGVmdCA9IGxhcmdlc3RXaWR0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICBsZWZ0ID0gcG9zaXRpb25NZW51LmxlZnQgKyAocG9zaXRpb25QYXJlbnRNZW51LmxlZnQgLSBwb3NpdGlvbk1lbnUubGVmdCAtIHdpZHRoICsgcG9zaXRpb25QYXJlbnRNZW51LndpZHRoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFt0b3AsIGxlZnQsIHdpZHRoXTsKICAgIH0sCgogICAgLyoqDQogICAgICogVEROR0hJQSAxMy8xLzIwMjE6IGNo4bq/IGzhuqFpIHbhu4sgdHLDrSBj4bunYSBjb250ZXh0IGNobyBjw6FjIGNo4buXIGTDuW5nIG5oxrBuZyBs4bqhaSBkaSDEkeG7mW5nDQogICAgICogVkQ6IGJ1dHRvbmRyb3Bkb3duLCBhY3Rpb25tZW51LC4uLiBjw7Mgc2Nyb2xsIG7Dqm4ga2jDtG5nIMSR4buLbmggcsO1IMSRxrDhu6NjIHbhu4sgdHLDrQ0KICAgICAqIENow7ogbsOgbyB2w6BvIHThuq1uIMSRw6J5IMSR4buNYyBjb2RlIGPFqW5nIGto4buPZSDEkeG6pXkNCiAgICAgKiBAcGFyYW0geyp9IHRvcCANCiAgICAgKiBAcGFyYW0geyp9IGxlZnQgDQogICAgICogQHBhcmFtIHsqfSBlbGVtZW50IA0KICAgICAqIEByZXR1cm5zIA0KICAgICAqLwogICAgcG9zaXRpb25CeU1hc3RlckVsZW1lbnQ6IGZ1bmN0aW9uIHBvc2l0aW9uQnlNYXN0ZXJFbGVtZW50KHRvcCwgbGVmdCwgZWxlbWVudCkgewogICAgICAvL3Bvc2l0aW9uIGPhu6dhIGJ1dHRvbiBjaGEgCiAgICAgIHZhciBwb3NpdGlvblBhcmVudE1lbnUgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vcG9zaXRpb24gY+G7p2EgdGjhursgdWwgKG1lbnUgZHJvcGRvd24pCgogICAgICB2YXIgcG9zaXRpb25NZW51ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gdMOtbmggd2lkdGggY2hvIG1lbnUgOiBu4bq/dSBjw7MgY3VzdG9tIHRow6wgdMOtbmggdGhlbyBjdXN0b20gY8OybiBraMO0bmcgdGjDrCBzw6l0IHdpZHRoIGLhurFuZyB3aWR0aCBj4bunYSBidXR0b24KCiAgICAgIHZhciB3aWR0aCA9IHRoaXMuY3VzdG9tV2lkdGggIT0gMCA/IHRoaXMuY3VzdG9tV2lkdGggOiBwb3NpdGlvblBhcmVudE1lbnUud2lkdGg7CiAgICAgIHZhciB0ZXN0UG9zaXRpb24gPSBlbGVtZW50Lm9mZnNldEhlaWdodCArIHBvc2l0aW9uUGFyZW50TWVudS50b3AgKyBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcub2Zmc2V0SGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB2YXIgdGVzdEJvdHRvblBvc2l0aW9uID0gcG9zaXRpb25QYXJlbnRNZW51LnRvcCAtIGVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgZWxlbWVudEhlaWdodCA9IHRoaXMudXNlU2Nyb2xsSGVpZ2h0ID8gZWxlbWVudC5zY3JvbGxIZWlnaHQgOiBlbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgdmFyIGxhcmdlc3RIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBlbGVtZW50SGVpZ2h0IC0gcG9zaXRpb25QYXJlbnRNZW51LmhlaWdodCAtIChwb3NpdGlvblBhcmVudE1lbnUuYm90dG9tIC0gcG9zaXRpb25QYXJlbnRNZW51LnRvcCkgLSB0aGlzLmhlaWdodE9mZnNldDsKICAgICAgdmFyIGVsZW1lbnRXaWR0aCA9IHRoaXMudXNlU2Nyb2xsV2lkdGggPyBlbGVtZW50LnNjcm9sbFdpZHRoIDogd2lkdGg7CiAgICAgIHZhciBsYXJnZXN0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAtIGVsZW1lbnRXaWR0aCAtIHRoaXMud2lkdGhPZmZzZXQ7IC8vbuG6v3UgdG9wID4gY2hp4buBdSBjYW8gbWF4IHRow6wgZMOgbiBsw6puIHRyw6puIG7hur91IGtow7RuZyB0aMOsIGTDoG4geHXhu5FuZyBkxrDhu5tpCgogICAgICBpZiAodGVzdFBvc2l0aW9uID4gMCkgewogICAgICAgIHRvcCA9IHBvc2l0aW9uUGFyZW50TWVudS50b3AgLSBlbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0b3AgPSBwb3NpdGlvblBhcmVudE1lbnUudG9wICsgZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLm9mZnNldEhlaWdodDsKICAgICAgfSAvL27hur91IGxlZnQgY+G7p2EgbWVudSA+IMSR4buZIHLhu5luZyBtYXggdGjDrCBkw6BuIHNhbmcgdHLDoWksIG7hur91IGsgdGjDrCBkw6BuIHNhbmcgcGjhuqNpCgoKICAgICAgaWYgKHBvc2l0aW9uTWVudS5sZWZ0ID49IGxhcmdlc3RXaWR0aCkgewogICAgICAgIGxlZnQgPSBsYXJnZXN0V2lkdGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGVmdCA9IHBvc2l0aW9uTWVudS5sZWZ0ICsgKHBvc2l0aW9uUGFyZW50TWVudS5sZWZ0IC0gcG9zaXRpb25NZW51LmxlZnQgLSB3aWR0aCArIHBvc2l0aW9uUGFyZW50TWVudS53aWR0aCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbdG9wLCBsZWZ0LCB3aWR0aF07CiAgICB9LAogICAgcmVtb3ZlU2Nyb2xsRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gcmVtb3ZlU2Nyb2xsRXZlbnRMaXN0ZW5lcigpIHsKICAgICAgZXZlbnRPZmYod2luZG93LCAnc2Nyb2xsJywgdGhpcy5jbG9zZSk7CiAgICB9LAogICAgcmVtb3ZlSG92ZXJFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVIb3ZlckV2ZW50TGlzdGVuZXIoZWxlbWVudCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnYtY29udGV4dF9fc3ViJykuZm9yRWFjaChmdW5jdGlvbiAoc3ViTWVudU5vZGUpIHsKICAgICAgICBldmVudE9mZihzdWJNZW51Tm9kZSwgJ21vdXNlZW50ZXInLCBfdGhpczQub3BlblN1Yk1lbnUpOwogICAgICAgIGV2ZW50T2ZmKHN1Yk1lbnVOb2RlLCAnbW91c2VsZWF2ZScsIF90aGlzNC5jbG9zZVN1Yk1lbnUpOwogICAgICB9KTsKICAgIH0sCiAgICByZXNldERhdGE6IGZ1bmN0aW9uIHJlc2V0RGF0YSgpIHsKICAgICAgdGhpcy50b3AgPSBudWxsOwogICAgICB0aGlzLmxlZnQgPSBudWxsOwogICAgICB0aGlzLmRhdGEgPSBudWxsOwogICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgIH0sCiAgICBzZXRJdGVtUm9sZXM6IGZ1bmN0aW9uIHNldEl0ZW1Sb2xlcygpIHsKICAgICAgLy8gQWRkIHJvbGU9Im1lbnVpdGVtIiBhbmQgdGFiaW5kZXg9Ii0xIiB0byBhbGwgaXRlbXMKICAgICAgc2VsZWN0QWxsKHRoaXMubG9jYWxJdGVtU2VsZWN0b3IsIHRoaXMuJGVsKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHNldEF0dHIoZWwsICdyb2xlJywgJ21lbnVpdGVtJyk7CiAgICAgICAgc2V0QXR0cihlbCwgJ3RhYmluZGV4JywgJy0xJyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNsb3NlT25TY3JvbGw6IGZ1bmN0aW9uIGNsb3NlT25TY3JvbGwobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gb2xkVmFsdWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChuZXdWYWx1ZSAmJiB0aGlzLnNob3cpIHsKICAgICAgICB0aGlzLmFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlbW92ZVNjcm9sbEV2ZW50TGlzdGVuZXIoKTsKICAgICAgfQogICAgfSwKICAgIGl0ZW1TZWxlY3RvcjogZnVuY3Rpb24gaXRlbVNlbGVjdG9yKHNlbGVjdG9yLCBvbGRWYWx1ZSkgewogICAgICBpZiAoc2VsZWN0b3IgIT09IG9sZFZhbHVlKSB7CiAgICAgICAgdGhpcy5sb2NhbEl0ZW1TZWxlY3RvciA9IHRoaXMubWFwSXRlbVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgICAgfQogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgaWYgKHRoaXMubGF6eSAmJiAhdGhpcy5zaG93KSB7CiAgICAgIHJldHVybiBoKGZhbHNlKTsKICAgIH0gLy8gT25seSByZWdpc3RlciB0aGUgZXZlbnRzIHdlIG5lZWQKCgogICAgdmFyIG9uID0gewogICAgICAvLyBgIWAgbW9kaWZpZXIgZm9yIGNhcHR1cmUKICAgICAgJyFjb250ZXh0bWVudSc6IGZ1bmN0aW9uIGNvbnRleHRtZW51KGUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0sCiAgICAgIGtleWRvd246IHRoaXMub25LZXlkb3duIC8vIHVwLCBkb3duLCBlc2MKCiAgICB9OwoKICAgIGlmICh0aGlzLmNsb3NlT25DbGljaykgewogICAgICBvbi5jbGljayA9IHRoaXMub25DbGljazsKICAgIH0gLy8gT25seSByZWdpc3RlciB0aGUgZGlyZWN0aXZlcyB3ZSBuZWVkCgoKICAgIHZhciBkaXJlY3RpdmVzID0gW3sKICAgICAgbmFtZTogJ29uLWNsaWNrYXdheScsCiAgICAgIHZhbHVlOiB0aGlzLmNsb3NlLAogICAgICByYXdOYW1lOiAndi1vbi1jbGlja2F3YXknCiAgICB9XTsKCiAgICBpZiAoIXRoaXMubGF6eSkgewogICAgICBkaXJlY3RpdmVzLnB1c2goewogICAgICAgIG5hbWU6ICdzaG93JywKICAgICAgICB2YWx1ZTogdGhpcy5zaG93LAogICAgICAgIHJhd05hbWU6ICd2LXNob3cnLAogICAgICAgIGV4cHJlc3Npb246ICdzaG93JwogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gaCh0aGlzLnRhZywgewogICAgICBzdGF0aWNDbGFzczogJ3YtY29udGV4dCcsCiAgICAgIHN0eWxlOiB0aGlzLnN0eWxlLAogICAgICBhdHRyczogewogICAgICAgIHRhYmluZGV4OiAnLTEnLAogICAgICAgIHJvbGU6IHRoaXMucm9sZSwKICAgICAgICAnYXJpYS1oaWRkZW4nOiB0aGlzLmxhenkgPyBudWxsIDogU3RyaW5nKCF0aGlzLnNob3cpCiAgICAgIH0sCiAgICAgIG9uOiBvbiwKICAgICAgZGlyZWN0aXZlczogZGlyZWN0aXZlcwogICAgfSwgW25vcm1hbGl6ZVNsb3QoJ2RlZmF1bHQnLCB7CiAgICAgIGRhdGE6IHRoaXMuZGF0YQogICAgfSwgdGhpcy4kc2NvcGVkU2xvdHMsIHRoaXMuJHNsb3RzKV0pOwogIH0KfTs="},null]}