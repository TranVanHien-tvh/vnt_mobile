{"remainingRequest":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\babel-loader\\lib\\index.js!D:\\VNT Mobile\\vnt_mobile\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\VNT Mobile\\vnt_mobile\\src\\views\\base\\BaseList.js","dependencies":[{"path":"D:\\VNT Mobile\\vnt_mobile\\src\\views\\base\\BaseList.js","mtime":1653205086694},{"path":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VNT Mobile\\vnt_mobile\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1ZOVCBNb2JpbGUvdm50X21vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L1ZOVCBNb2JpbGUvdm50X21vYmlsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IE1vZHVsZUNvbnRleHQgfSBmcm9tICJAL3N0b3Jlcy9tb2R1bGUtY29uc3QiOwppbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICJAL21peGlucy9jb21tb24vZmlsdGVyIjsKaW1wb3J0IHsgZXhwb3J0TGlzdCB9IGZyb20gIkAvbWl4aW5zL2xpc3QvZXhwb3J0TGlzdCI7CmltcG9ydCB7IG1peGluU3VwZXIgfSBmcm9tICJAL21peGlucy9jb21tb24vbWl4aW5TdXBlciI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgY29tYm9ib3hDb2x1bW5zIH0gZnJvbSAiQC9taXhpbnMvY29tbW9uL2NvbWJvYm94Q29sdW1ucyI7CmltcG9ydCB7IHNob3J0a2V5U3RhdHVzYmFyIH0gZnJvbSAnQC9taXhpbnMvY29tbW9uL3Nob3J0a2V5U3RhdHVzYmFyJzsKaW1wb3J0IGRlYm91bmNlIGZyb20gImxvZGFzaC5kZWJvdW5jZSI7CmltcG9ydCB7IF8gfSBmcm9tICJjb3JlLWpzIjsKLyoqDQogKiBDw6FjIHRow7RuZyB0aW4gY2h1bmcgY+G7p2EgbcOgbiBow6xuaCBkYW5oIHPDoWNoDQogKiBT4butIGThu6VuZyBjaHVuZyBjaG8gZGFuaCBzw6FjaCB2w6AgYsOhbyBjw6FvIMSR4buZbmcNCiAqLwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCYXNlTGlzdCIsCiAgbWl4aW5zOiBbbWl4aW5TdXBlciwgZmlsdGVyLCBleHBvcnRMaXN0LCBjb21ib2JveENvbHVtbnMsIHNob3J0a2V5U3RhdHVzYmFyXSwKICBwcm9wczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8qKg0KICAgICAgICogcmVmbmFtZSBjb250cm9sIGhp4buDbiB0aOG7iyBk4buvIGxp4buHdTogZ3JpZC90cmVlDQogICAgICAgKi8KICAgICAgdmlld1JlZjogInZpZXdMaXN0IiwKCiAgICAgIC8qKg0KICAgICAgICogYmluZGluZyDDtCB0w6xtIGtp4bq/bQ0KICAgICAgICovCiAgICAgIHNlYXJjaFRleHQ6ICIiLAoKICAgICAgLyoqDQogICAgICAgKiBUw6puIHRyxrDhu51uZyBraMOzYSBjaMOtbmggY+G7p2EgYuG6o24gZ2hpDQogICAgICAgKi8KICAgICAgaWRGaWVsZDogIiIsCgogICAgICAvKioNCiAgICAgICAqIERhbmggc8OhY2ggY8OhYyBi4bqjbiBnaGkgxJFhbmcgY2jhu41uDQogICAgICAgKi8KICAgICAgc2VsZWN0ZWQ6IFtdLAoKICAgICAgLyoqDQogICAgICAgKiBDaOG7jW4gdOG6pXQgY+G6oyBjw6FjIHRyYW5nDQogICAgICAgKi8KICAgICAgc2VsZWN0QWxsUGFnZTogZmFsc2UsCgogICAgICAvKioNCiAgICAgICAqIFPhu5EgbMaw4bujbmcgYuG6o24gZ2hpIHRyw6puIDEgdHJhbmcNCiAgICAgICAqLwogICAgICBwYWdlU2l6ZTogNTAsCgogICAgICAvKioNCiAgICAgICAqIMSQaeG7gXUga2nhu4duIGxvYWQgdGhhbSBz4buRDQogICAgICAgKi8KICAgICAgY29uZGl0aW9uOiB7fSwKCiAgICAgIC8qKg0KICAgICAgICogY8OzIGZpbHRlciBoZWFkZXIga2jDtG5nDQogICAgICAgKi8KICAgICAgZmlsdGVyYWJsZTogdHJ1ZSwKCiAgICAgIC8qKg0KICAgICAgICogVMOhY2ggcmnDqm5nIHJlcXVlc3QgbOG6pXkgc3VtbWFyeSByYSBraOG7j2kgaMOgbSBs4bqleSBwYWdpbmcgZGF0YQ0KICAgICAgICovCiAgICAgIHNwbGl0TG9hZFJlcXVlc3Q6IHRydWUsCgogICAgICAvKioNCiAgICAgICAqIGPhuqV1IGjDrG5oIGxpbmsgaGVscA0KICAgICAgICovCiAgICAgIGhlbHBJZDogJycsCgogICAgICAvKioNCiAgICAgICogRGFuaCBzw6FjaCBjw6FjIHByb3BlcnR5IGNobyBpbnB1dCB0w6xtIGtp4bq/bQ0KICAgICAgKiBT4butIGThu6VuZyDEkeG7gyBidWlsZCB2w6BvIHBheWxvYWQga2hpIOG6pW4gdMOsbSBraeG6v20gdHLDqm4gaW5wdXQNCiAgICAgICogVEROR0hJQSA1LzEwLzIwMjENCiAgICAgICovCiAgICAgIGxpc3RQcm9wZXJ0eVNlYXJjaDogW10sCgogICAgICAvKioNCiAgICAgICAqIGRhbmggc8OhY2ggZ2nDoSB0cuG7iyBjw6FjIGNvbWJvIHRyb25nIGZpbHRlckJveA0KICAgICAgICogREhQaGkgMjIvMTAvMjAyMQ0KICAgICAgICovCiAgICAgIGZpbHRlckJveDogW10sCgogICAgICAvKioNCiAgICAgICAqIHJlZm5hbWUgY2hvIMO0IHTDrG0ga2nhur9tDQogICAgICAgKiBOTVRVQU4yIDAzLjEyLjIwMjENCiAgICAgICAqLwogICAgICBzZWFyY2hCb3hSZWY6ICJzZWFyY2hCb3giLAoKICAgICAgLyoqDQogICAgICAgKiDEkcOhbmggZOG6pXUgxJFhbmcgc2VhcmNoIGThu68gbGnhu4d1IGdyaWQNCiAgICAgICAqIE5NVFVBTjIgMDMuMTIuMjAyMQ0KICAgICAgICovCiAgICAgIGlzU2VhcmNoaW5nOiBmYWxzZSwKCiAgICAgIC8qKg0KICAgICAgICogZ2nDoSB0cuG7iyBzZWFyY2ggZ+G6p24gbmjhuqV0IGPhu6dhIMO0IHTDrG0ga2nhur9tDQogICAgICAgKiBOTVRVQU4yIDA0LjEyLjIwMjENCiAgICAgICAqLwogICAgICBsYXN0U2VhcmNoVGV4dDogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgIC8qKg0KICAgICAqIMSQ4buRaSB0xrDhu6NuZyBoaeG7g24gdGjhu4sgZ3JpZC92aWV3DQogICAgICovCiAgICBncmlkOiBmdW5jdGlvbiBncmlkKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmc1t0aGlzLnZpZXdSZWZdOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBDaOG7jW4gbmhp4buBdSBi4bqjbiBnaGkNCiAgICAgKi8KICAgIG11bHRpU2VsZWN0ZWQ6IGZ1bmN0aW9uIG11bHRpU2VsZWN0ZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkLmxlbmd0aCA+IDE7CiAgICB9CiAgfSwgbWFwR2V0dGVycyh7CiAgICAvKioNCiAgICAgKiBOZ8O0biBuZ+G7ryBoaeG7h24gdOG6oWkNCiAgICAgKi8KICAgIEN1bHR1cmU6IE1vZHVsZUNvbnRleHQgKyAiL0N1bHR1cmUiCiAgfSkpLCB7fSwgewogICAgLyoqDQogICAgICogxJDhu5FpIHTGsOG7o25nIGhp4buDbiB0aOG7iyDDtCB0w6xtIGtp4bq/bQ0KICAgICAqIE5NVFVBTjIgMDMuMTIuMjAyMQ0KICAgICAqLwogICAgc2VhcmNoQm94OiBmdW5jdGlvbiBzZWFyY2hCb3goKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzW3RoaXMuc2VhcmNoQm94UmVmXTsKICAgIH0sCiAgICBjb250ZXh0OiBmdW5jdGlvbiBjb250ZXh0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGVbTW9kdWxlQ29udGV4dF07CiAgICB9CiAgfSksCiAgd2F0Y2g6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFBhZ2VTaXplKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgd2luZG93Ll9oZWxwSWQgPSB0aGlzLmhlbHBJZDsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKg0KICAgICAqIEzhuqV5IHBhZ2VzaXplIHThu6sgY2FjaGUNCiAgICAgKi8KICAgIGdldFBhZ2VTaXplOiBmdW5jdGlvbiBnZXRQYWdlU2l6ZSgpIHsKICAgICAgdmFyIF9tZSQkcm91dGU7CgogICAgICB2YXIgbWUgPSB0aGlzLAogICAgICAgICAgY2FjaGVLZXkgPSAoX21lJCRyb3V0ZSA9IG1lLiRyb3V0ZSkgPT09IG51bGwgfHwgX21lJCRyb3V0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21lJCRyb3V0ZS5uYW1lOwoKICAgICAgaWYgKGNhY2hlS2V5KSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIG1lLiRtcy5pbmRleGVkREIuZ2V0KGNhY2hlS2V5KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgbWUucGFnZVNpemUgPSByZXMgfHwgNTA7CiAgICAgICAgICAgIG1lLl9nb3RDYWNoZSA9IHRydWU7CiAgICAgICAgICB9KTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgbWUucGFnZVNpemUgPSA1MDsKICAgICAgICAgIG1lLl9nb3RDYWNoZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIFjhu60gbMO9IGtoaSBuaOG6rXAgbuG7mWkgZHVuZyB0w6xtIGtp4bq/bQ0KICAgICAqLwogICAgc2VhcmNoQ2hhbmdlOiBkZWJvdW5jZShmdW5jdGlvbiAoKSB7CiAgICAgIC8vIHRoaXMuc2VhcmNoVGV4dCA9IHRoaXMuc2VhcmNoVGV4dCA/IHRoaXMuc2VhcmNoVGV4dC50cmltKCkgOiBudWxsOyAvLyBi4buPIHRow6wgduG6q24gdMOsbSBiw6xuaCB0aMaw4budbmcKICAgICAgdGhpcy5zZWFyY2hUZXh0ID0gdGhpcy5zZWFyY2hUZXh0ID8gdGhpcy5zZWFyY2hUZXh0IDogIiI7CgogICAgICBpZiAodGhpcy5sYXN0U2VhcmNoVGV4dCAhPSB0aGlzLnNlYXJjaFRleHQudHJpbSgpKSB7CiAgICAgICAgdGhpcy5sYXN0U2VhcmNoVGV4dCA9IHRoaXMuc2VhcmNoVGV4dC50cmltKCk7CiAgICAgICAgdGhpcy5pc1NlYXJjaGluZyA9IHRydWU7CiAgICAgICAgdGhpcy5yZWxvYWQoKTsKICAgICAgfQogICAgfSwgNTAwKSwKCiAgICAvKioNCiAgICAgKiB0aOG7sWMgaGnhu4duIGzhu41jIHRoZW8gZ2nDoSB0cuG7iyB04burIGZpbHRlckJveA0KICAgICAqIERIUGhpIDIyLzEwLzIwMjENCiAgICAgKi8KICAgIGZpbHRlckJveENoYW5nZTogZnVuY3Rpb24gZmlsdGVyQm94Q2hhbmdlKGRhdGEpIHsKICAgICAgLy8gbGV0IGl0ZW07CiAgICAgIC8vIGlmIChkYXRhLmxlbmd0aCA+IDApIHsgLy8gbuG6v3Ugc+G7kSBsxrDhu6NuZyBi4bqxbmcgMCBsw6AgdHLGsOG7nW5nIGjhu6NwIGLhu48gbOG7jWMKICAgICAgLy8gICBkYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHsKICAgICAgLy8gICAgIGlmIChlbGVtZW50LmVudW1OYW1lICE9PSBudWxsKSB7IC8vIGtp4buDbSB0cmEgdHLGsOG7nW5nIGjhu6NwIGNvbWJvYm94IHRoxrDhu51uZyBoYXkgY29tYm9ib3ggZW51bQogICAgICAvLyAgICAgICBpdGVtID0gewogICAgICAvLyAgICAgICAgIGNhcHRpb246IHRoaXMuJHQoCiAgICAgIC8vICAgICAgICAgICBgaTE4bkJhc2VGb3JtLkZpbHRlci5GaWx0ZXJCb3guJHtlbGVtZW50Lm5hbWV9YAogICAgICAvLyAgICAgICAgICksCiAgICAgIC8vICAgICAgICAgZmlsdGVySWdub3JlVmFsdWU6IGVsZW1lbnQudmFsdWUsIC8vL3Row6ptIGPDoWkgdGh14buZYyB0w61uaCBuw6B5IMSR4buDIGtvIHRo4buxYyBoaeG7h24gdsOgbyBmaWx0ZXJoZWFkZXIKICAgICAgLy8gICAgICAgICBJc1NlbGVjdGVkOiBmYWxzZSwKICAgICAgLy8gICAgICAgICBlbnVtOiBlbGVtZW50Lm5hbWVFbnVtLAogICAgICAvLyAgICAgICAgIGRhdGFGaWVsZDogZWxlbWVudC5uYW1lLAogICAgICAvLyAgICAgICAgIGZpbHRlcjogeyBvcGVyYXRvcjogIj0iLCB2YWx1ZTogZWxlbWVudC52YWx1ZSB9LAogICAgICAvLyAgICAgICAgIGZvcm1hdFR5cGU6IHRoaXMuJG1zLmVudW0uRm9ybWF0VHlwZS5FbnVtLAogICAgICAvLyAgICAgICB9OwogICAgICAvLyAgICAgfSBlbHNlIHsKICAgICAgLy8gICAgICAgaXRlbSA9IHsKICAgICAgLy8gICAgICAgICBjYXB0aW9uOiB0aGlzLiR0KAogICAgICAvLyAgICAgICAgICAgYGkxOG5CYXNlRm9ybS5GaWx0ZXIuRmlsdGVyQm94LiR7ZWxlbWVudC5uYW1lfWAKICAgICAgLy8gICAgICAgICApLAogICAgICAvLyAgICAgICAgIGZpbHRlcklnbm9yZVZhbHVlOiBlbGVtZW50LnZhbHVlLCAvLy90aMOqbSBjw6FpIHRodeG7mWMgdMOtbmggbsOgeSDEkeG7gyBrbyB0aOG7sWMgaGnhu4duIHbDoG8gZmlsdGVyaGVhZGVyCiAgICAgIC8vICAgICAgICAgSXNTZWxlY3RlZDogZmFsc2UsCiAgICAgIC8vICAgICAgICAgZW51bTogZWxlbWVudC5uYW1lRW51bSwKICAgICAgLy8gICAgICAgICBkYXRhRmllbGQ6IGVsZW1lbnQubmFtZSwKICAgICAgLy8gICAgICAgICBmaWx0ZXI6IHsgb3BlcmF0b3I6ICI9IiwgdmFsdWU6IGVsZW1lbnQudGV4dCB9LAogICAgICAvLyAgICAgICB9OwogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgdGhpcy4kcmVmcy52aWV3TGlzdC5maWx0ZXJIZWFkZXIucHVzaChpdGVtKTsgLy9n4buNaSB04bubaSB0aOG6sW5nIHNldCBjaG8gaGVhZGVyIHRyb25nIGdyaWQKICAgICAgLy8gICB9KTsKICAgICAgLy8gfQogICAgICB0aGlzLmZpbHRlckJveCA9IGRhdGE7CiAgICAgIHRoaXMucmVsb2FkKCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIExvYWQgbOG6oWkgZOG7ryBsaeG7h3UNCiAgICAgKi8KICAgIHJlbG9hZDogZnVuY3Rpb24gcmVsb2FkKCkgewogICAgICB2YXIgbWUgPSB0aGlzOyAvL2NodXnhu4NuIHBhZ2luZyBiYXIgduG7gSB0cmFuZyDEkeG6p3UKCiAgICAgIGlmIChtZS5ncmlkICYmIHR5cGVvZiBtZS5ncmlkLnNldFBhZ2UgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICBtZS5ncmlkLnNldFBhZ2UoMSk7CiAgICAgIH0gLy94w7NhIHRoYW0gc+G7kSBjxakgxJHhu4MgcmVsb2FkCgoKICAgICAgZGVsZXRlIG1lLmxhc3RQYXJhbTsKICAgICAgbWUucmVmcmVzaCgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBMb2FkIGzhuqFpIGThu68gbGnhu4d1DQogICAgICovCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICB2YXIgX21lJCRyb3V0ZTI7CgogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICB2YXIgY2FjaGVLZXkgPSAoX21lJCRyb3V0ZTIgPSBtZS4kcm91dGUpID09PSBudWxsIHx8IF9tZSQkcm91dGUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWUkJHJvdXRlMi5uYW1lOyAvLyBO4bq/dSBjaMawYSBnZXQgY2FjaGUgeGVtIHRow6wgY2jhurduIGzhuqFpIGNo4budIGdldCB4b25nIG3hu5tpIGfhu41pIGxvYWQgZGF0YQoKICAgICAgaWYgKCFtZS5fZ290Q2FjaGUgJiYgY2FjaGVLZXkpIHsKICAgICAgICBtZS5sb2FkRGF0YUJ5Q2FjaGUoY2FjaGVLZXkpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBwYXJhbSA9IG1lLmxhc3RQYXJhbSB8fCB7CiAgICAgICAgICBza2lwOiAwLAogICAgICAgICAgdGFrZTogbWUucGFnZVNpemUKICAgICAgICB9OwogICAgICAgIG1lLmxvYWREYXRhKHBhcmFtKTsgLy9sb2FkIHN1bW1hcnkKCiAgICAgICAgaWYgKG1lLnNwbGl0TG9hZFJlcXVlc3QpIHsKICAgICAgICAgIG1lLmxvYWREYXRhU3VtYXJ5KHBhcmFtKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogTG9hZCBk4buvIGxp4buHdSB0aGVvIHBhZ2VzaXplIGPhu6dhIGNhY2hlDQogICAgICovCiAgICBsb2FkRGF0YUJ5Q2FjaGU6IGZ1bmN0aW9uIGxvYWREYXRhQnlDYWNoZShjYWNoZUtleSkgewogICAgICB2YXIgbWUgPSB0aGlzOyAvLyBWw6wgaW5kZXhEQiBoYXkgbOG7l2kgbsOqbiBj4bqnbiBi4buNYyB0cnktY2F0Y2ggdHJvbmcgdHLGsOG7nW5nIGjhu6NwIG11bHRpcGxlIHRhYnMKCiAgICAgIHRyeSB7CiAgICAgICAgLy8gY8OzIGNhY2hla2V5IHRow6wgZ+G7jWkgbOG6oWkgbOG6pXkgc+G7kSBsaeG7h3UgdGhlbyBwYWdlc2l6ZSBraMO0bmcgdGjDrCBn4buNaSBuaMawIHRoxrDhu51uZwogICAgICAgIG1lLiRtcy5pbmRleGVkREIuZ2V0KGNhY2hlS2V5KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciBwYXJhbSA9IHsKICAgICAgICAgICAgc2tpcDogMCwKICAgICAgICAgICAgdGFrZTogcmVzIHx8IDIwCiAgICAgICAgICB9OwogICAgICAgICAgbWUubG9hZERhdGEocGFyYW0pOyAvL2xvYWQgc3VtbWFyeQoKICAgICAgICAgIGlmIChtZS5zcGxpdExvYWRSZXF1ZXN0KSB7CiAgICAgICAgICAgIG1lLmxvYWREYXRhU3VtYXJ5KHBhcmFtKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBtZS5fZ290Q2FjaGUgPSB0cnVlOwogICAgICAgIG1lLnJlZnJlc2goKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBMb2FkIGThu68gbGnhu4d1IGRhbmggc8OhY2gNCiAgICAgKi8KICAgIGxvYWREYXRhOiBmdW5jdGlvbiBsb2FkRGF0YShwYXlsb2FkKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7IC8vbuG6v3UgbMOgIHRyYW5nIMSR4bqndSBidWlsZCBs4bqhaSB0aGFtIHPhu5EsIGPDoWMgdHJhbmcgdGnhur9wIHRoZW8gZMO5bmcgbGFzdFBhcmFtIHbDoCBjaOG7iSDEkeG7lWkgc2tpcAoKICAgICAgaWYgKCFwYXlsb2FkLnNraXApIHsKICAgICAgICAvL3jhu60gbMO9IGPDoWMgdGhhbSBz4buRIGtow6FjCiAgICAgICAgbWUucHJvY2Vzc0xvYWRQYXJhbWV0ZXIocGF5bG9hZCk7IC8vY2h14bqpbiBow7NhIHRoYW0gc+G7kSB0cnV54buBbiBsw6puIHNlcnZlcgoKICAgICAgICBtZS5ub21hbGl6ZUxvYWRQYXJhbWV0ZXIocGF5bG9hZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSBpbiBtZS5sYXN0UGFyYW0pIHsKICAgICAgICAgIHN3aXRjaCAoaSkgewogICAgICAgICAgICBjYXNlICJza2lwIjoKICAgICAgICAgICAgICAvL2Lhu48gcXVhCiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIHBheWxvYWRbaV0gPSBtZS5sYXN0UGFyYW1baV07CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vY2FjaGUgbOG6oWkgdGhhbSBz4buRIMSR4buDIGTDuW5nIGNobyB4deG6pXQga2jhuql1IHbDoCByZXN0b3JlIGRhdGEgY2hvIGzhuqduIHNhdSBxdWF5IGzhuqFpCgoKICAgICAgbWUubGFzdFBhcmFtID0gcGF5bG9hZDsKCiAgICAgIGlmIChtZS5zcGxpdExvYWRSZXF1ZXN0KSB7CiAgICAgICAgLy9maXggY2jhu4kgxJHhu41jIGRhdGEKICAgICAgICBwYXlsb2FkLnJlYWRUeXBlID0gMTsKICAgICAgfQogICAgICAvKioNCiAgICAgICAqIEfhu41pIHJlcXVlc3QgbG9hZCBkYXRhDQogICAgICAgKi8KCgogICAgICBtZS5yZXF1ZXN0TG9hZERhdGEocGF5bG9hZCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIExvYWQgc3VtbWFyeSBjaG8gZ3JpZCBkYW5oIHPDoWNoDQogICAgICovCiAgICBsb2FkRGF0YVN1bWFyeTogZnVuY3Rpb24gbG9hZERhdGFTdW1hcnkocGF5bG9hZCkgewogICAgICB2YXIgbWUgPSB0aGlzOyAvL3RoYW0gc+G7kSBjaOG7lyBuw6B5IMSRw6MgcXVhIGjDoG0gbG9hZCBkYXRhIGRjIHjhu60gbMO9IHLhu5NpCgogICAgICB2YXIgcGFyYW0gPSB7fTsKCiAgICAgIGZvciAodmFyIGkgaW4gcGF5bG9hZCkgewogICAgICAgIHN3aXRjaCAoaSkgewogICAgICAgICAgY2FzZSAic2tpcCI6CiAgICAgICAgICBjYXNlICJ0YWtlIjoKICAgICAgICAgIGNhc2UgInNvcnQiOgogICAgICAgICAgICAvL2Lhu48gcXVhCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgLy8gY2FzZSAiY29sdW1ucyI6CiAgICAgICAgICAvLyAgIC8vVE9ETyBjaOG7lyBuw6B5IHPhur0gY2jhur8gbOG6oWkgY2jhu4kgbOG6pXkgY8OhYyBj4buZdCBjw7Mgc3VtIHRow7RpCiAgICAgICAgICAvLyAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHBhcmFtW2ldID0gcGF5bG9hZFtpXTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9IC8vZml4IGNo4buJIMSR4buNYyBzdW1tYXJ5CgoKICAgICAgcGFyYW0ucmVhZFR5cGUgPSAyOwogICAgICAvKioNCiAgICAgICAqIEfhu41pIHJlcXVlc3QgbG9hZCBkYXRhDQogICAgICAgKi8KCiAgICAgIG1lLnJlcXVlc3RMb2FkRGF0YVN1bW1hcnkocGFyYW0pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBH4buNaSByZXF1ZXN0IGxvYWQgZOG7ryBsaeG7h3UNCiAgICAgKi8KICAgIHJlcXVlc3RMb2FkRGF0YTogZnVuY3Rpb24gcmVxdWVzdExvYWREYXRhKCkge30sCgogICAgLyoqDQogICAgICogR+G7jWkgcmVxdWVzdCBsb2FkIHN1bW1hcnkNCiAgICAgKi8KICAgIHJlcXVlc3RMb2FkRGF0YVN1bW1hcnk6IGZ1bmN0aW9uIHJlcXVlc3RMb2FkRGF0YVN1bW1hcnkoKSB7fSwKCiAgICAvKioNCiAgICAgKiBY4butIGzDvSB0aGFtIHPhu5EgbG9hZCBk4buvIGxp4buHdQ0KICAgICAqLwogICAgcHJvY2Vzc0xvYWRQYXJhbWV0ZXI6IGZ1bmN0aW9uIHByb2Nlc3NMb2FkUGFyYW1ldGVyKHBheWxvYWQpIHsKICAgICAgdmFyIG1lID0gdGhpczsgLy9maWx0ZXIKCiAgICAgIHBheWxvYWQuZmlsdGVyID0gW107CgogICAgICBpZiAobWUuZmlsdGVyYWJsZSAmJiB0eXBlb2YgbWUuZ3JpZC5nZXRGaWx0ZXJIZWFkZXIgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICBwYXlsb2FkLmZpbHRlciA9IG1lLmdyaWQuZ2V0RmlsdGVySGVhZGVyKCk7CiAgICAgIH0gLy9URE5HSElBIDUvMTAvMjAyMTogYnVpbGQgcGF5bG9hZC5maWx0ZXIgdOG7qyDDtCBpbnB1dCB0w6xtIGtp4bq/bQoKCiAgICAgIGlmIChtZS5zZWFyY2hUZXh0ICYmIG1lLmxpc3RQcm9wZXJ0eVNlYXJjaC5sZW5ndGggPiAwKSB7CiAgICAgICAgbWUuZ2V0RmlsdGVySW5wdXQocGF5bG9hZCk7CiAgICAgIH0gLy9URE5HSElBIDUvMTAvMjAyMTogYnVpbGQgcGF5bG9hZC5maWx0ZXIgdOG7qyBjb21ibyBs4buNYwoKCiAgICAgIGlmIChtZS5maWx0ZXJCb3gubGVuZ3RoID4gMCkgewogICAgICAgIG1lLmdldEZpbHRlckNvbWJvKHBheWxvYWQpOwogICAgICB9IC8vY29sdW1uCgoKICAgICAgcGF5bG9hZC5jb2x1bW5zID0gbWUucHJvY2Vzc0xvYWRQYXJhbWV0ZXJDb2x1bW4ocGF5bG9hZCk7IC8vdGhhbSBz4buRIGxvYWQgZOG7ryBsaeG7h3UKCiAgICAgIHBheWxvYWQuY29uZGl0aW9uID0gbWUuZ2V0Q29uZGl0aW9uUGFyYW1ldGVyKCk7IC8vIG7hur91IGdyaWQgY8OzIGPhuqV1IGjDrG5oIHNvcnQgZGVmYXVsdCB0aMOsCgogICAgICBpZiAobWUuZ3JpZC5kZWZhdWx0U29ydCAmJiBBcnJheS5pc0FycmF5KG1lLmdyaWQuZGVmYXVsdFNvcnQpKSB7CiAgICAgICAgdmFyIGxpc3RTb3J0ID0gW107CiAgICAgICAgbWUuZ3JpZC5kZWZhdWx0U29ydC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAvLyBu4bq/dSBjw7Mgc29ydCBjdXN0b20gdGjDrCBu4bq/dSB0csO5bmcgduG7m2kgaXRlbSBuw6BvIHRow6wgbG/huqFpIGl0ZW0gxJHDsyByYSBraOG7j2kgbGlzdFNvcnQgxJHhu4Mga2jDtG5nIGLhu4sgdHLDuW5nCiAgICAgICAgICBpZiAocGF5bG9hZC5Tb3J0KSB7CiAgICAgICAgICAgIGlmICghcGF5bG9hZC5Tb3J0LmNvbnRhaW5zKGl0ZW0uc29ydEZpZWxkKSkgewogICAgICAgICAgICAgIGxpc3RTb3J0LnB1c2goIiIuY29uY2F0KGl0ZW0uc29ydEZpZWxkLCAiICIpLmNvbmNhdChpdGVtLnNvcnRUeXBlID09IG1lLiRtcy5lbnVtLlNvcnRTdGF0dXMuZGVzYyA/ICJERVNDIiA6ICJBU0MiKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxpc3RTb3J0LnB1c2goIiIuY29uY2F0KGl0ZW0uc29ydEZpZWxkLCAiICIpLmNvbmNhdChpdGVtLnNvcnRUeXBlID09IG1lLiRtcy5lbnVtLlNvcnRTdGF0dXMuZGVzYyA/ICJERVNDIiA6ICJBU0MiKSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHNvcnREZWZhdWx0ID0gbGlzdFNvcnQubGVuZ3RoID4gMCA/IGxpc3RTb3J0LmpvaW4oIiwgIikgOiAiIjsKICAgICAgICB2YXIgc29ydEN1c3RvbSA9IHBheWxvYWQuU29ydCA/IHBheWxvYWQuU29ydCA6ICIiOwoKICAgICAgICBpZiAoc29ydEN1c3RvbSAmJiBzb3J0RGVmYXVsdCkgewogICAgICAgICAgcGF5bG9hZC5Tb3J0ID0gW3NvcnRDdXN0b20sIHNvcnREZWZhdWx0XS5qb2luKCIsICIpOwogICAgICAgIH0gZWxzZSBpZiAoIXNvcnRDdXN0b20gJiYgc29ydERlZmF1bHQpIHsKICAgICAgICAgIHBheWxvYWQuU29ydCA9IHNvcnREZWZhdWx0OwogICAgICAgIH0gZWxzZSBpZiAoc29ydEN1c3RvbSAmJiAhc29ydERlZmF1bHQpIHsKICAgICAgICAgIHBheWxvYWQuU29ydCA9IHNvcnRDdXN0b207CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBheWxvYWQuU29ydCA9ICIiOwogICAgICAgIH0KICAgICAgfSAvL1TDoWNoIGzhuqV5IHN1bW1hcnkgcmEgcmVxdWVzdCBraMOhYwoKCiAgICAgIGlmIChtZS5zcGxpdExvYWRSZXF1ZXN0KSB7CiAgICAgICAgcGF5bG9hZC5pZ25vcmVTdW1tYXJ5ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgcGF5bG9hZCA9IG1lLmN1c3RvbVBheWxvYWQocGF5bG9hZCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEzhuqV5IGxpc3QgY8OhYyBwcm9wZXJ0eSBjb25maWcgbOG7jWMgdHLDqm4gaW5wdXQNCiAgICAgKiBTYXUgxJHhuqV5IGFkZCB0aMOqbSB2w6BvIHBheWxvYWQuZmlsdGVyDQogICAgICogQHBhcmFtIHsqfSBwYXlsb2FkIHRydXnhu4FuIHbDoG8gQVBJDQogICAgIC8vdGVtcGxhdGUNCiAgICAgLy8gIHsNCiAgICAgLy8gICBwcm9wZXJ0eTogIkFzc2V0Q2F0ZWdvcnlOYW1lIiwNCiAgICAgLy8gICB2YWx1ZTogbWUuc2VhcmNoVGV4dCwNCiAgICAgLy8gICBvcGVyYXRvcjogImNvbnRhaW5zIiwNCiAgICAgLy8gICBjaGlsZHJlbnM6IFsNCiAgICAgLy8gICAgIHsNCiAgICAgLy8gICAgICAgcHJvcGVydHk6ICJBc3NldENhdGVnb3J5Q29kZSIsDQogICAgIC8vICAgICAgIHZhbHVlOiBtZS5zZWFyY2hUZXh0LA0KICAgICAvLyAgICAgICBvcGVyYXRvcjogImNvbnRhaW5zIiwNCiAgICAgLy8gICAgICAgb3BlcmFuZDogIm9yIg0KICAgICAvLyAgICAgfQ0KICAgICAvLyAgIF0NCiAgICAgLy8gfQ0KICAgICAqLwogICAgZ2V0RmlsdGVySW5wdXQ6IGZ1bmN0aW9uIGdldEZpbHRlcklucHV0KHBheWxvYWQpIHsKICAgICAgdmFyIG1lID0gdGhpczsKCiAgICAgIGlmIChtZS5saXN0UHJvcGVydHlTZWFyY2gubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBpdGVtRmlsdGVyID0gewogICAgICAgICAgb3BlcmF0b3I6IG1lLiRtcy5lbnVtLkZpbHRlckhlYWRlci5Db250YWlucywKICAgICAgICAgIHByb3BlcnR5OiBtZS5saXN0UHJvcGVydHlTZWFyY2hbMF0sCiAgICAgICAgICB2YWx1ZTogbWUuc2VhcmNoVGV4dC50cmltKCksCiAgICAgICAgICBjaGlsZHJlbnM6IFtdCiAgICAgICAgfTsgLy9DaG8gdOG6pXQgY+G6oyBjw6FjIHByb3BlcnR5IGtow6FjIHbDoG8gY2hpbGRyZW4gxJHhu4MgYnVpbGQgY8OidSBvcgoKICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgbWUubGlzdFByb3BlcnR5U2VhcmNoLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgdmFyIGZpZWxkTmFtZSA9IG1lLmxpc3RQcm9wZXJ0eVNlYXJjaFtpbmRleF07CiAgICAgICAgICB2YXIgY2hpbGRGaWx0ZXIgPSB7CiAgICAgICAgICAgIHByb3BlcnR5OiBmaWVsZE5hbWUsCiAgICAgICAgICAgIHZhbHVlOiBtZS5zZWFyY2hUZXh0LnRyaW0oKSwKICAgICAgICAgICAgb3BlcmF0b3I6IG1lLiRtcy5lbnVtLkZpbHRlckhlYWRlci5Db250YWlucywKICAgICAgICAgICAgb3BlcmFuZDogIm9yIgogICAgICAgICAgfTsKICAgICAgICAgIGl0ZW1GaWx0ZXIuY2hpbGRyZW5zLnB1c2goY2hpbGRGaWx0ZXIpOwogICAgICAgIH0KCiAgICAgICAgcGF5bG9hZC5maWx0ZXIucHVzaChpdGVtRmlsdGVyKTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiB0aOG7sWMgaGnhu4duIGzhuqV5IGxpc3QgdOG7qyBtc2ZpbHRlcmJveA0KICAgICAqIHNhdSDEkcOzIGFkZCB0aMOqbSB2w6BvIHBheWxvYWQuZmlsdGVyDQogICAgICogQHBhcmFtIHsqfSBwYXlsb2FkIHRydXnhu4FuIHbDoG8gYXBpDQogICAgICovCiAgICBnZXRGaWx0ZXJCb3g6IGZ1bmN0aW9uIGdldEZpbHRlckJveChwYXlsb2FkKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CgogICAgICBpZiAobWUubGlzdFByb3BlcnR5RmlsdGVyLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgaXRlbUZpbHRlciA9IHsKICAgICAgICAgIG9wZXJhdG9yOiBtZS4kbXMuZW51bS5GaWx0ZXJIZWFkZXIuQ29udGFpbnMsCiAgICAgICAgICBwcm9wZXJ0eTogbWUubGlzdFByb3BlcnR5RmlsdGVyWzBdLAogICAgICAgICAgdmFsdWU6IG1lLmZpbHRlckJveFswXSwKICAgICAgICAgIGNoaWxkcmVuczogW10KICAgICAgICB9OyAvL0NobyB04bqldCBj4bqjIGPDoWMgcHJvcGVydHkga2jDoWMgdsOgbyBjaGlsZHJlbiDEkeG7gyBidWlsZCBjw6J1IG9yCgogICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBtZS5saXN0UHJvcGVydHlGaWx0ZXIubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICB2YXIgZmllbGROYW1lID0gbWUubGlzdFByb3BlcnR5RmlsdGVyW2luZGV4XTsKICAgICAgICAgIHZhciBjaGlsZEZpbHRlciA9IHsKICAgICAgICAgICAgcHJvcGVydHk6IGZpZWxkTmFtZSwKICAgICAgICAgICAgdmFsdWU6IG1lLmZpbHRlckJveFtpbmRleF0sCiAgICAgICAgICAgIG9wZXJhdG9yOiBtZS4kbXMuZW51bS5GaWx0ZXJIZWFkZXIuQ29udGFpbnMsCiAgICAgICAgICAgIG9wZXJhbmQ6ICJhbmQiCiAgICAgICAgICB9OwogICAgICAgICAgaXRlbUZpbHRlci5jaGlsZHJlbnMucHVzaChjaGlsZEZpbHRlcik7CiAgICAgICAgfQoKICAgICAgICBwYXlsb2FkLmZpbHRlci5wdXNoKGl0ZW1GaWx0ZXIpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICogTOG6pXkgY8OhYyB0aMO0bmcgdGluIHThu6sgY29tYm8gbOG7jWMNCiAgICAqIEJ1aWxkIHBheWxvYWQuZmlsdGVyDQogICAgKiBURE5HSElBIDUvMTAvMjAyMQ0KICAgICogb3ZlcnJpZGUgdOG7q25nIG3DoG4gaMOsbmgNCiAgICAqLwogICAgZ2V0RmlsdGVyQ29tYm86IGZ1bmN0aW9uIGdldEZpbHRlckNvbWJvKHBheWxvYWQpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIGl0ZW1GaWx0ZXIgPSB7CiAgICAgICAgb3BlcmF0b3I6IG1lLiRtcy5lbnVtLkZpbHRlckhlYWRlci5FcXVhbHMsCiAgICAgICAgcHJvcGVydHk6IG1lLmZpbHRlckJveFswXS5uYW1lLAogICAgICAgIHZhbHVlOiBtZS5maWx0ZXJCb3hbMF0udmFsdWUsCiAgICAgICAgY2hpbGRyZW5zOiBbXQogICAgICB9OyAvL0NobyB04bqldCBj4bqjIGPDoWMgcHJvcGVydHkga2jDoWMgdsOgbyBjaGlsZHJlbiDEkeG7gyBidWlsZCBjw6J1IG9yCgogICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgbWUuZmlsdGVyQm94Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgIHZhciBmaWVsZE5hbWUgPSBtZS5maWx0ZXJCb3hbaW5kZXhdOwogICAgICAgIHZhciBjaGlsZEZpbHRlciA9IHsKICAgICAgICAgIHByb3BlcnR5OiBmaWVsZE5hbWUubmFtZSwKICAgICAgICAgIHZhbHVlOiBmaWVsZE5hbWUudmFsdWUsCiAgICAgICAgICBvcGVyYXRvcjogbWUuJG1zLmVudW0uRmlsdGVySGVhZGVyLkVxdWFscywKICAgICAgICAgIG9wZXJhbmQ6ICJhbmQiCiAgICAgICAgfTsKICAgICAgICBpdGVtRmlsdGVyLmNoaWxkcmVucy5wdXNoKGNoaWxkRmlsdGVyKTsKICAgICAgfQoKICAgICAgcGF5bG9hZC5maWx0ZXIucHVzaChpdGVtRmlsdGVyKTsKICAgIH0sCgogICAgLyoqDQogICAgICogQ3VzdG9tIHRoYW0gc+G7kSBwYXlsb2FkIHRyxrDhu5tjIGtoaSBjYWxsIGFwaQ0KICAgICAqLwogICAgY3VzdG9tUGF5bG9hZDogZnVuY3Rpb24gY3VzdG9tUGF5bG9hZChwYXlsb2FkKSB7CiAgICAgIHJldHVybiBwYXlsb2FkOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBDdXN0b20gdGhhbSBz4buRIGxvYWQgZOG7ryBsaeG7h3UNCiAgICAgKi8KICAgIHByb2Nlc3NMb2FkUGFyYW1ldGVyQ29sdW1uOiBmdW5jdGlvbiBwcm9jZXNzTG9hZFBhcmFtZXRlckNvbHVtbihwYXlsb2FkKSB7CiAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5ncmlkLmNvbHVtbng7CiAgICAgIHZhciBjb2xzID0gW107CgogICAgICBpZiAoY29sdW1ucykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sdW1ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGNvbCA9IGNvbHVtbnNbaV07CgogICAgICAgICAgaWYgKGNvbC5kYXRhRmllbGQgJiYgY29scy5pbmRleE9mKGNvbC5kYXRhRmllbGQpID09PSAtMSkgewogICAgICAgICAgICBjb2xzLnB1c2goY29sLmRhdGFGaWVsZCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5ncmlkLmlkRmllbGQpIHsKICAgICAgICBjb2xzLnB1c2godGhpcy5ncmlkLmlkRmllbGQpOwogICAgICB9CiAgICAgIC8qDQogICAgICAgKiBD4bqldSBow6xuaCBs4bqleSB0aMOqbSBjw6FjIGPhu5l0IMSRxrDhu6NjIGPhuqV1IGjDrG5oIGx1w7RuIGzhuqV5IGThu68gbGnhu4d1IHRyw6puIGdyaWQNCiAgICAgICAqIHB2ZHV5IDE5LzAxLzIwMjENCiAgICAgICAqLwoKCiAgICAgIGlmICh0aGlzLmdyaWQuYWx3YXlUYWtlQ29sdW1ucyAmJiB0aGlzLmdyaWQuYWx3YXlUYWtlQ29sdW1ucy5sZW5ndGggIT0gMCkgewogICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmdyaWQuYWx3YXlUYWtlQ29sdW1ucy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgIGlmICghY29scy5pbmNsdWRlcyh0aGlzLmdyaWQuYWx3YXlUYWtlQ29sdW1uc1tfaV0pKSB7CiAgICAgICAgICAgIGNvbHMucHVzaCh0aGlzLmdyaWQuYWx3YXlUYWtlQ29sdW1uc1tfaV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGNvbHM7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEzhuqV5IMSRaeG7gXUga2nhu4duIGxvYWQgZOG7ryBsaeG7h3UNCiAgICAgKi8KICAgIGdldENvbmRpdGlvblBhcmFtZXRlcjogZnVuY3Rpb24gZ2V0Q29uZGl0aW9uUGFyYW1ldGVyKCkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICB2YXIgcGFyYW0gPSB7fTsKCiAgICAgIGlmIChtZS5jb25kaXRpb24pIHsKICAgICAgICBmb3IgKHZhciBpIGluIG1lLmNvbmRpdGlvbikgewogICAgICAgICAgdmFyIHZhbHVlID0gbWUuY29uZGl0aW9uW2ldOwoKICAgICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgICAvL2RhdGUKICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZS5nZXRGdWxsWWVhciA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAgIC8vbuG6v3UgdMOqbiB0aHXhu5ljIHTDrW5oIGPDsyB04burIFRpbWUgLT4gbOG6pXkgZnVsbCBkYXRldGltZQogICAgICAgICAgICAgIC8vZWxzZSBjaOG7iSBs4bqleSBkYXRlCiAgICAgICAgICAgICAgaWYgKGkuaW5kZXhPZigiVGltZSIpID4gLTEpIHsKICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoIllZWVktTU0tREQgaGg6bW06c3MiKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgiWVlZWS1NTS1ERCIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHBhcmFtW2ldID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcGFyYW07CiAgICB9LAoKICAgIC8qKg0KICAgICAqIENodeG6qW4gaMOzYSBs4bqhaSB0aGFtIHPhu5EgdHJ1eeG7gW4gbMOqbiBzZXJ2ZXINCiAgICAgKi8KICAgIG5vbWFsaXplTG9hZFBhcmFtZXRlcjogZnVuY3Rpb24gbm9tYWxpemVMb2FkUGFyYW1ldGVyKHBheWxvYWQpIHsKICAgICAgdmFyIG1lID0gdGhpczsKCiAgICAgIGlmICghcGF5bG9hZC5za2lwKSB7CiAgICAgICAgZGVsZXRlIHBheWxvYWQuc2tpcDsKICAgICAgfQoKICAgICAgaWYgKHBheWxvYWQuZmlsdGVyICYmIHBheWxvYWQuZmlsdGVyLmxlbmd0aCA+IDApIHsKICAgICAgICBwYXlsb2FkLmZpbHRlciA9IG1lLmJ1aWxkRmlsdGVyUGFyYW0ocGF5bG9hZC5maWx0ZXIpOwogICAgICB9IGVsc2UgewogICAgICAgIGRlbGV0ZSBwYXlsb2FkLmZpbHRlcjsKICAgICAgfQoKICAgICAgaWYgKHBheWxvYWQuY29uZGl0aW9uICYmIE9iamVjdC5rZXlzKHBheWxvYWQuY29uZGl0aW9uKS5sZW5ndGggPiAwKSB7CiAgICAgICAgcGF5bG9hZC5jb25kaXRpb24gPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkLmNvbmRpdGlvbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHBheWxvYWQuY29uZGl0aW9uOwogICAgICB9CgogICAgICBpZiAocGF5bG9hZC5jb2x1bW5zICYmIHBheWxvYWQuY29sdW1ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgcGF5bG9hZC5jb2x1bW5zID0gcGF5bG9hZC5jb2x1bW5zLmpvaW4oIiwiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkZWxldGUgcGF5bG9hZC5jb2x1bW5zOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIFjhu60gbMO9IG5nw7RuIG5n4buvIGNobyBjYXB0aW9uIHbDoCB0aXRsZSBj4bunYSBjb2x1bW4NCiAgICAgKi8KICAgIGxvY2FsaXphdGlvbkNvbHVtbjogZnVuY3Rpb24gbG9jYWxpemF0aW9uQ29sdW1uKGNvbHVtbnMsIHRhZykgewogICAgICB2YXIgbWUgPSB0aGlzLAogICAgICAgICAgY3VsdHVyZSA9IG1lLkN1bHR1cmU7IC8vbuG6v3UgbMOgIG3huqt1IG3hurdjIMSR4buLbmggdsOgIG5nw7RuIG5n4buvIGtow6FjIHRp4bq/bmcgdmnhu4d0IC0+IGPhuq1wIG5o4bqtdCBjYXB0aW9uL3RpdGxlIHRoZW8gbmfDtG4gbmfhu68KCiAgICAgIGlmIChjdWx0dXJlICE9PSAidmkiKSB7CiAgICAgICAgdmFyIGZuID0gZnVuY3Rpb24gZm4oY29sdW1uLCBmaWVsZCwga2V5KSB7CiAgICAgICAgICB2YXIgdGV4dCA9IG1lLiRtcy5jb21tb25Gbi5nZXRDb2x1bW5UZXh0KGZpZWxkLCB0YWcpOwoKICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgY29sdW1uW2ZpZWxkXSA9IHRleHQ7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2x1bW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgY29sID0gY29sdW1uc1tpXTsKICAgICAgICAgIGZuKGNvbCwgImNhcHRpb24iLCBjb2wuZGF0YUZpZWxkKTsKICAgICAgICAgIGZuKGNvbCwgInRpdGxlIiwgY29sLmRhdGFGaWVsZCArICJUaXRsZSIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBUaGF5IMSR4buVaSBwYWdlc2l6ZQ0KICAgICAqLwogICAgZ3JpZENoYW5nZVBhZ2VTaXplOiBmdW5jdGlvbiBncmlkQ2hhbmdlUGFnZVNpemUodmFsdWUpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbHVlOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBUaGF5IMSR4buVaSDEkeG7mSBy4buZbmcgY+G7mXQgdHLDqm4gZ3JpZA0KICAgICAqIGNyZWF0ZWQgYnkgbnRwaG9uZyAxMy81LzIwMjENCiAgICAgKi8KICAgIGdyaWRSZXNpemVDb2w6IGZ1bmN0aW9uIGdyaWRSZXNpemVDb2woY29sKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIG1lLnNldENhY2hlTGF5b3V0VGVtcGxhdGUoY29sKTsKICAgIH0sCgogICAgLyoqDQogICAgICogc2V0IGNhY2hlIG3huqt1IGxheW91dA0KICAgICAqIGNyZWF0ZWQgYnkgbnRwaG9uZyAxMy81LzIwMjENCiAgICAgKi8KICAgIHNldENhY2hlTGF5b3V0VGVtcGxhdGU6IGZ1bmN0aW9uIHNldENhY2hlTGF5b3V0VGVtcGxhdGUoY29sKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBtZSwgY2FjaGVLZXksIGNhY2hlRGF0YSwgbGF5b3V0VGVtcGxhdGUsIGNvbHVtbnMsIGNvbHVtbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBtZSA9IF90aGlzOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBjYWNoZUtleSA9IG1lLmdldENhY2hlTGF5b3V0VGVtcGxhdGVLZXkoKTsKCiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlS2V5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gbWUuJG1zLmluZGV4ZWREQi5nZXQoY2FjaGVLZXkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBjYWNoZURhdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChjYWNoZURhdGEpIHsKICAgICAgICAgICAgICAgICAgbGF5b3V0VGVtcGxhdGUgPSBKU09OLnBhcnNlKGNhY2hlRGF0YSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFsYXlvdXRUZW1wbGF0ZSkgewogICAgICAgICAgICAgICAgICBsYXlvdXRUZW1wbGF0ZSA9IG1lLmxheW91dENvbHVtbnNbbWUubGF5b3V0VGFnXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAobGF5b3V0VGVtcGxhdGUpIHsKICAgICAgICAgICAgICAgICAgaWYgKGxheW91dFRlbXBsYXRlLkNvbHVtbnMpIHsKICAgICAgICAgICAgICAgICAgICBjb2x1bW5zID0gSlNPTi5wYXJzZShsYXlvdXRUZW1wbGF0ZS5Db2x1bW5zKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKCFjb2x1bW5zICYmIG1lLmdyaWQgJiYgbWUuZ3JpZC5jb2x1bW54KSB7CiAgICAgICAgICAgICAgICAgICAgY29sdW1ucyA9IG1lLmdyaWQuY29sdW1ueDsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbnMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY29sKSB7CiAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBjb2x1bW5zLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHguZGF0YUZpZWxkID09IGNvbC5kYXRhRmllbGQ7CiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uICYmIGNvbC5oYXNPd25Qcm9wZXJ0eSgibmV3V2lkdGgiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4ud2lkdGggPSBjb2wubmV3V2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBsYXlvdXRUZW1wbGF0ZS5Db2x1bW5zID0gSlNPTi5zdHJpbmdpZnkoY29sdW1ucyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAobGF5b3V0VGVtcGxhdGUpIHsKICAgICAgICAgICAgICAgICAgLy9tZS4kbXMuY29tbW9uRm4ucmVtb3ZlTG9jYWxTdG9yYWdlKGNhY2hlS2V5KTsKICAgICAgICAgICAgICAgICAgLy9tZS4kbXMuY29tbW9uRm4uc2V0TG9jYWxTdG9yYWdlKGNhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShsYXlvdXRUZW1wbGF0ZSkpOwogICAgICAgICAgICAgICAgICBtZS4kbXMuaW5kZXhlZERCLnNldChjYWNoZUtleSwgSlNPTi5zdHJpbmdpZnkobGF5b3V0VGVtcGxhdGUpKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEzOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTNdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBs4bqleSBt4bqrdSBsYXlvdXQgdOG7qyBjYWNoZQ0KICAgICAqIGNyZWF0ZWQgYnkgbnRwaG9uZyAxMy81LzIwMjENCiAgICAgKi8KICAgIGdldENhY2hlTGF5b3V0VGVtcGxhdGU6IGZ1bmN0aW9uIGdldENhY2hlTGF5b3V0VGVtcGxhdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIG1lLCBsYXlvdXRUZW1wbGF0ZSwgY2FjaGVLZXksIGNhY2hlRGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbWUgPSBfdGhpczI7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE7CiAgICAgICAgICAgICAgICBjYWNoZUtleSA9IG1lLmdldENhY2hlTGF5b3V0VGVtcGxhdGVLZXkoKTsKCiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlS2V5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIG1lLiRtcy5pbmRleGVkREIuZ2V0KGNhY2hlS2V5KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgY2FjaGVEYXRhID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGNhY2hlRGF0YSkgewogICAgICAgICAgICAgICAgICBsYXlvdXRUZW1wbGF0ZSA9IEpTT04ucGFyc2UoY2FjaGVEYXRhKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGxheW91dFRlbXBsYXRlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBs4bqleSBjYWNoZSBrZXkgbeG6q3UgbGF5b3V0DQogICAgICogY3JlYXRlZCBieSBudHBob25nIDEzLzUvMjAyMQ0KICAgICAqLwogICAgZ2V0Q2FjaGVMYXlvdXRUZW1wbGF0ZUtleTogZnVuY3Rpb24gZ2V0Q2FjaGVMYXlvdXRUZW1wbGF0ZUtleSgpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIGNhY2hlS2V5ID0gIiI7CgogICAgICBpZiAobWUuQ29udGV4dCAmJiBtZS5Db250ZXh0LlVzZXJJRCAmJiBtZS5sYXlvdXRUYWcpIHsKICAgICAgICBjYWNoZUtleSA9ICJMYXlvdXRUZW1wbGF0ZV97MH1fezF9Ii5mb3JtYXQobWUubGF5b3V0VGFnLCBtZS5Db250ZXh0LlVzZXJJRCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjYWNoZUtleTsKICAgIH0sCiAgICBidXR0b25DbGljazogZnVuY3Rpb24gYnV0dG9uQ2xpY2soc3JjS2V5LCBlKSB7fQogIH0KfTs="},null]}