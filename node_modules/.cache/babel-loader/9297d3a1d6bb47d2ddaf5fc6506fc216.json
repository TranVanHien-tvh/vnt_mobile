{"remainingRequest":"D:\\VNT_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\VNT_vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\VNT_vue\\src\\views\\base\\BaseList.js","dependencies":[{"path":"D:\\VNT_vue\\src\\views\\base\\BaseList.js","mtime":1653205086694},{"path":"D:\\VNT_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VNT_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VNT_vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1ZOVF92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9WTlRfdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgTW9kdWxlQ29udGV4dCB9IGZyb20gIkAvc3RvcmVzL21vZHVsZS1jb25zdCI7CmltcG9ydCB7IGZpbHRlciB9IGZyb20gIkAvbWl4aW5zL2NvbW1vbi9maWx0ZXIiOwppbXBvcnQgeyBleHBvcnRMaXN0IH0gZnJvbSAiQC9taXhpbnMvbGlzdC9leHBvcnRMaXN0IjsKaW1wb3J0IHsgbWl4aW5TdXBlciB9IGZyb20gIkAvbWl4aW5zL2NvbW1vbi9taXhpblN1cGVyIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgeyBjb21ib2JveENvbHVtbnMgfSBmcm9tICJAL21peGlucy9jb21tb24vY29tYm9ib3hDb2x1bW5zIjsKaW1wb3J0IHsgc2hvcnRrZXlTdGF0dXNiYXIgfSBmcm9tICdAL21peGlucy9jb21tb24vc2hvcnRrZXlTdGF0dXNiYXInOwppbXBvcnQgZGVib3VuY2UgZnJvbSAibG9kYXNoLmRlYm91bmNlIjsKaW1wb3J0IHsgXyB9IGZyb20gImNvcmUtanMiOwovKioNCiAqIEPDoWMgdGjDtG5nIHRpbiBjaHVuZyBj4bunYSBtw6BuIGjDrG5oIGRhbmggc8OhY2gNCiAqIFPhu60gZOG7pW5nIGNodW5nIGNobyBkYW5oIHPDoWNoIHbDoCBiw6FvIGPDoW8gxJHhu5luZw0KICovCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJhc2VMaXN0IiwKICBtaXhpbnM6IFttaXhpblN1cGVyLCBmaWx0ZXIsIGV4cG9ydExpc3QsIGNvbWJvYm94Q29sdW1ucywgc2hvcnRrZXlTdGF0dXNiYXJdLAogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLyoqDQogICAgICAgKiByZWZuYW1lIGNvbnRyb2wgaGnhu4NuIHRo4buLIGThu68gbGnhu4d1OiBncmlkL3RyZWUNCiAgICAgICAqLwogICAgICB2aWV3UmVmOiAidmlld0xpc3QiLAoKICAgICAgLyoqDQogICAgICAgKiBiaW5kaW5nIMO0IHTDrG0ga2nhur9tDQogICAgICAgKi8KICAgICAgc2VhcmNoVGV4dDogIiIsCgogICAgICAvKioNCiAgICAgICAqIFTDqm4gdHLGsOG7nW5nIGtow7NhIGNow61uaCBj4bunYSBi4bqjbiBnaGkNCiAgICAgICAqLwogICAgICBpZEZpZWxkOiAiIiwKCiAgICAgIC8qKg0KICAgICAgICogRGFuaCBzw6FjaCBjw6FjIGLhuqNuIGdoaSDEkWFuZyBjaOG7jW4NCiAgICAgICAqLwogICAgICBzZWxlY3RlZDogW10sCgogICAgICAvKioNCiAgICAgICAqIENo4buNbiB04bqldCBj4bqjIGPDoWMgdHJhbmcNCiAgICAgICAqLwogICAgICBzZWxlY3RBbGxQYWdlOiBmYWxzZSwKCiAgICAgIC8qKg0KICAgICAgICogU+G7kSBsxrDhu6NuZyBi4bqjbiBnaGkgdHLDqm4gMSB0cmFuZw0KICAgICAgICovCiAgICAgIHBhZ2VTaXplOiA1MCwKCiAgICAgIC8qKg0KICAgICAgICogxJBp4buBdSBraeG7h24gbG9hZCB0aGFtIHPhu5ENCiAgICAgICAqLwogICAgICBjb25kaXRpb246IHt9LAoKICAgICAgLyoqDQogICAgICAgKiBjw7MgZmlsdGVyIGhlYWRlciBraMO0bmcNCiAgICAgICAqLwogICAgICBmaWx0ZXJhYmxlOiB0cnVlLAoKICAgICAgLyoqDQogICAgICAgKiBUw6FjaCByacOqbmcgcmVxdWVzdCBs4bqleSBzdW1tYXJ5IHJhIGto4buPaSBow6BtIGzhuqV5IHBhZ2luZyBkYXRhDQogICAgICAgKi8KICAgICAgc3BsaXRMb2FkUmVxdWVzdDogdHJ1ZSwKCiAgICAgIC8qKg0KICAgICAgICogY+G6pXUgaMOsbmggbGluayBoZWxwDQogICAgICAgKi8KICAgICAgaGVscElkOiAnJywKCiAgICAgIC8qKg0KICAgICAgKiBEYW5oIHPDoWNoIGPDoWMgcHJvcGVydHkgY2hvIGlucHV0IHTDrG0ga2nhur9tDQogICAgICAqIFPhu60gZOG7pW5nIMSR4buDIGJ1aWxkIHbDoG8gcGF5bG9hZCBraGkg4bqlbiB0w6xtIGtp4bq/bSB0csOqbiBpbnB1dA0KICAgICAgKiBURE5HSElBIDUvMTAvMjAyMQ0KICAgICAgKi8KICAgICAgbGlzdFByb3BlcnR5U2VhcmNoOiBbXSwKCiAgICAgIC8qKg0KICAgICAgICogZGFuaCBzw6FjaCBnacOhIHRy4buLIGPDoWMgY29tYm8gdHJvbmcgZmlsdGVyQm94DQogICAgICAgKiBESFBoaSAyMi8xMC8yMDIxDQogICAgICAgKi8KICAgICAgZmlsdGVyQm94OiBbXSwKCiAgICAgIC8qKg0KICAgICAgICogcmVmbmFtZSBjaG8gw7QgdMOsbSBraeG6v20NCiAgICAgICAqIE5NVFVBTjIgMDMuMTIuMjAyMQ0KICAgICAgICovCiAgICAgIHNlYXJjaEJveFJlZjogInNlYXJjaEJveCIsCgogICAgICAvKioNCiAgICAgICAqIMSRw6FuaCBk4bqldSDEkWFuZyBzZWFyY2ggZOG7ryBsaeG7h3UgZ3JpZA0KICAgICAgICogTk1UVUFOMiAwMy4xMi4yMDIxDQogICAgICAgKi8KICAgICAgaXNTZWFyY2hpbmc6IGZhbHNlLAoKICAgICAgLyoqDQogICAgICAgKiBnacOhIHRy4buLIHNlYXJjaCBn4bqnbiBuaOG6pXQgY+G7p2Egw7QgdMOsbSBraeG6v20NCiAgICAgICAqIE5NVFVBTjIgMDQuMTIuMjAyMQ0KICAgICAgICovCiAgICAgIGxhc3RTZWFyY2hUZXh0OiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoewogICAgLyoqDQogICAgICogxJDhu5FpIHTGsOG7o25nIGhp4buDbiB0aOG7iyBncmlkL3ZpZXcNCiAgICAgKi8KICAgIGdyaWQ6IGZ1bmN0aW9uIGdyaWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzW3RoaXMudmlld1JlZl07CiAgICB9LAoKICAgIC8qKg0KICAgICAqIENo4buNbiBuaGnhu4F1IGLhuqNuIGdoaQ0KICAgICAqLwogICAgbXVsdGlTZWxlY3RlZDogZnVuY3Rpb24gbXVsdGlTZWxlY3RlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQubGVuZ3RoID4gMTsKICAgIH0KICB9LCBtYXBHZXR0ZXJzKHsKICAgIC8qKg0KICAgICAqIE5nw7RuIG5n4buvIGhp4buHbiB04bqhaQ0KICAgICAqLwogICAgQ3VsdHVyZTogTW9kdWxlQ29udGV4dCArICIvQ3VsdHVyZSIKICB9KSksIHt9LCB7CiAgICAvKioNCiAgICAgKiDEkOG7kWkgdMaw4bujbmcgaGnhu4NuIHRo4buLIMO0IHTDrG0ga2nhur9tDQogICAgICogTk1UVUFOMiAwMy4xMi4yMDIxDQogICAgICovCiAgICBzZWFyY2hCb3g6IGZ1bmN0aW9uIHNlYXJjaEJveCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJlZnNbdGhpcy5zZWFyY2hCb3hSZWZdOwogICAgfSwKICAgIGNvbnRleHQ6IGZ1bmN0aW9uIGNvbnRleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZVtNb2R1bGVDb250ZXh0XTsKICAgIH0KICB9KSwKICB3YXRjaDoge30sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0UGFnZVNpemUoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB3aW5kb3cuX2hlbHBJZCA9IHRoaXMuaGVscElkOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqDQogICAgICogTOG6pXkgcGFnZXNpemUgdOG7qyBjYWNoZQ0KICAgICAqLwogICAgZ2V0UGFnZVNpemU6IGZ1bmN0aW9uIGdldFBhZ2VTaXplKCkgewogICAgICB2YXIgX21lJCRyb3V0ZTsKCiAgICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgICBjYWNoZUtleSA9IChfbWUkJHJvdXRlID0gbWUuJHJvdXRlKSA9PT0gbnVsbCB8fCBfbWUkJHJvdXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWUkJHJvdXRlLm5hbWU7CgogICAgICBpZiAoY2FjaGVLZXkpIHsKICAgICAgICB0cnkgewogICAgICAgICAgbWUuJG1zLmluZGV4ZWREQi5nZXQoY2FjaGVLZXkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBtZS5wYWdlU2l6ZSA9IHJlcyB8fCA1MDsKICAgICAgICAgICAgbWUuX2dvdENhY2hlID0gdHJ1ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBtZS5wYWdlU2l6ZSA9IDUwOwogICAgICAgICAgbWUuX2dvdENhY2hlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogWOG7rSBsw70ga2hpIG5o4bqtcCBu4buZaSBkdW5nIHTDrG0ga2nhur9tDQogICAgICovCiAgICBzZWFyY2hDaGFuZ2U6IGRlYm91bmNlKGZ1bmN0aW9uICgpIHsKICAgICAgLy8gdGhpcy5zZWFyY2hUZXh0ID0gdGhpcy5zZWFyY2hUZXh0ID8gdGhpcy5zZWFyY2hUZXh0LnRyaW0oKSA6IG51bGw7IC8vIGLhu48gdGjDrCB24bqrbiB0w6xtIGLDrG5oIHRoxrDhu51uZwogICAgICB0aGlzLnNlYXJjaFRleHQgPSB0aGlzLnNlYXJjaFRleHQgPyB0aGlzLnNlYXJjaFRleHQgOiAiIjsKCiAgICAgIGlmICh0aGlzLmxhc3RTZWFyY2hUZXh0ICE9IHRoaXMuc2VhcmNoVGV4dC50cmltKCkpIHsKICAgICAgICB0aGlzLmxhc3RTZWFyY2hUZXh0ID0gdGhpcy5zZWFyY2hUZXh0LnRyaW0oKTsKICAgICAgICB0aGlzLmlzU2VhcmNoaW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLnJlbG9hZCgpOwogICAgICB9CiAgICB9LCA1MDApLAoKICAgIC8qKg0KICAgICAqIHRo4buxYyBoaeG7h24gbOG7jWMgdGhlbyBnacOhIHRy4buLIHThu6sgZmlsdGVyQm94DQogICAgICogREhQaGkgMjIvMTAvMjAyMQ0KICAgICAqLwogICAgZmlsdGVyQm94Q2hhbmdlOiBmdW5jdGlvbiBmaWx0ZXJCb3hDaGFuZ2UoZGF0YSkgewogICAgICAvLyBsZXQgaXRlbTsKICAgICAgLy8gaWYgKGRhdGEubGVuZ3RoID4gMCkgeyAvLyBu4bq/dSBz4buRIGzGsOG7o25nIGLhurFuZyAwIGzDoCB0csaw4budbmcgaOG7o3AgYuG7jyBs4buNYwogICAgICAvLyAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4gewogICAgICAvLyAgICAgaWYgKGVsZW1lbnQuZW51bU5hbWUgIT09IG51bGwpIHsgLy8ga2nhu4NtIHRyYSB0csaw4budbmcgaOG7o3AgY29tYm9ib3ggdGjGsOG7nW5nIGhheSBjb21ib2JveCBlbnVtCiAgICAgIC8vICAgICAgIGl0ZW0gPSB7CiAgICAgIC8vICAgICAgICAgY2FwdGlvbjogdGhpcy4kdCgKICAgICAgLy8gICAgICAgICAgIGBpMThuQmFzZUZvcm0uRmlsdGVyLkZpbHRlckJveC4ke2VsZW1lbnQubmFtZX1gCiAgICAgIC8vICAgICAgICAgKSwKICAgICAgLy8gICAgICAgICBmaWx0ZXJJZ25vcmVWYWx1ZTogZWxlbWVudC52YWx1ZSwgLy8vdGjDqm0gY8OhaSB0aHXhu5ljIHTDrW5oIG7DoHkgxJHhu4Mga28gdGjhu7FjIGhp4buHbiB2w6BvIGZpbHRlcmhlYWRlcgogICAgICAvLyAgICAgICAgIElzU2VsZWN0ZWQ6IGZhbHNlLAogICAgICAvLyAgICAgICAgIGVudW06IGVsZW1lbnQubmFtZUVudW0sCiAgICAgIC8vICAgICAgICAgZGF0YUZpZWxkOiBlbGVtZW50Lm5hbWUsCiAgICAgIC8vICAgICAgICAgZmlsdGVyOiB7IG9wZXJhdG9yOiAiPSIsIHZhbHVlOiBlbGVtZW50LnZhbHVlIH0sCiAgICAgIC8vICAgICAgICAgZm9ybWF0VHlwZTogdGhpcy4kbXMuZW51bS5Gb3JtYXRUeXBlLkVudW0sCiAgICAgIC8vICAgICAgIH07CiAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAvLyAgICAgICBpdGVtID0gewogICAgICAvLyAgICAgICAgIGNhcHRpb246IHRoaXMuJHQoCiAgICAgIC8vICAgICAgICAgICBgaTE4bkJhc2VGb3JtLkZpbHRlci5GaWx0ZXJCb3guJHtlbGVtZW50Lm5hbWV9YAogICAgICAvLyAgICAgICAgICksCiAgICAgIC8vICAgICAgICAgZmlsdGVySWdub3JlVmFsdWU6IGVsZW1lbnQudmFsdWUsIC8vL3Row6ptIGPDoWkgdGh14buZYyB0w61uaCBuw6B5IMSR4buDIGtvIHRo4buxYyBoaeG7h24gdsOgbyBmaWx0ZXJoZWFkZXIKICAgICAgLy8gICAgICAgICBJc1NlbGVjdGVkOiBmYWxzZSwKICAgICAgLy8gICAgICAgICBlbnVtOiBlbGVtZW50Lm5hbWVFbnVtLAogICAgICAvLyAgICAgICAgIGRhdGFGaWVsZDogZWxlbWVudC5uYW1lLAogICAgICAvLyAgICAgICAgIGZpbHRlcjogeyBvcGVyYXRvcjogIj0iLCB2YWx1ZTogZWxlbWVudC50ZXh0IH0sCiAgICAgIC8vICAgICAgIH07CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICB0aGlzLiRyZWZzLnZpZXdMaXN0LmZpbHRlckhlYWRlci5wdXNoKGl0ZW0pOyAvL2fhu41pIHThu5tpIHRo4bqxbmcgc2V0IGNobyBoZWFkZXIgdHJvbmcgZ3JpZAogICAgICAvLyAgIH0pOwogICAgICAvLyB9CiAgICAgIHRoaXMuZmlsdGVyQm94ID0gZGF0YTsKICAgICAgdGhpcy5yZWxvYWQoKTsKICAgIH0sCgogICAgLyoqDQogICAgICogTG9hZCBs4bqhaSBk4buvIGxp4buHdQ0KICAgICAqLwogICAgcmVsb2FkOiBmdW5jdGlvbiByZWxvYWQoKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7IC8vY2h1eeG7g24gcGFnaW5nIGJhciB24buBIHRyYW5nIMSR4bqndQoKICAgICAgaWYgKG1lLmdyaWQgJiYgdHlwZW9mIG1lLmdyaWQuc2V0UGFnZSA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIG1lLmdyaWQuc2V0UGFnZSgxKTsKICAgICAgfSAvL3jDs2EgdGhhbSBz4buRIGPFqSDEkeG7gyByZWxvYWQKCgogICAgICBkZWxldGUgbWUubGFzdFBhcmFtOwogICAgICBtZS5yZWZyZXNoKCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIExvYWQgbOG6oWkgZOG7ryBsaeG7h3UNCiAgICAgKi8KICAgIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIHZhciBfbWUkJHJvdXRlMjsKCiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHZhciBjYWNoZUtleSA9IChfbWUkJHJvdXRlMiA9IG1lLiRyb3V0ZSkgPT09IG51bGwgfHwgX21lJCRyb3V0ZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tZSQkcm91dGUyLm5hbWU7IC8vIE7hur91IGNoxrBhIGdldCBjYWNoZSB4ZW0gdGjDrCBjaOG6t24gbOG6oWkgY2jhu50gZ2V0IHhvbmcgbeG7m2kgZ+G7jWkgbG9hZCBkYXRhCgogICAgICBpZiAoIW1lLl9nb3RDYWNoZSAmJiBjYWNoZUtleSkgewogICAgICAgIG1lLmxvYWREYXRhQnlDYWNoZShjYWNoZUtleSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHBhcmFtID0gbWUubGFzdFBhcmFtIHx8IHsKICAgICAgICAgIHNraXA6IDAsCiAgICAgICAgICB0YWtlOiBtZS5wYWdlU2l6ZQogICAgICAgIH07CiAgICAgICAgbWUubG9hZERhdGEocGFyYW0pOyAvL2xvYWQgc3VtbWFyeQoKICAgICAgICBpZiAobWUuc3BsaXRMb2FkUmVxdWVzdCkgewogICAgICAgICAgbWUubG9hZERhdGFTdW1hcnkocGFyYW0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiBMb2FkIGThu68gbGnhu4d1IHRoZW8gcGFnZXNpemUgY+G7p2EgY2FjaGUNCiAgICAgKi8KICAgIGxvYWREYXRhQnlDYWNoZTogZnVuY3Rpb24gbG9hZERhdGFCeUNhY2hlKGNhY2hlS2V5KSB7CiAgICAgIHZhciBtZSA9IHRoaXM7IC8vIFbDrCBpbmRleERCIGhheSBs4buXaSBuw6puIGPhuqduIGLhu41jIHRyeS1jYXRjaCB0cm9uZyB0csaw4budbmcgaOG7o3AgbXVsdGlwbGUgdGFicwoKICAgICAgdHJ5IHsKICAgICAgICAvLyBjw7MgY2FjaGVrZXkgdGjDrCBn4buNaSBs4bqhaSBs4bqleSBz4buRIGxp4buHdSB0aGVvIHBhZ2VzaXplIGtow7RuZyB0aMOsIGfhu41pIG5oxrAgdGjGsOG7nW5nCiAgICAgICAgbWUuJG1zLmluZGV4ZWREQi5nZXQoY2FjaGVLZXkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdmFyIHBhcmFtID0gewogICAgICAgICAgICBza2lwOiAwLAogICAgICAgICAgICB0YWtlOiByZXMgfHwgMjAKICAgICAgICAgIH07CiAgICAgICAgICBtZS5sb2FkRGF0YShwYXJhbSk7IC8vbG9hZCBzdW1tYXJ5CgogICAgICAgICAgaWYgKG1lLnNwbGl0TG9hZFJlcXVlc3QpIHsKICAgICAgICAgICAgbWUubG9hZERhdGFTdW1hcnkocGFyYW0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIG1lLl9nb3RDYWNoZSA9IHRydWU7CiAgICAgICAgbWUucmVmcmVzaCgpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIExvYWQgZOG7ryBsaeG7h3UgZGFuaCBzw6FjaA0KICAgICAqLwogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKHBheWxvYWQpIHsKICAgICAgdmFyIG1lID0gdGhpczsgLy9u4bq/dSBsw6AgdHJhbmcgxJHhuqd1IGJ1aWxkIGzhuqFpIHRoYW0gc+G7kSwgY8OhYyB0cmFuZyB0aeG6v3AgdGhlbyBkw7luZyBsYXN0UGFyYW0gdsOgIGNo4buJIMSR4buVaSBza2lwCgogICAgICBpZiAoIXBheWxvYWQuc2tpcCkgewogICAgICAgIC8veOG7rSBsw70gY8OhYyB0aGFtIHPhu5Ega2jDoWMKICAgICAgICBtZS5wcm9jZXNzTG9hZFBhcmFtZXRlcihwYXlsb2FkKTsgLy9jaHXhuqluIGjDs2EgdGhhbSBz4buRIHRydXnhu4FuIGzDqm4gc2VydmVyCgogICAgICAgIG1lLm5vbWFsaXplTG9hZFBhcmFtZXRlcihwYXlsb2FkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBpIGluIG1lLmxhc3RQYXJhbSkgewogICAgICAgICAgc3dpdGNoIChpKSB7CiAgICAgICAgICAgIGNhc2UgInNraXAiOgogICAgICAgICAgICAgIC8vYuG7jyBxdWEKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgcGF5bG9hZFtpXSA9IG1lLmxhc3RQYXJhbVtpXTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gLy9jYWNoZSBs4bqhaSB0aGFtIHPhu5EgxJHhu4MgZMO5bmcgY2hvIHh14bqldCBraOG6qXUgdsOgIHJlc3RvcmUgZGF0YSBjaG8gbOG6p24gc2F1IHF1YXkgbOG6oWkKCgogICAgICBtZS5sYXN0UGFyYW0gPSBwYXlsb2FkOwoKICAgICAgaWYgKG1lLnNwbGl0TG9hZFJlcXVlc3QpIHsKICAgICAgICAvL2ZpeCBjaOG7iSDEkeG7jWMgZGF0YQogICAgICAgIHBheWxvYWQucmVhZFR5cGUgPSAxOwogICAgICB9CiAgICAgIC8qKg0KICAgICAgICogR+G7jWkgcmVxdWVzdCBsb2FkIGRhdGENCiAgICAgICAqLwoKCiAgICAgIG1lLnJlcXVlc3RMb2FkRGF0YShwYXlsb2FkKTsKICAgIH0sCgogICAgLyoqDQogICAgICogTG9hZCBzdW1tYXJ5IGNobyBncmlkIGRhbmggc8OhY2gNCiAgICAgKi8KICAgIGxvYWREYXRhU3VtYXJ5OiBmdW5jdGlvbiBsb2FkRGF0YVN1bWFyeShwYXlsb2FkKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7IC8vdGhhbSBz4buRIGNo4buXIG7DoHkgxJHDoyBxdWEgaMOgbSBsb2FkIGRhdGEgZGMgeOG7rSBsw70gcuG7k2kKCiAgICAgIHZhciBwYXJhbSA9IHt9OwoKICAgICAgZm9yICh2YXIgaSBpbiBwYXlsb2FkKSB7CiAgICAgICAgc3dpdGNoIChpKSB7CiAgICAgICAgICBjYXNlICJza2lwIjoKICAgICAgICAgIGNhc2UgInRha2UiOgogICAgICAgICAgY2FzZSAic29ydCI6CiAgICAgICAgICAgIC8vYuG7jyBxdWEKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAvLyBjYXNlICJjb2x1bW5zIjoKICAgICAgICAgIC8vICAgLy9UT0RPIGNo4buXIG7DoHkgc+G6vSBjaOG6vyBs4bqhaSBjaOG7iSBs4bqleSBjw6FjIGPhu5l0IGPDsyBzdW0gdGjDtGkKICAgICAgICAgIC8vICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcGFyYW1baV0gPSBwYXlsb2FkW2ldOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0gLy9maXggY2jhu4kgxJHhu41jIHN1bW1hcnkKCgogICAgICBwYXJhbS5yZWFkVHlwZSA9IDI7CiAgICAgIC8qKg0KICAgICAgICogR+G7jWkgcmVxdWVzdCBsb2FkIGRhdGENCiAgICAgICAqLwoKICAgICAgbWUucmVxdWVzdExvYWREYXRhU3VtbWFyeShwYXJhbSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEfhu41pIHJlcXVlc3QgbG9hZCBk4buvIGxp4buHdQ0KICAgICAqLwogICAgcmVxdWVzdExvYWREYXRhOiBmdW5jdGlvbiByZXF1ZXN0TG9hZERhdGEoKSB7fSwKCiAgICAvKioNCiAgICAgKiBH4buNaSByZXF1ZXN0IGxvYWQgc3VtbWFyeQ0KICAgICAqLwogICAgcmVxdWVzdExvYWREYXRhU3VtbWFyeTogZnVuY3Rpb24gcmVxdWVzdExvYWREYXRhU3VtbWFyeSgpIHt9LAoKICAgIC8qKg0KICAgICAqIFjhu60gbMO9IHRoYW0gc+G7kSBsb2FkIGThu68gbGnhu4d1DQogICAgICovCiAgICBwcm9jZXNzTG9hZFBhcmFtZXRlcjogZnVuY3Rpb24gcHJvY2Vzc0xvYWRQYXJhbWV0ZXIocGF5bG9hZCkgewogICAgICB2YXIgbWUgPSB0aGlzOyAvL2ZpbHRlcgoKICAgICAgcGF5bG9hZC5maWx0ZXIgPSBbXTsKCiAgICAgIGlmIChtZS5maWx0ZXJhYmxlICYmIHR5cGVvZiBtZS5ncmlkLmdldEZpbHRlckhlYWRlciA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIHBheWxvYWQuZmlsdGVyID0gbWUuZ3JpZC5nZXRGaWx0ZXJIZWFkZXIoKTsKICAgICAgfSAvL1RETkdISUEgNS8xMC8yMDIxOiBidWlsZCBwYXlsb2FkLmZpbHRlciB04burIMO0IGlucHV0IHTDrG0ga2nhur9tCgoKICAgICAgaWYgKG1lLnNlYXJjaFRleHQgJiYgbWUubGlzdFByb3BlcnR5U2VhcmNoLmxlbmd0aCA+IDApIHsKICAgICAgICBtZS5nZXRGaWx0ZXJJbnB1dChwYXlsb2FkKTsKICAgICAgfSAvL1RETkdISUEgNS8xMC8yMDIxOiBidWlsZCBwYXlsb2FkLmZpbHRlciB04burIGNvbWJvIGzhu41jCgoKICAgICAgaWYgKG1lLmZpbHRlckJveC5sZW5ndGggPiAwKSB7CiAgICAgICAgbWUuZ2V0RmlsdGVyQ29tYm8ocGF5bG9hZCk7CiAgICAgIH0gLy9jb2x1bW4KCgogICAgICBwYXlsb2FkLmNvbHVtbnMgPSBtZS5wcm9jZXNzTG9hZFBhcmFtZXRlckNvbHVtbihwYXlsb2FkKTsgLy90aGFtIHPhu5EgbG9hZCBk4buvIGxp4buHdQoKICAgICAgcGF5bG9hZC5jb25kaXRpb24gPSBtZS5nZXRDb25kaXRpb25QYXJhbWV0ZXIoKTsgLy8gbuG6v3UgZ3JpZCBjw7MgY+G6pXUgaMOsbmggc29ydCBkZWZhdWx0IHRow6wKCiAgICAgIGlmIChtZS5ncmlkLmRlZmF1bHRTb3J0ICYmIEFycmF5LmlzQXJyYXkobWUuZ3JpZC5kZWZhdWx0U29ydCkpIHsKICAgICAgICB2YXIgbGlzdFNvcnQgPSBbXTsKICAgICAgICBtZS5ncmlkLmRlZmF1bHRTb3J0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIC8vIG7hur91IGPDsyBzb3J0IGN1c3RvbSB0aMOsIG7hur91IHRyw7luZyB24bubaSBpdGVtIG7DoG8gdGjDrCBsb+G6oWkgaXRlbSDEkcOzIHJhIGto4buPaSBsaXN0U29ydCDEkeG7gyBraMO0bmcgYuG7iyB0csO5bmcKICAgICAgICAgIGlmIChwYXlsb2FkLlNvcnQpIHsKICAgICAgICAgICAgaWYgKCFwYXlsb2FkLlNvcnQuY29udGFpbnMoaXRlbS5zb3J0RmllbGQpKSB7CiAgICAgICAgICAgICAgbGlzdFNvcnQucHVzaCgiIi5jb25jYXQoaXRlbS5zb3J0RmllbGQsICIgIikuY29uY2F0KGl0ZW0uc29ydFR5cGUgPT0gbWUuJG1zLmVudW0uU29ydFN0YXR1cy5kZXNjID8gIkRFU0MiIDogIkFTQyIpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGlzdFNvcnQucHVzaCgiIi5jb25jYXQoaXRlbS5zb3J0RmllbGQsICIgIikuY29uY2F0KGl0ZW0uc29ydFR5cGUgPT0gbWUuJG1zLmVudW0uU29ydFN0YXR1cy5kZXNjID8gIkRFU0MiIDogIkFTQyIpKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2YXIgc29ydERlZmF1bHQgPSBsaXN0U29ydC5sZW5ndGggPiAwID8gbGlzdFNvcnQuam9pbigiLCAiKSA6ICIiOwogICAgICAgIHZhciBzb3J0Q3VzdG9tID0gcGF5bG9hZC5Tb3J0ID8gcGF5bG9hZC5Tb3J0IDogIiI7CgogICAgICAgIGlmIChzb3J0Q3VzdG9tICYmIHNvcnREZWZhdWx0KSB7CiAgICAgICAgICBwYXlsb2FkLlNvcnQgPSBbc29ydEN1c3RvbSwgc29ydERlZmF1bHRdLmpvaW4oIiwgIik7CiAgICAgICAgfSBlbHNlIGlmICghc29ydEN1c3RvbSAmJiBzb3J0RGVmYXVsdCkgewogICAgICAgICAgcGF5bG9hZC5Tb3J0ID0gc29ydERlZmF1bHQ7CiAgICAgICAgfSBlbHNlIGlmIChzb3J0Q3VzdG9tICYmICFzb3J0RGVmYXVsdCkgewogICAgICAgICAgcGF5bG9hZC5Tb3J0ID0gc29ydEN1c3RvbTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGF5bG9hZC5Tb3J0ID0gIiI7CiAgICAgICAgfQogICAgICB9IC8vVMOhY2ggbOG6pXkgc3VtbWFyeSByYSByZXF1ZXN0IGtow6FjCgoKICAgICAgaWYgKG1lLnNwbGl0TG9hZFJlcXVlc3QpIHsKICAgICAgICBwYXlsb2FkLmlnbm9yZVN1bW1hcnkgPSB0cnVlOwogICAgICB9CgogICAgICBwYXlsb2FkID0gbWUuY3VzdG9tUGF5bG9hZChwYXlsb2FkKTsKICAgIH0sCgogICAgLyoqDQogICAgICogTOG6pXkgbGlzdCBjw6FjIHByb3BlcnR5IGNvbmZpZyBs4buNYyB0csOqbiBpbnB1dA0KICAgICAqIFNhdSDEkeG6pXkgYWRkIHRow6ptIHbDoG8gcGF5bG9hZC5maWx0ZXINCiAgICAgKiBAcGFyYW0geyp9IHBheWxvYWQgdHJ1eeG7gW4gdsOgbyBBUEkNCiAgICAgLy90ZW1wbGF0ZQ0KICAgICAvLyAgew0KICAgICAvLyAgIHByb3BlcnR5OiAiQXNzZXRDYXRlZ29yeU5hbWUiLA0KICAgICAvLyAgIHZhbHVlOiBtZS5zZWFyY2hUZXh0LA0KICAgICAvLyAgIG9wZXJhdG9yOiAiY29udGFpbnMiLA0KICAgICAvLyAgIGNoaWxkcmVuczogWw0KICAgICAvLyAgICAgew0KICAgICAvLyAgICAgICBwcm9wZXJ0eTogIkFzc2V0Q2F0ZWdvcnlDb2RlIiwNCiAgICAgLy8gICAgICAgdmFsdWU6IG1lLnNlYXJjaFRleHQsDQogICAgIC8vICAgICAgIG9wZXJhdG9yOiAiY29udGFpbnMiLA0KICAgICAvLyAgICAgICBvcGVyYW5kOiAib3IiDQogICAgIC8vICAgICB9DQogICAgIC8vICAgXQ0KICAgICAvLyB9DQogICAgICovCiAgICBnZXRGaWx0ZXJJbnB1dDogZnVuY3Rpb24gZ2V0RmlsdGVySW5wdXQocGF5bG9hZCkgewogICAgICB2YXIgbWUgPSB0aGlzOwoKICAgICAgaWYgKG1lLmxpc3RQcm9wZXJ0eVNlYXJjaC5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIGl0ZW1GaWx0ZXIgPSB7CiAgICAgICAgICBvcGVyYXRvcjogbWUuJG1zLmVudW0uRmlsdGVySGVhZGVyLkNvbnRhaW5zLAogICAgICAgICAgcHJvcGVydHk6IG1lLmxpc3RQcm9wZXJ0eVNlYXJjaFswXSwKICAgICAgICAgIHZhbHVlOiBtZS5zZWFyY2hUZXh0LnRyaW0oKSwKICAgICAgICAgIGNoaWxkcmVuczogW10KICAgICAgICB9OyAvL0NobyB04bqldCBj4bqjIGPDoWMgcHJvcGVydHkga2jDoWMgdsOgbyBjaGlsZHJlbiDEkeG7gyBidWlsZCBjw6J1IG9yCgogICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBtZS5saXN0UHJvcGVydHlTZWFyY2gubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICB2YXIgZmllbGROYW1lID0gbWUubGlzdFByb3BlcnR5U2VhcmNoW2luZGV4XTsKICAgICAgICAgIHZhciBjaGlsZEZpbHRlciA9IHsKICAgICAgICAgICAgcHJvcGVydHk6IGZpZWxkTmFtZSwKICAgICAgICAgICAgdmFsdWU6IG1lLnNlYXJjaFRleHQudHJpbSgpLAogICAgICAgICAgICBvcGVyYXRvcjogbWUuJG1zLmVudW0uRmlsdGVySGVhZGVyLkNvbnRhaW5zLAogICAgICAgICAgICBvcGVyYW5kOiAib3IiCiAgICAgICAgICB9OwogICAgICAgICAgaXRlbUZpbHRlci5jaGlsZHJlbnMucHVzaChjaGlsZEZpbHRlcik7CiAgICAgICAgfQoKICAgICAgICBwYXlsb2FkLmZpbHRlci5wdXNoKGl0ZW1GaWx0ZXIpOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIHRo4buxYyBoaeG7h24gbOG6pXkgbGlzdCB04burIG1zZmlsdGVyYm94DQogICAgICogc2F1IMSRw7MgYWRkIHRow6ptIHbDoG8gcGF5bG9hZC5maWx0ZXINCiAgICAgKiBAcGFyYW0geyp9IHBheWxvYWQgdHJ1eeG7gW4gdsOgbyBhcGkNCiAgICAgKi8KICAgIGdldEZpbHRlckJveDogZnVuY3Rpb24gZ2V0RmlsdGVyQm94KHBheWxvYWQpIHsKICAgICAgdmFyIG1lID0gdGhpczsKCiAgICAgIGlmIChtZS5saXN0UHJvcGVydHlGaWx0ZXIubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBpdGVtRmlsdGVyID0gewogICAgICAgICAgb3BlcmF0b3I6IG1lLiRtcy5lbnVtLkZpbHRlckhlYWRlci5Db250YWlucywKICAgICAgICAgIHByb3BlcnR5OiBtZS5saXN0UHJvcGVydHlGaWx0ZXJbMF0sCiAgICAgICAgICB2YWx1ZTogbWUuZmlsdGVyQm94WzBdLAogICAgICAgICAgY2hpbGRyZW5zOiBbXQogICAgICAgIH07IC8vQ2hvIHThuqV0IGPhuqMgY8OhYyBwcm9wZXJ0eSBraMOhYyB2w6BvIGNoaWxkcmVuIMSR4buDIGJ1aWxkIGPDonUgb3IKCiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IG1lLmxpc3RQcm9wZXJ0eUZpbHRlci5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIHZhciBmaWVsZE5hbWUgPSBtZS5saXN0UHJvcGVydHlGaWx0ZXJbaW5kZXhdOwogICAgICAgICAgdmFyIGNoaWxkRmlsdGVyID0gewogICAgICAgICAgICBwcm9wZXJ0eTogZmllbGROYW1lLAogICAgICAgICAgICB2YWx1ZTogbWUuZmlsdGVyQm94W2luZGV4XSwKICAgICAgICAgICAgb3BlcmF0b3I6IG1lLiRtcy5lbnVtLkZpbHRlckhlYWRlci5Db250YWlucywKICAgICAgICAgICAgb3BlcmFuZDogImFuZCIKICAgICAgICAgIH07CiAgICAgICAgICBpdGVtRmlsdGVyLmNoaWxkcmVucy5wdXNoKGNoaWxkRmlsdGVyKTsKICAgICAgICB9CgogICAgICAgIHBheWxvYWQuZmlsdGVyLnB1c2goaXRlbUZpbHRlcik7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgKiBM4bqleSBjw6FjIHRow7RuZyB0aW4gdOG7qyBjb21ibyBs4buNYw0KICAgICogQnVpbGQgcGF5bG9hZC5maWx0ZXINCiAgICAqIFRETkdISUEgNS8xMC8yMDIxDQogICAgKiBvdmVycmlkZSB04burbmcgbcOgbiBow6xuaA0KICAgICovCiAgICBnZXRGaWx0ZXJDb21ibzogZnVuY3Rpb24gZ2V0RmlsdGVyQ29tYm8ocGF5bG9hZCkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICB2YXIgaXRlbUZpbHRlciA9IHsKICAgICAgICBvcGVyYXRvcjogbWUuJG1zLmVudW0uRmlsdGVySGVhZGVyLkVxdWFscywKICAgICAgICBwcm9wZXJ0eTogbWUuZmlsdGVyQm94WzBdLm5hbWUsCiAgICAgICAgdmFsdWU6IG1lLmZpbHRlckJveFswXS52YWx1ZSwKICAgICAgICBjaGlsZHJlbnM6IFtdCiAgICAgIH07IC8vQ2hvIHThuqV0IGPhuqMgY8OhYyBwcm9wZXJ0eSBraMOhYyB2w6BvIGNoaWxkcmVuIMSR4buDIGJ1aWxkIGPDonUgb3IKCiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBtZS5maWx0ZXJCb3gubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgdmFyIGZpZWxkTmFtZSA9IG1lLmZpbHRlckJveFtpbmRleF07CiAgICAgICAgdmFyIGNoaWxkRmlsdGVyID0gewogICAgICAgICAgcHJvcGVydHk6IGZpZWxkTmFtZS5uYW1lLAogICAgICAgICAgdmFsdWU6IGZpZWxkTmFtZS52YWx1ZSwKICAgICAgICAgIG9wZXJhdG9yOiBtZS4kbXMuZW51bS5GaWx0ZXJIZWFkZXIuRXF1YWxzLAogICAgICAgICAgb3BlcmFuZDogImFuZCIKICAgICAgICB9OwogICAgICAgIGl0ZW1GaWx0ZXIuY2hpbGRyZW5zLnB1c2goY2hpbGRGaWx0ZXIpOwogICAgICB9CgogICAgICBwYXlsb2FkLmZpbHRlci5wdXNoKGl0ZW1GaWx0ZXIpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBDdXN0b20gdGhhbSBz4buRIHBheWxvYWQgdHLGsOG7m2Mga2hpIGNhbGwgYXBpDQogICAgICovCiAgICBjdXN0b21QYXlsb2FkOiBmdW5jdGlvbiBjdXN0b21QYXlsb2FkKHBheWxvYWQpIHsKICAgICAgcmV0dXJuIHBheWxvYWQ7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIEN1c3RvbSB0aGFtIHPhu5EgbG9hZCBk4buvIGxp4buHdQ0KICAgICAqLwogICAgcHJvY2Vzc0xvYWRQYXJhbWV0ZXJDb2x1bW46IGZ1bmN0aW9uIHByb2Nlc3NMb2FkUGFyYW1ldGVyQ29sdW1uKHBheWxvYWQpIHsKICAgICAgdmFyIGNvbHVtbnMgPSB0aGlzLmdyaWQuY29sdW1ueDsKICAgICAgdmFyIGNvbHMgPSBbXTsKCiAgICAgIGlmIChjb2x1bW5zKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2x1bW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgY29sID0gY29sdW1uc1tpXTsKCiAgICAgICAgICBpZiAoY29sLmRhdGFGaWVsZCAmJiBjb2xzLmluZGV4T2YoY29sLmRhdGFGaWVsZCkgPT09IC0xKSB7CiAgICAgICAgICAgIGNvbHMucHVzaChjb2wuZGF0YUZpZWxkKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmdyaWQuaWRGaWVsZCkgewogICAgICAgIGNvbHMucHVzaCh0aGlzLmdyaWQuaWRGaWVsZCk7CiAgICAgIH0KICAgICAgLyoNCiAgICAgICAqIEPhuqV1IGjDrG5oIGzhuqV5IHRow6ptIGPDoWMgY+G7mXQgxJHGsOG7o2MgY+G6pXUgaMOsbmggbHXDtG4gbOG6pXkgZOG7ryBsaeG7h3UgdHLDqm4gZ3JpZA0KICAgICAgICogcHZkdXkgMTkvMDEvMjAyMQ0KICAgICAgICovCgoKICAgICAgaWYgKHRoaXMuZ3JpZC5hbHdheVRha2VDb2x1bW5zICYmIHRoaXMuZ3JpZC5hbHdheVRha2VDb2x1bW5zLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuZ3JpZC5hbHdheVRha2VDb2x1bW5zLmxlbmd0aDsgX2krKykgewogICAgICAgICAgaWYgKCFjb2xzLmluY2x1ZGVzKHRoaXMuZ3JpZC5hbHdheVRha2VDb2x1bW5zW19pXSkpIHsKICAgICAgICAgICAgY29scy5wdXNoKHRoaXMuZ3JpZC5hbHdheVRha2VDb2x1bW5zW19pXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gY29sczsKICAgIH0sCgogICAgLyoqDQogICAgICogTOG6pXkgxJFp4buBdSBraeG7h24gbG9hZCBk4buvIGxp4buHdQ0KICAgICAqLwogICAgZ2V0Q29uZGl0aW9uUGFyYW1ldGVyOiBmdW5jdGlvbiBnZXRDb25kaXRpb25QYXJhbWV0ZXIoKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIHZhciBwYXJhbSA9IHt9OwoKICAgICAgaWYgKG1lLmNvbmRpdGlvbikgewogICAgICAgIGZvciAodmFyIGkgaW4gbWUuY29uZGl0aW9uKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBtZS5jb25kaXRpb25baV07CgogICAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICAgIC8vZGF0ZQogICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlLmdldEZ1bGxZZWFyID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgICAgLy9u4bq/dSB0w6puIHRodeG7mWMgdMOtbmggY8OzIHThu6sgVGltZSAtPiBs4bqleSBmdWxsIGRhdGV0aW1lCiAgICAgICAgICAgICAgLy9lbHNlIGNo4buJIGzhuqV5IGRhdGUKICAgICAgICAgICAgICBpZiAoaS5pbmRleE9mKCJUaW1lIikgPiAtMSkgewogICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgiWVlZWS1NTS1ERCBoaDptbTpzcyIpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCJZWVlZLU1NLUREIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcGFyYW1baV0gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBwYXJhbTsKICAgIH0sCgogICAgLyoqDQogICAgICogQ2h14bqpbiBow7NhIGzhuqFpIHRoYW0gc+G7kSB0cnV54buBbiBsw6puIHNlcnZlcg0KICAgICAqLwogICAgbm9tYWxpemVMb2FkUGFyYW1ldGVyOiBmdW5jdGlvbiBub21hbGl6ZUxvYWRQYXJhbWV0ZXIocGF5bG9hZCkgewogICAgICB2YXIgbWUgPSB0aGlzOwoKICAgICAgaWYgKCFwYXlsb2FkLnNraXApIHsKICAgICAgICBkZWxldGUgcGF5bG9hZC5za2lwOwogICAgICB9CgogICAgICBpZiAocGF5bG9hZC5maWx0ZXIgJiYgcGF5bG9hZC5maWx0ZXIubGVuZ3RoID4gMCkgewogICAgICAgIHBheWxvYWQuZmlsdGVyID0gbWUuYnVpbGRGaWx0ZXJQYXJhbShwYXlsb2FkLmZpbHRlcik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHBheWxvYWQuZmlsdGVyOwogICAgICB9CgogICAgICBpZiAocGF5bG9hZC5jb25kaXRpb24gJiYgT2JqZWN0LmtleXMocGF5bG9hZC5jb25kaXRpb24pLmxlbmd0aCA+IDApIHsKICAgICAgICBwYXlsb2FkLmNvbmRpdGlvbiA9IEpTT04uc3RyaW5naWZ5KHBheWxvYWQuY29uZGl0aW9uKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkZWxldGUgcGF5bG9hZC5jb25kaXRpb247CiAgICAgIH0KCiAgICAgIGlmIChwYXlsb2FkLmNvbHVtbnMgJiYgcGF5bG9hZC5jb2x1bW5zLmxlbmd0aCA+IDApIHsKICAgICAgICBwYXlsb2FkLmNvbHVtbnMgPSBwYXlsb2FkLmNvbHVtbnMuam9pbigiLCIpOwogICAgICB9IGVsc2UgewogICAgICAgIGRlbGV0ZSBwYXlsb2FkLmNvbHVtbnM7CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICogWOG7rSBsw70gbmfDtG4gbmfhu68gY2hvIGNhcHRpb24gdsOgIHRpdGxlIGPhu6dhIGNvbHVtbg0KICAgICAqLwogICAgbG9jYWxpemF0aW9uQ29sdW1uOiBmdW5jdGlvbiBsb2NhbGl6YXRpb25Db2x1bW4oY29sdW1ucywgdGFnKSB7CiAgICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgICBjdWx0dXJlID0gbWUuQ3VsdHVyZTsgLy9u4bq/dSBsw6AgbeG6q3UgbeG6t2MgxJHhu4tuaCB2w6AgbmfDtG4gbmfhu68ga2jDoWMgdGnhur9uZyB2aeG7h3QgLT4gY+G6rXAgbmjhuq10IGNhcHRpb24vdGl0bGUgdGhlbyBuZ8O0biBuZ+G7rwoKICAgICAgaWYgKGN1bHR1cmUgIT09ICJ2aSIpIHsKICAgICAgICB2YXIgZm4gPSBmdW5jdGlvbiBmbihjb2x1bW4sIGZpZWxkLCBrZXkpIHsKICAgICAgICAgIHZhciB0ZXh0ID0gbWUuJG1zLmNvbW1vbkZuLmdldENvbHVtblRleHQoZmllbGQsIHRhZyk7CgogICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICBjb2x1bW5bZmllbGRdID0gdGV4dDsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbHVtbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBjb2wgPSBjb2x1bW5zW2ldOwogICAgICAgICAgZm4oY29sLCAiY2FwdGlvbiIsIGNvbC5kYXRhRmllbGQpOwogICAgICAgICAgZm4oY29sLCAidGl0bGUiLCBjb2wuZGF0YUZpZWxkICsgIlRpdGxlIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIFRoYXkgxJHhu5VpIHBhZ2VzaXplDQogICAgICovCiAgICBncmlkQ2hhbmdlUGFnZVNpemU6IGZ1bmN0aW9uIGdyaWRDaGFuZ2VQYWdlU2l6ZSh2YWx1ZSkgewogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsdWU7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIFRoYXkgxJHhu5VpIMSR4buZIHLhu5luZyBj4buZdCB0csOqbiBncmlkDQogICAgICogY3JlYXRlZCBieSBudHBob25nIDEzLzUvMjAyMQ0KICAgICAqLwogICAgZ3JpZFJlc2l6ZUNvbDogZnVuY3Rpb24gZ3JpZFJlc2l6ZUNvbChjb2wpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgbWUuc2V0Q2FjaGVMYXlvdXRUZW1wbGF0ZShjb2wpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBzZXQgY2FjaGUgbeG6q3UgbGF5b3V0DQogICAgICogY3JlYXRlZCBieSBudHBob25nIDEzLzUvMjAyMQ0KICAgICAqLwogICAgc2V0Q2FjaGVMYXlvdXRUZW1wbGF0ZTogZnVuY3Rpb24gc2V0Q2FjaGVMYXlvdXRUZW1wbGF0ZShjb2wpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG1lLCBjYWNoZUtleSwgY2FjaGVEYXRhLCBsYXlvdXRUZW1wbGF0ZSwgY29sdW1ucywgY29sdW1uOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG1lID0gX3RoaXM7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIGNhY2hlS2V5ID0gbWUuZ2V0Q2FjaGVMYXlvdXRUZW1wbGF0ZUtleSgpOwoKICAgICAgICAgICAgICAgIGlmICghY2FjaGVLZXkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBtZS4kbXMuaW5kZXhlZERCLmdldChjYWNoZUtleSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhY2hlRGF0YSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGNhY2hlRGF0YSkgewogICAgICAgICAgICAgICAgICBsYXlvdXRUZW1wbGF0ZSA9IEpTT04ucGFyc2UoY2FjaGVEYXRhKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIWxheW91dFRlbXBsYXRlKSB7CiAgICAgICAgICAgICAgICAgIGxheW91dFRlbXBsYXRlID0gbWUubGF5b3V0Q29sdW1uc1ttZS5sYXlvdXRUYWddOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChsYXlvdXRUZW1wbGF0ZSkgewogICAgICAgICAgICAgICAgICBpZiAobGF5b3V0VGVtcGxhdGUuQ29sdW1ucykgewogICAgICAgICAgICAgICAgICAgIGNvbHVtbnMgPSBKU09OLnBhcnNlKGxheW91dFRlbXBsYXRlLkNvbHVtbnMpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoIWNvbHVtbnMgJiYgbWUuZ3JpZCAmJiBtZS5ncmlkLmNvbHVtbngpIHsKICAgICAgICAgICAgICAgICAgICBjb2x1bW5zID0gbWUuZ3JpZC5jb2x1bW54OwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoY29sdW1ucykgewogICAgICAgICAgICAgICAgICAgIGlmIChjb2wpIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IGNvbHVtbnMuZmluZChmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geC5kYXRhRmllbGQgPT0gY29sLmRhdGFGaWVsZDsKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW4gJiYgY29sLmhhc093blByb3BlcnR5KCJuZXdXaWR0aCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi53aWR0aCA9IGNvbC5uZXdXaWR0aDsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGxheW91dFRlbXBsYXRlLkNvbHVtbnMgPSBKU09OLnN0cmluZ2lmeShjb2x1bW5zKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChsYXlvdXRUZW1wbGF0ZSkgewogICAgICAgICAgICAgICAgICAvL21lLiRtcy5jb21tb25Gbi5yZW1vdmVMb2NhbFN0b3JhZ2UoY2FjaGVLZXkpOwogICAgICAgICAgICAgICAgICAvL21lLiRtcy5jb21tb25Gbi5zZXRMb2NhbFN0b3JhZ2UoY2FjaGVLZXksIEpTT04uc3RyaW5naWZ5KGxheW91dFRlbXBsYXRlKSk7CiAgICAgICAgICAgICAgICAgIG1lLiRtcy5pbmRleGVkREIuc2V0KGNhY2hlS2V5LCBKU09OLnN0cmluZ2lmeShsYXlvdXRUZW1wbGF0ZSkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIGzhuqV5IG3huqt1IGxheW91dCB04burIGNhY2hlDQogICAgICogY3JlYXRlZCBieSBudHBob25nIDEzLzUvMjAyMQ0KICAgICAqLwogICAgZ2V0Q2FjaGVMYXlvdXRUZW1wbGF0ZTogZnVuY3Rpb24gZ2V0Q2FjaGVMYXlvdXRUZW1wbGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgbWUsIGxheW91dFRlbXBsYXRlLCBjYWNoZUtleSwgY2FjaGVEYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBtZSA9IF90aGlzMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIGNhY2hlS2V5ID0gbWUuZ2V0Q2FjaGVMYXlvdXRUZW1wbGF0ZUtleSgpOwoKICAgICAgICAgICAgICAgIGlmICghY2FjaGVLZXkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gbWUuJG1zLmluZGV4ZWREQi5nZXQoY2FjaGVLZXkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBjYWNoZURhdGEgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoY2FjaGVEYXRhKSB7CiAgICAgICAgICAgICAgICAgIGxheW91dFRlbXBsYXRlID0gSlNPTi5wYXJzZShjYWNoZURhdGEpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgbGF5b3V0VGVtcGxhdGUpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIGzhuqV5IGNhY2hlIGtleSBt4bqrdSBsYXlvdXQNCiAgICAgKiBjcmVhdGVkIGJ5IG50cGhvbmcgMTMvNS8yMDIxDQogICAgICovCiAgICBnZXRDYWNoZUxheW91dFRlbXBsYXRlS2V5OiBmdW5jdGlvbiBnZXRDYWNoZUxheW91dFRlbXBsYXRlS2V5KCkgewogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICB2YXIgY2FjaGVLZXkgPSAiIjsKCiAgICAgIGlmIChtZS5Db250ZXh0ICYmIG1lLkNvbnRleHQuVXNlcklEICYmIG1lLmxheW91dFRhZykgewogICAgICAgIGNhY2hlS2V5ID0gIkxheW91dFRlbXBsYXRlX3swfV97MX0iLmZvcm1hdChtZS5sYXlvdXRUYWcsIG1lLkNvbnRleHQuVXNlcklEKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNhY2hlS2V5OwogICAgfSwKICAgIGJ1dHRvbkNsaWNrOiBmdW5jdGlvbiBidXR0b25DbGljayhzcmNLZXksIGUpIHt9CiAgfQp9Ow=="},null]}