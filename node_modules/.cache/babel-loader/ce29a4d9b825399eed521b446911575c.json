{"remainingRequest":"D:\\VNT_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\VNT_vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\VNT_vue\\src\\components\\vue-context\\vue-context.js","dependencies":[{"path":"D:\\VNT_vue\\src\\components\\vue-context\\vue-context.js","mtime":1653205086517},{"path":"D:\\VNT_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VNT_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VNT_vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkQ6L1ZOVF92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgeyBkaXJlY3RpdmUgYXMgb25DbGlja2F3YXkgfSBmcm9tICd2dWUtY2xpY2thd2F5JzsKaW1wb3J0IHsgZXZlbnRPZmYsIGV2ZW50T24sIGZpbHRlclZpc2libGUsIGlzQXJyYXksIGtleUNvZGVzLCBzZWxlY3RBbGwsIHNldEF0dHIsIGdldEJDUiwgcGFyZW50RWxlbWVudEJ5Q2xhc3NOYW1lIH0gZnJvbSAnLi91dGlscyc7CmltcG9ydCB7IG5vcm1hbGl6ZVNsb3QgfSBmcm9tICcuL25vcm1hbGl6ZS1zbG90JzsKZXhwb3J0IGRlZmF1bHQgewogIGRpcmVjdGl2ZXM6IHsKICAgIG9uQ2xpY2thd2F5OiBvbkNsaWNrYXdheQogIH0sCiAgcHJvcHM6IHsKICAgIGNsb3NlT25DbGljazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY2xvc2VPblNjcm9sbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgbGF6eTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGl0ZW1TZWxlY3RvcjogewogICAgICB0eXBlOiBbU3RyaW5nLCBBcnJheV0sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbJy52LWNvbnRleHQtaXRlbScsICcudi1jb250ZXh0ID4gbGkgPiBhJ107CiAgICAgIH0KICAgIH0sCiAgICByb2xlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ21lbnUnCiAgICB9LAogICAgc3ViTWVudU9mZnNldDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEwCiAgICB9LAogICAgdXNlU2Nyb2xsSGVpZ2h0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgdXNlU2Nyb2xsV2lkdGg6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBoZWlnaHRPZmZzZXQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA1IC8vMjUKCiAgICB9LAogICAgd2lkdGhPZmZzZXQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyNQogICAgfSwKICAgIHRhZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICd1bCcKICAgIH0sCiAgICBjdXN0b21Qb3NpdGlvbk1lbnU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBjdXN0b21XaWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdHlsZTogZnVuY3Rpb24gc3R5bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnNob3cgPyB7CiAgICAgICAgdG9wOiAiIi5jb25jYXQodGhpcy50b3AsICJweCIpLAogICAgICAgIGxlZnQ6ICIiLmNvbmNhdCh0aGlzLmxlZnQsICJweCIpLAogICAgICAgIHdpZHRoOiAiIi5jb25jYXQodGhpcy53aWR0aCwgInB4IikKICAgICAgfSA6IG51bGw7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG9wOiBudWxsLAogICAgICBsZWZ0OiBudWxsLAogICAgICB3aWR0aDogbnVsbCwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIGRhdGE6IG51bGwsCiAgICAgIGxvY2FsSXRlbVNlbGVjdG9yOiAnJywKICAgICAgYWN0aXZlU3ViTWVudTogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvY2FsSXRlbVNlbGVjdG9yID0gdGhpcy5tYXBJdGVtU2VsZWN0b3IodGhpcy5pdGVtU2VsZWN0b3IpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGlmICh0aGlzLmNsb3NlT25TY3JvbGwpIHsKICAgICAgdGhpcy5yZW1vdmVTY3JvbGxFdmVudExpc3RlbmVyKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRTY3JvbGxFdmVudExpc3RlbmVyOiBmdW5jdGlvbiBhZGRTY3JvbGxFdmVudExpc3RlbmVyKCkgewogICAgICBldmVudE9uKHdpbmRvdywgJ3Njcm9sbCcsIHRoaXMuY2xvc2UpOwogICAgfSwKICAgIGFkZEhvdmVyRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gYWRkSG92ZXJFdmVudExpc3RlbmVyKGVsZW1lbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnYtY29udGV4dF9fc3ViJykuZm9yRWFjaChmdW5jdGlvbiAoc3ViTWVudU5vZGUpIHsKICAgICAgICBldmVudE9uKHN1Yk1lbnVOb2RlLCAnbW91c2VlbnRlcicsIF90aGlzLm9wZW5TdWJNZW51KTsKICAgICAgICBldmVudE9uKHN1Yk1lbnVOb2RlLCAnbW91c2VsZWF2ZScsIF90aGlzLmNsb3NlU3ViTWVudSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgaWYgKCF0aGlzLnNob3cpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gbWFrZSBzdXJlIGFsbCBzdWIgbWVudXMgYXJlIGNsb3NlZAoKCiAgICAgIHdoaWxlICh0aGlzLmFjdGl2ZVN1Yk1lbnUgIT09IG51bGwpIHsKICAgICAgICBwYXJlbnRFbGVtZW50QnlDbGFzc05hbWUodGhpcy5hY3RpdmVTdWJNZW51LCAndi1jb250ZXh0X19zdWInKS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnbW91c2VsZWF2ZScpKTsKICAgICAgfQoKICAgICAgdGhpcy5yZXNldERhdGEoKTsKICAgICAgdGhpcy5yZW1vdmVIb3ZlckV2ZW50TGlzdGVuZXIodGhpcy4kZWwpOwoKICAgICAgaWYgKHRoaXMuY2xvc2VPblNjcm9sbCkgewogICAgICAgIHRoaXMucmVtb3ZlU2Nyb2xsRXZlbnRMaXN0ZW5lcigpOwogICAgICB9CgogICAgICB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgfSwKICAgIGZvY3VzSXRlbTogZnVuY3Rpb24gZm9jdXNJdGVtKGluZGV4LCBpdGVtcykgewogICAgICB2YXIgZWwgPSBpdGVtcy5maW5kKGZ1bmN0aW9uIChlbCwgaWR4KSB7CiAgICAgICAgcmV0dXJuIGlkeCA9PT0gaW5kZXg7CiAgICAgIH0pOwogICAgICBlbCAmJiBlbC5mb2N1cygpOwogICAgfSwKICAgIGZvY3VzTmV4dDogZnVuY3Rpb24gZm9jdXNOZXh0KGV2ZW50LCB1cCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5zaG93KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpdGVtcyA9IF90aGlzMi5nZXRJdGVtcygpOwoKICAgICAgICBpZiAoaXRlbXMubGVuZ3RoIDwgMSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGluZGV4ID0gaXRlbXMuaW5kZXhPZihldmVudC50YXJnZXQpOwoKICAgICAgICBpZiAodXAgJiYgaW5kZXggPiAwKSB7CiAgICAgICAgICBpbmRleC0tOwogICAgICAgIH0gZWxzZSBpZiAoIXVwICYmIGluZGV4IDwgaXRlbXMubGVuZ3RoIC0gMSkgewogICAgICAgICAgaW5kZXgrKzsKICAgICAgICB9CgogICAgICAgIGlmIChpbmRleCA8IDApIHsKICAgICAgICAgIGluZGV4ID0gMDsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5mb2N1c0l0ZW0oaW5kZXgsIGl0ZW1zKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0SXRlbXM6IGZ1bmN0aW9uIGdldEl0ZW1zKCkgewogICAgICAvLyBpZiBhIHN1YiBtZW51IGlzIGFjdGl2ZSBvbmx5IHJldHVybiB0aGUgZWxlbWVudHMgb2YgdGhlIHN1YiBtZW51IHRvIGtlZXAgdGhlIHNjb3BlCiAgICAgIHJldHVybiBmaWx0ZXJWaXNpYmxlKHNlbGVjdEFsbCh0aGlzLmxvY2FsSXRlbVNlbGVjdG9yLCB0aGlzLmFjdGl2ZVN1Yk1lbnUgfHwgdGhpcy4kZWwpKTsKICAgIH0sCiAgICBtYXBJdGVtU2VsZWN0b3I6IGZ1bmN0aW9uIG1hcEl0ZW1TZWxlY3RvcihpdGVtU2VsZWN0b3IpIHsKICAgICAgaWYgKGlzQXJyYXkoaXRlbVNlbGVjdG9yKSkgewogICAgICAgIGl0ZW1TZWxlY3RvciA9IGl0ZW1TZWxlY3Rvci5tYXAoZnVuY3Rpb24gKHNlbGVjdG9yKSB7CiAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KHNlbGVjdG9yLCAiOm5vdCguZGlzYWJsZWQpOm5vdChbZGlzYWJsZWRdKSIpOwogICAgICAgIH0pLmpvaW4oJywgJyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpdGVtU2VsZWN0b3I7CiAgICB9LAogICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHsKICAgICAgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIG9uS2V5ZG93bjogZnVuY3Rpb24gb25LZXlkb3duKGV2ZW50KSB7CiAgICAgIHZhciBrZXkgPSBldmVudC5rZXlDb2RlOwoKICAgICAgaWYgKGtleSA9PT0ga2V5Q29kZXMuRVNDKSB7CiAgICAgICAgLy8gQ2xvc2Ugb24gZXNjCiAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICB9IGVsc2UgaWYgKGtleSA9PT0ga2V5Q29kZXMuRE9XTikgewogICAgICAgIC8vIERvd24gYXJyb3cKICAgICAgICB0aGlzLmZvY3VzTmV4dChldmVudCwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKGtleSA9PT0ga2V5Q29kZXMuVVApIHsKICAgICAgICAvLyBVcCBhcnJvdwogICAgICAgIHRoaXMuZm9jdXNOZXh0KGV2ZW50LCB0cnVlKTsKICAgICAgfSBlbHNlIGlmIChrZXkgPT09IGtleUNvZGVzLlJJR0hUKSB7CiAgICAgICAgLy8gY2hlY2sgaWYgYSBwYXJlbnQgZWxlbWVudCB3aGljaCBpcyBhc3NvY2lhdGVkIHdpdGggYSBzdWIgbWVudSBjYW4gYmUgZm91bmQuCiAgICAgICAgdmFyIG1lbnVDb250YWluZXIgPSBwYXJlbnRFbGVtZW50QnlDbGFzc05hbWUoZXZlbnQudGFyZ2V0LCAndi1jb250ZXh0X19zdWInKTsgLy8gdHJ5IHRvIG9wZW4gYSBzdWIgbWVudSBpZiB0aGUgc3ViIG1lbnUgaXNuJ3QgdGhlIGN1cnJlbnQgc3ViIG1lbnUKCiAgICAgICAgaWYgKG1lbnVDb250YWluZXIgJiYgbWVudUNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd2LWNvbnRleHQnKVswXSAhPT0gdGhpcy5hY3RpdmVTdWJNZW51KSB7CiAgICAgICAgICBtZW51Q29udGFpbmVyLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdtb3VzZWVudGVyJykpOwogICAgICAgICAgdGhpcy5mb2N1c05leHQoZXZlbnQsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBrZXlDb2Rlcy5MRUZUKSB7CiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZVN1Yk1lbnUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBwYXJlbnRNZW51ID0gcGFyZW50RWxlbWVudEJ5Q2xhc3NOYW1lKHRoaXMuYWN0aXZlU3ViTWVudSwgJ3YtY29udGV4dF9fc3ViJyk7CiAgICAgICAgcGFyZW50TWVudS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnbW91c2VsZWF2ZScpKTsKICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLmdldEl0ZW1zKCksCiAgICAgICAgICAgIGluZGV4ID0gaXRlbXMuaW5kZXhPZihwYXJlbnRNZW51LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMF0pOwogICAgICAgIHRoaXMuZm9jdXNJdGVtKGluZGV4LCBpdGVtcyk7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKGV2ZW50LCBkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5kYXRhID0gZGF0YTsKICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBidXR0b25Ecm9wRG93blBvc2l0aW9uID0gKGV2ZW50LnRvRWxlbWVudCB8fCBldmVudC50YXJnZXQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHZhciBjbGllbnRZID0gYnV0dG9uRHJvcERvd25Qb3NpdGlvbiA/IGJ1dHRvbkRyb3BEb3duUG9zaXRpb24udG9wIDogZXZlbnQuY2xpZW50WTsKICAgICAgICB2YXIgY2xpZW50WCA9IGJ1dHRvbkRyb3BEb3duUG9zaXRpb24gPyBidXR0b25Ecm9wRG93blBvc2l0aW9uLmxlZnQgOiBldmVudC5jbGllbnRYOwoKICAgICAgICBpZiAoX3RoaXMzLmN1c3RvbVBvc2l0aW9uTWVudSkgewogICAgICAgICAgdmFyIF90aGlzMyRwb3NpdGlvbkJ5TWFzdCA9IF90aGlzMy5wb3NpdGlvbkJ5TWFzdGVyRWxlbWVudChjbGllbnRZLCBjbGllbnRYLCBfdGhpczMuJGVsKTsKCiAgICAgICAgICB2YXIgX3RoaXMzJHBvc2l0aW9uQnlNYXN0MiA9IF9zbGljZWRUb0FycmF5KF90aGlzMyRwb3NpdGlvbkJ5TWFzdCwgMyk7CgogICAgICAgICAgX3RoaXMzLnRvcCA9IF90aGlzMyRwb3NpdGlvbkJ5TWFzdDJbMF07CiAgICAgICAgICBfdGhpczMubGVmdCA9IF90aGlzMyRwb3NpdGlvbkJ5TWFzdDJbMV07CiAgICAgICAgICBfdGhpczMud2lkdGggPSBfdGhpczMkcG9zaXRpb25CeU1hc3QyWzJdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX3RoaXMzJHBvc2l0aW9uTWVudSA9IF90aGlzMy5wb3NpdGlvbk1lbnUoY2xpZW50WSwgY2xpZW50WCwgX3RoaXMzLiRlbCk7CgogICAgICAgICAgdmFyIF90aGlzMyRwb3NpdGlvbk1lbnUyID0gX3NsaWNlZFRvQXJyYXkoX3RoaXMzJHBvc2l0aW9uTWVudSwgMyk7CgogICAgICAgICAgX3RoaXMzLnRvcCA9IF90aGlzMyRwb3NpdGlvbk1lbnUyWzBdOwogICAgICAgICAgX3RoaXMzLmxlZnQgPSBfdGhpczMkcG9zaXRpb25NZW51MlsxXTsKICAgICAgICAgIF90aGlzMy53aWR0aCA9IF90aGlzMyRwb3NpdGlvbk1lbnUyWzJdOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMzLiRlbC5mb2N1cygpOwoKICAgICAgICBfdGhpczMuc2V0SXRlbVJvbGVzKCk7CgogICAgICAgIF90aGlzMy5hZGRIb3ZlckV2ZW50TGlzdGVuZXIoX3RoaXMzLiRlbCk7CgogICAgICAgIGlmIChfdGhpczMuY2xvc2VPblNjcm9sbCkgewogICAgICAgICAgX3RoaXMzLmFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoKTsKICAgICAgICB9CgogICAgICAgIF90aGlzMy4kZW1pdCgnb3BlbicsIGV2ZW50LCBfdGhpczMuZGF0YSwgX3RoaXMzLnRvcCwgX3RoaXMzLmxlZnQpOwogICAgICB9KTsKICAgIH0sCiAgICBvcGVuU3ViTWVudTogZnVuY3Rpb24gb3BlblN1Yk1lbnUoZXZlbnQpIHsKICAgICAgdmFyIHN1Yk1lbnVFbGVtZW50ID0gdGhpcy4kZWwsCiAgICAgICAgICBwYXJlbnRNZW51ID0gcGFyZW50RWxlbWVudEJ5Q2xhc3NOYW1lKHN1Yk1lbnVFbGVtZW50LnBhcmVudEVsZW1lbnQsICd2LWNvbnRleHQnKSwKICAgICAgICAgIGJjciA9IGdldEJDUihldmVudC50YXJnZXQpOyAvLyBjaGVjayBpZiBhbm90aGVyIHN1YiBtZW51IGlzIG9wZW4uIEluIHRoaXMgY2FzZSBtYWtlIHN1cmUgbm8gb3RoZXIgYXMgd2VsbCBhcyBubyBuZXN0ZWQgc3ViIG1lbnUgaXMgb3BlbgoKICAgICAgaWYgKHRoaXMuYWN0aXZlU3ViTWVudSAhPT0gcGFyZW50TWVudSkgewogICAgICAgIHdoaWxlICh0aGlzLmFjdGl2ZVN1Yk1lbnUgIT09IG51bGwgJiYgdGhpcy5hY3RpdmVTdWJNZW51ICE9PSBwYXJlbnRNZW51ICYmIHRoaXMuYWN0aXZlU3ViTWVudSAhPT0gc3ViTWVudUVsZW1lbnQpIHsKICAgICAgICAgIHBhcmVudEVsZW1lbnRCeUNsYXNzTmFtZSh0aGlzLmFjdGl2ZVN1Yk1lbnUsICd2LWNvbnRleHRfX3N1YicpLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdtb3VzZWxlYXZlJykpOwogICAgICAgIH0KICAgICAgfSAvLyBmaXJzdCBzZXQgdGhlIGRpc3BsYXkgYW5kIGFmdGVyd2FyZHMgZXhlY3V0ZSBwb3NpdGlvbiBjYWxjdWxhdGlvbiBmb3IgY29ycmVjdCBlbGVtZW50IG9mZnNldHMKCgogICAgICBzdWJNZW51RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgICAgIHZhciBfdGhpcyRwb3NpdGlvbk1lbnUgPSB0aGlzLnBvc2l0aW9uTWVudShiY3IudG9wLCBiY3IucmlnaHQgLSB0aGlzLnN1Yk1lbnVPZmZzZXQsIHN1Yk1lbnVFbGVtZW50KSwKICAgICAgICAgIF90aGlzJHBvc2l0aW9uTWVudTIgPSBfc2xpY2VkVG9BcnJheShfdGhpcyRwb3NpdGlvbk1lbnUsIDMpLAogICAgICAgICAgZWxlbWVudFRvcCA9IF90aGlzJHBvc2l0aW9uTWVudTJbMF0sCiAgICAgICAgICBlbGVtZW50TGVmdCA9IF90aGlzJHBvc2l0aW9uTWVudTJbMV0sCiAgICAgICAgICBlbGVtZW50V2lkdGggPSBfdGhpcyRwb3NpdGlvbk1lbnUyWzJdOwoKICAgICAgc3ViTWVudUVsZW1lbnQuc3R5bGUubGVmdCA9ICIiLmNvbmNhdChlbGVtZW50TGVmdCwgInB4Iik7CiAgICAgIHN1Yk1lbnVFbGVtZW50LnN0eWxlLnRvcCA9ICIiLmNvbmNhdChlbGVtZW50VG9wLCAicHgiKTsKICAgICAgc3ViTWVudUVsZW1lbnQuc3R5bGUud2lkdGggPSAiIi5jb25jYXQoZWxlbWVudFdpZHRoLCAicHgiKTsKICAgICAgdGhpcy5hY3RpdmVTdWJNZW51ID0gc3ViTWVudUVsZW1lbnQ7CiAgICB9LAogICAgY2xvc2VTdWJNZW51OiBmdW5jdGlvbiBjbG9zZVN1Yk1lbnUoZXZlbnQpIHsKICAgICAgdmFyIHN1Yk1lbnVFbGVtZW50ID0gdGhpcy5nZXRTdWJNZW51RWxlbWVudEJ5RXZlbnQoZXZlbnQpLAogICAgICAgICAgcGFyZW50TWVudSA9IHBhcmVudEVsZW1lbnRCeUNsYXNzTmFtZShzdWJNZW51RWxlbWVudCwgJ3YtY29udGV4dCcpOyAvLyBpZiBhIHN1YiBtZW51IGlzIGNsb3NlZCBhbmQgaXQncyBub3QgdGhlIGN1cnJlbnRseSBhY3RpdmUgc3ViIG1lbnUgKGVnLiBhIGxvd2UgbGF5ZXJlZCBzdWIgbWVudSBjbG9zZWQKICAgICAgLy8gYnkgYSBtb3VzZWxlYXZlIGV2ZW50KSBjbG9zZSBhbGwgbmVzdGVkIHN1YiBtZW51cwoKICAgICAgaWYgKHRoaXMuYWN0aXZlU3ViTWVudSAhPT0gc3ViTWVudUVsZW1lbnQpIHsKICAgICAgICB3aGlsZSAodGhpcy5hY3RpdmVTdWJNZW51ICE9PSBudWxsICYmIHRoaXMuYWN0aXZlU3ViTWVudSAhPT0gc3ViTWVudUVsZW1lbnQpIHsKICAgICAgICAgIHBhcmVudEVsZW1lbnRCeUNsYXNzTmFtZSh0aGlzLmFjdGl2ZVN1Yk1lbnUsICd2LWNvbnRleHRfX3N1YicpLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdtb3VzZWxlYXZlJykpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgc3ViTWVudUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgLy8gY2hlY2sgaWYgYSBwYXJlbnQgbWVudSBleGlzdHMgYW5kIHRoZSBwYXJlbnQgbWVudSBpcyBhIHN1YiBtZW51IHRvIGtlZXAgdHJhY2sgb2YgdGhlIGNvcnJlY3Qgc3ViIG1lbnUKCiAgICAgIHRoaXMuYWN0aXZlU3ViTWVudSA9IHBhcmVudE1lbnUgJiYgcGFyZW50RWxlbWVudEJ5Q2xhc3NOYW1lKHBhcmVudE1lbnUsICd2LWNvbnRleHRfX3N1YicpID8gcGFyZW50TWVudSA6IG51bGw7CiAgICB9LAogICAgZ2V0U3ViTWVudUVsZW1lbnRCeUV2ZW50OiBmdW5jdGlvbiBnZXRTdWJNZW51RWxlbWVudEJ5RXZlbnQoZXZlbnQpIHsKICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndWwnKVswXTsKICAgIH0sCiAgICBwb3NpdGlvbk1lbnU6IGZ1bmN0aW9uIHBvc2l0aW9uTWVudSh0b3AsIGxlZnQsIGVsZW1lbnQpIHsKICAgICAgLy90b3AsbGVmdCBsw6AgduG7iyB0csOtIGPhu6dhIGljb24gc+G7lSB4deG7kW5nCiAgICAgIC8vcG9zaXRpb24gY+G7p2EgdGjhursgdWwgKG1lbnUgZHJvcGRvd24pCiAgICAgIHZhciBwb3NpdGlvbk1lbnUgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvL3Bvc2l0aW9uIGPhu6dhIGJ1dHRvbiBjaGEgCgogICAgICB2YXIgcG9zaXRpb25QYXJlbnRNZW51ID0gZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyB0w61uaCB3aWR0aCBjaG8gbWVudSA6IG7hur91IGPDsyBjdXN0b20gdGjDrCB0w61uaCB0aGVvIGN1c3RvbSBjw7JuIGtow7RuZyB0aMOsIHPDqXQgd2lkdGggYuG6sW5nIHdpZHRoIGPhu6dhIGJ1dHRvbgoKICAgICAgdmFyIHdpZHRoID0gdGhpcy5jdXN0b21XaWR0aCAhPSAwID8gdGhpcy5jdXN0b21XaWR0aCA6IHBvc2l0aW9uUGFyZW50TWVudS53aWR0aDsgLy9u4bq/dSB3aWR0aCBiw6puIHRyw6puIG3DoCBs4bubbiBoxqFuIHdpZHRoIG3hurdjIMSR4buLbmggY+G7p2EgbWVudSB0aMOsIG3hu5tpIGfDoW4sIG7hur91IG5o4buPIGjGoW4gdGjDrCB0aMO0aSDEkeG7gyBt4bq3YyDEkeG7i25oIGNobyDEkeG6uXAKCiAgICAgIC8qd2lkdGggPSB3aWR0aD4gZWxlbWVudC5vZmZzZXRXaWR0aD8gd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGg7Ki8KCiAgICAgIHZhciB0ZXN0UG9zaXRpb24gPSBlbGVtZW50Lm9mZnNldEhlaWdodCArIHBvc2l0aW9uUGFyZW50TWVudS50b3AgKyBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcub2Zmc2V0SGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB2YXIgdGVzdEJvdHRvblBvc2l0aW9uID0gcG9zaXRpb25QYXJlbnRNZW51LnRvcCAtIGVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgZWxlbWVudEhlaWdodCA9IHRoaXMudXNlU2Nyb2xsSGVpZ2h0ID8gZWxlbWVudC5zY3JvbGxIZWlnaHQgOiBlbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgdmFyIGxhcmdlc3RIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBlbGVtZW50SGVpZ2h0IC0gcG9zaXRpb25QYXJlbnRNZW51LmhlaWdodCAtIChwb3NpdGlvblBhcmVudE1lbnUuYm90dG9tIC0gcG9zaXRpb25QYXJlbnRNZW51LnRvcCkgLSB0aGlzLmhlaWdodE9mZnNldDsKICAgICAgdmFyIGVsZW1lbnRXaWR0aCA9IHRoaXMudXNlU2Nyb2xsV2lkdGggPyBlbGVtZW50LnNjcm9sbFdpZHRoIDogd2lkdGg7CiAgICAgIHZhciBsYXJnZXN0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAtIGVsZW1lbnRXaWR0aCAtIHRoaXMud2lkdGhPZmZzZXQ7IC8vdHLGsOG7nW5nIGjhu6NwIG3DoCBtZW51IHF1YXkgbmfGsOG7o2MgbMOqbiB0csOqbiBob+G6t2MgeHXDtGkgeHXhu5FuZyBkxrDhu5tpIG3DoCBraMO0bmcgYuG7iyB2xrDhu6N0IHF1w6EgY2hp4buBdSBjYW8gbcOgbiBow6xuaCB0aMOsIG5o4bqjeSB2w6BvIMSRw6J5CgogICAgICBpZiAodGVzdFBvc2l0aW9uID49IDAgJiYgdGVzdEJvdHRvblBvc2l0aW9uID49IDAgfHwgdGVzdFBvc2l0aW9uIDwgMCAmJiB0ZXN0Qm90dG9uUG9zaXRpb24gPCAwKSB7CiAgICAgICAgLy9u4bq/dSB0b3AgPiBjaGnhu4F1IGNhbyBtYXggdGjDrCBkw6BuIGzDqm4gdHLDqm4gbuG6v3Uga2jDtG5nIHRow6wgZMOgbiB4deG7kW5nIGTGsOG7m2kKICAgICAgICBpZiAodGVzdFBvc2l0aW9uID4gMCkgewogICAgICAgICAgdG9wID0gcG9zaXRpb25QYXJlbnRNZW51LnRvcCAtIGVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b3AgPSBwb3NpdGlvblBhcmVudE1lbnUudG9wICsgZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLm9mZnNldEhlaWdodDsKICAgICAgICB9CiAgICAgIH0gLy9u4bq/dSBtw6AgY2hp4buBdSBjYW8gY+G7p2EgbWVudSBjYW8gcXXDoSwgZMO5IHF1YXkgbMOqbiB0csOqbiBoYXkgcXVheSB4deG7kW5nIGTGsOG7m2kgxJHhu4F1IGLhu4sgbcOgbiBow6xuaCBj4bqvdCBt4bqldCB0aMOsIG5o4bqjeSB2w6BvIMSRw6J5CiAgICAgIGVsc2UgewogICAgICAgIC8vbuG6v3UgdG9wID4gY2hp4buBdSBjYW8gbWF4IHRow6wgZMOgbiBsw6puIHRyw6puIG7hur91IGtow7RuZyB0aMOsIGTDoG4geHXhu5FuZyBkxrDhu5tpCiAgICAgICAgaWYgKHBvc2l0aW9uTWVudS50b3AgPj0gbGFyZ2VzdEhlaWdodCkgewogICAgICAgICAgdG9wID0gbGFyZ2VzdEhlaWdodDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdG9wID0gcG9zaXRpb25NZW51LnRvcCArIHRoaXMuaGVpZ2h0T2Zmc2V0OwogICAgICAgIH0KICAgICAgfSAvL27hur91IGxlZnQgY+G7p2EgbWVudSA+IMSR4buZIHLhu5luZyBtYXggdGjDrCBkw6BuIHNhbmcgdHLDoWksIG7hur91IGsgdGjDrCBkw6BuIHNhbmcgcGjhuqNpCgoKICAgICAgaWYgKHBvc2l0aW9uTWVudS5sZWZ0ID49IGxhcmdlc3RXaWR0aCkgewogICAgICAgIGxlZnQgPSBsYXJnZXN0V2lkdGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGVmdCA9IHBvc2l0aW9uTWVudS5sZWZ0ICsgKHBvc2l0aW9uUGFyZW50TWVudS5sZWZ0IC0gcG9zaXRpb25NZW51LmxlZnQgLSB3aWR0aCArIHBvc2l0aW9uUGFyZW50TWVudS53aWR0aCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbdG9wLCBsZWZ0LCB3aWR0aF07CiAgICB9LAoKICAgIC8qKg0KICAgICAqIFRETkdISUEgMTMvMS8yMDIxOiBjaOG6vyBs4bqhaSB24buLIHRyw60gY+G7p2EgY29udGV4dCBjaG8gY8OhYyBjaOG7lyBkw7luZyBuaMawbmcgbOG6oWkgZGkgxJHhu5luZw0KICAgICAqIFZEOiBidXR0b25kcm9wZG93biwgYWN0aW9ubWVudSwuLi4gY8OzIHNjcm9sbCBuw6puIGtow7RuZyDEkeG7i25oIHLDtSDEkcaw4bujYyB24buLIHRyw60NCiAgICAgKiBDaMO6IG7DoG8gdsOgbyB04bqtbiDEkcOieSDEkeG7jWMgY29kZSBjxaluZyBraOG7j2UgxJHhuqV5DQogICAgICogQHBhcmFtIHsqfSB0b3AgDQogICAgICogQHBhcmFtIHsqfSBsZWZ0IA0KICAgICAqIEBwYXJhbSB7Kn0gZWxlbWVudCANCiAgICAgKiBAcmV0dXJucyANCiAgICAgKi8KICAgIHBvc2l0aW9uQnlNYXN0ZXJFbGVtZW50OiBmdW5jdGlvbiBwb3NpdGlvbkJ5TWFzdGVyRWxlbWVudCh0b3AsIGxlZnQsIGVsZW1lbnQpIHsKICAgICAgLy9wb3NpdGlvbiBj4bunYSBidXR0b24gY2hhIAogICAgICB2YXIgcG9zaXRpb25QYXJlbnRNZW51ID0gZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvL3Bvc2l0aW9uIGPhu6dhIHRo4bq7IHVsIChtZW51IGRyb3Bkb3duKQoKICAgICAgdmFyIHBvc2l0aW9uTWVudSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIHTDrW5oIHdpZHRoIGNobyBtZW51IDogbuG6v3UgY8OzIGN1c3RvbSB0aMOsIHTDrW5oIHRoZW8gY3VzdG9tIGPDsm4ga2jDtG5nIHRow6wgc8OpdCB3aWR0aCBi4bqxbmcgd2lkdGggY+G7p2EgYnV0dG9uCgogICAgICB2YXIgd2lkdGggPSB0aGlzLmN1c3RvbVdpZHRoICE9IDAgPyB0aGlzLmN1c3RvbVdpZHRoIDogcG9zaXRpb25QYXJlbnRNZW51LndpZHRoOwogICAgICB2YXIgdGVzdFBvc2l0aW9uID0gZWxlbWVudC5vZmZzZXRIZWlnaHQgKyBwb3NpdGlvblBhcmVudE1lbnUudG9wICsgZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLm9mZnNldEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgdmFyIHRlc3RCb3R0b25Qb3NpdGlvbiA9IHBvc2l0aW9uUGFyZW50TWVudS50b3AgLSBlbGVtZW50Lm9mZnNldEhlaWdodDsKICAgICAgdmFyIGVsZW1lbnRIZWlnaHQgPSB0aGlzLnVzZVNjcm9sbEhlaWdodCA/IGVsZW1lbnQuc2Nyb2xsSGVpZ2h0IDogZWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciBsYXJnZXN0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gZWxlbWVudEhlaWdodCAtIHBvc2l0aW9uUGFyZW50TWVudS5oZWlnaHQgLSAocG9zaXRpb25QYXJlbnRNZW51LmJvdHRvbSAtIHBvc2l0aW9uUGFyZW50TWVudS50b3ApIC0gdGhpcy5oZWlnaHRPZmZzZXQ7CiAgICAgIHZhciBlbGVtZW50V2lkdGggPSB0aGlzLnVzZVNjcm9sbFdpZHRoID8gZWxlbWVudC5zY3JvbGxXaWR0aCA6IHdpZHRoOwogICAgICB2YXIgbGFyZ2VzdFdpZHRoID0gd2luZG93LmlubmVyV2lkdGggLSBlbGVtZW50V2lkdGggLSB0aGlzLndpZHRoT2Zmc2V0OyAvL27hur91IHRvcCA+IGNoaeG7gXUgY2FvIG1heCB0aMOsIGTDoG4gbMOqbiB0csOqbiBu4bq/dSBraMO0bmcgdGjDrCBkw6BuIHh14buRbmcgZMaw4bubaQoKICAgICAgaWYgKHRlc3RQb3NpdGlvbiA+IDApIHsKICAgICAgICB0b3AgPSBwb3NpdGlvblBhcmVudE1lbnUudG9wIC0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdG9wID0gcG9zaXRpb25QYXJlbnRNZW51LnRvcCArIGVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5vZmZzZXRIZWlnaHQ7CiAgICAgIH0gLy9u4bq/dSBsZWZ0IGPhu6dhIG1lbnUgPiDEkeG7mSBy4buZbmcgbWF4IHRow6wgZMOgbiBzYW5nIHRyw6FpLCBu4bq/dSBrIHRow6wgZMOgbiBzYW5nIHBo4bqjaQoKCiAgICAgIGlmIChwb3NpdGlvbk1lbnUubGVmdCA+PSBsYXJnZXN0V2lkdGgpIHsKICAgICAgICBsZWZ0ID0gbGFyZ2VzdFdpZHRoOwogICAgICB9IGVsc2UgewogICAgICAgIGxlZnQgPSBwb3NpdGlvbk1lbnUubGVmdCArIChwb3NpdGlvblBhcmVudE1lbnUubGVmdCAtIHBvc2l0aW9uTWVudS5sZWZ0IC0gd2lkdGggKyBwb3NpdGlvblBhcmVudE1lbnUud2lkdGgpOwogICAgICB9CgogICAgICByZXR1cm4gW3RvcCwgbGVmdCwgd2lkdGhdOwogICAgfSwKICAgIHJlbW92ZVNjcm9sbEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIHJlbW92ZVNjcm9sbEV2ZW50TGlzdGVuZXIoKSB7CiAgICAgIGV2ZW50T2ZmKHdpbmRvdywgJ3Njcm9sbCcsIHRoaXMuY2xvc2UpOwogICAgfSwKICAgIHJlbW92ZUhvdmVyRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gcmVtb3ZlSG92ZXJFdmVudExpc3RlbmVyKGVsZW1lbnQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52LWNvbnRleHRfX3N1YicpLmZvckVhY2goZnVuY3Rpb24gKHN1Yk1lbnVOb2RlKSB7CiAgICAgICAgZXZlbnRPZmYoc3ViTWVudU5vZGUsICdtb3VzZWVudGVyJywgX3RoaXM0Lm9wZW5TdWJNZW51KTsKICAgICAgICBldmVudE9mZihzdWJNZW51Tm9kZSwgJ21vdXNlbGVhdmUnLCBfdGhpczQuY2xvc2VTdWJNZW51KTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXREYXRhOiBmdW5jdGlvbiByZXNldERhdGEoKSB7CiAgICAgIHRoaXMudG9wID0gbnVsbDsKICAgICAgdGhpcy5sZWZ0ID0gbnVsbDsKICAgICAgdGhpcy5kYXRhID0gbnVsbDsKICAgICAgdGhpcy5zaG93ID0gZmFsc2U7CiAgICB9LAogICAgc2V0SXRlbVJvbGVzOiBmdW5jdGlvbiBzZXRJdGVtUm9sZXMoKSB7CiAgICAgIC8vIEFkZCByb2xlPSJtZW51aXRlbSIgYW5kIHRhYmluZGV4PSItMSIgdG8gYWxsIGl0ZW1zCiAgICAgIHNlbGVjdEFsbCh0aGlzLmxvY2FsSXRlbVNlbGVjdG9yLCB0aGlzLiRlbCkuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICBzZXRBdHRyKGVsLCAncm9sZScsICdtZW51aXRlbScpOwogICAgICAgIHNldEF0dHIoZWwsICd0YWJpbmRleCcsICctMScpOwogICAgICB9KTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBjbG9zZU9uU2Nyb2xsOiBmdW5jdGlvbiBjbG9zZU9uU2Nyb2xsKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICBpZiAobmV3VmFsdWUgPT09IG9sZFZhbHVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAobmV3VmFsdWUgJiYgdGhpcy5zaG93KSB7CiAgICAgICAgdGhpcy5hZGRTY3JvbGxFdmVudExpc3RlbmVyKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yZW1vdmVTY3JvbGxFdmVudExpc3RlbmVyKCk7CiAgICAgIH0KICAgIH0sCiAgICBpdGVtU2VsZWN0b3I6IGZ1bmN0aW9uIGl0ZW1TZWxlY3RvcihzZWxlY3Rvciwgb2xkVmFsdWUpIHsKICAgICAgaWYgKHNlbGVjdG9yICE9PSBvbGRWYWx1ZSkgewogICAgICAgIHRoaXMubG9jYWxJdGVtU2VsZWN0b3IgPSB0aGlzLm1hcEl0ZW1TZWxlY3RvcihzZWxlY3Rvcik7CiAgICAgIH0KICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIGlmICh0aGlzLmxhenkgJiYgIXRoaXMuc2hvdykgewogICAgICByZXR1cm4gaChmYWxzZSk7CiAgICB9IC8vIE9ubHkgcmVnaXN0ZXIgdGhlIGV2ZW50cyB3ZSBuZWVkCgoKICAgIHZhciBvbiA9IHsKICAgICAgLy8gYCFgIG1vZGlmaWVyIGZvciBjYXB0dXJlCiAgICAgICchY29udGV4dG1lbnUnOiBmdW5jdGlvbiBjb250ZXh0bWVudShlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9LAogICAgICBrZXlkb3duOiB0aGlzLm9uS2V5ZG93biAvLyB1cCwgZG93biwgZXNjCgogICAgfTsKCiAgICBpZiAodGhpcy5jbG9zZU9uQ2xpY2spIHsKICAgICAgb24uY2xpY2sgPSB0aGlzLm9uQ2xpY2s7CiAgICB9IC8vIE9ubHkgcmVnaXN0ZXIgdGhlIGRpcmVjdGl2ZXMgd2UgbmVlZAoKCiAgICB2YXIgZGlyZWN0aXZlcyA9IFt7CiAgICAgIG5hbWU6ICdvbi1jbGlja2F3YXknLAogICAgICB2YWx1ZTogdGhpcy5jbG9zZSwKICAgICAgcmF3TmFtZTogJ3Ytb24tY2xpY2thd2F5JwogICAgfV07CgogICAgaWYgKCF0aGlzLmxhenkpIHsKICAgICAgZGlyZWN0aXZlcy5wdXNoKHsKICAgICAgICBuYW1lOiAnc2hvdycsCiAgICAgICAgdmFsdWU6IHRoaXMuc2hvdywKICAgICAgICByYXdOYW1lOiAndi1zaG93JywKICAgICAgICBleHByZXNzaW9uOiAnc2hvdycKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIGgodGhpcy50YWcsIHsKICAgICAgc3RhdGljQ2xhc3M6ICd2LWNvbnRleHQnLAogICAgICBzdHlsZTogdGhpcy5zdHlsZSwKICAgICAgYXR0cnM6IHsKICAgICAgICB0YWJpbmRleDogJy0xJywKICAgICAgICByb2xlOiB0aGlzLnJvbGUsCiAgICAgICAgJ2FyaWEtaGlkZGVuJzogdGhpcy5sYXp5ID8gbnVsbCA6IFN0cmluZyghdGhpcy5zaG93KQogICAgICB9LAogICAgICBvbjogb24sCiAgICAgIGRpcmVjdGl2ZXM6IGRpcmVjdGl2ZXMKICAgIH0sIFtub3JtYWxpemVTbG90KCdkZWZhdWx0JywgewogICAgICBkYXRhOiB0aGlzLmRhdGEKICAgIH0sIHRoaXMuJHNjb3BlZFNsb3RzLCB0aGlzLiRzbG90cyldKTsKICB9Cn07"},null]}