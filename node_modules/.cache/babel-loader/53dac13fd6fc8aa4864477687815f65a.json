{"remainingRequest":"D:\\VNT_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\VNT_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\VNT_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\VNT_vue\\src\\components\\msdatepicker\\Datepicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\VNT_vue\\src\\components\\msdatepicker\\Datepicker.vue","mtime":1670055811964},{"path":"D:\\VNT_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VNT_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VNT_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VNT_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovVk5UX3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICogSMOgbSB0w6FjaCBt4bqjbmcNCiAqLwp2YXIgc2xpY2UgPSBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkgewogIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDsKCiAgaWYgKCFsZW5ndGgpIHsKICAgIHJldHVybiBbXTsKICB9CgogIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiBzdGFydDsKICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDsKCiAgaWYgKHN0YXJ0IDwgMCkgewogICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogbGVuZ3RoICsgc3RhcnQ7CiAgfQoKICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7CgogIGlmIChlbmQgPCAwKSB7CiAgICBlbmQgKz0gbGVuZ3RoOwogIH0KCiAgbGVuZ3RoID0gc3RhcnQgPiBlbmQgPyAwIDogZW5kIC0gc3RhcnQgPj4+IDA7CiAgc3RhcnQgPj4+PSAwOwogIHZhciBpbmRleCA9IC0xOwogIHZhciByZXN1bHQgPSBuZXcgQXJyYXkobGVuZ3RoKTsKCiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHsKICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtpbmRleCArIHN0YXJ0XTsKICB9CgogIHJldHVybiByZXN1bHQ7Cn07Ci8qKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICogSMOgbSB0w6FjaCBt4bqjbmcgdGjDoG5oIG5oaeG7gXUgbeG6o25nIG5o4buPIGPDsyDEkeG7mSBkw6BpIGNobyB0csaw4bubYw0KICogQHBhcmFtIHthcnJheXMsIHNpemV9DQogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogKi8KCgp2YXIgY2h1bmsgPSBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSkgewogIHNpemUgPSBNYXRoLm1heChzaXplLCAwKTsKICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7CgogIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7CiAgICByZXR1cm4gW107CiAgfQoKICB2YXIgaW5kZXggPSAwOwogIHZhciByZXNJbmRleCA9IDA7CiAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheShNYXRoLmNlaWwobGVuZ3RoIC8gc2l6ZSkpOwoKICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHsKICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHNsaWNlKGFycmF5LCBpbmRleCwgaW5kZXggKz0gc2l6ZSk7CiAgfQoKICByZXR1cm4gcmVzdWx0Owp9OwoKdmFyIG1vbnRoTWFwID0gewogIDA6ICJUaMOhbmcgMSIsCiAgMTogIlRow6FuZyAyIiwKICAyOiAiVGjDoW5nIDMiLAogIDM6ICJUaMOhbmcgNCIsCiAgNDogIlRow6FuZyA1IiwKICA1OiAiVGjDoW5nIDYiLAogIDY6ICJUaMOhbmcgNyIsCiAgNzogIlRow6FuZyA4IiwKICA4OiAiVGjDoW5nIDkiLAogIDk6ICJUaMOhbmcgMTAiLAogIDEwOiAiVGjDoW5nIDExIiwKICAxMTogIlRow6FuZyAxMiIKfTsgLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCgppbXBvcnQgeyBNb2R1bGVDb250ZXh0IH0gZnJvbSAiQC9zdG9yZXMvbW9kdWxlLWNvbnN0IjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRhdGVwaWNrZXIiLAogIHByb3BzOiB7CiAgICBoYXNUaW1lOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgY29sb3JTZWxlY3RlZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogIiMwOEJGMUUiCiAgICB9LAogICAgYmFja2dyb3VuZFNlbGVjdGVkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAicmdiYSg0NCwgMTYwLCAyOCwgMC4yKSIKICAgIH0sCiAgICB5ZWFyU2VsZWN0ZWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICIjZmZmIgogICAgfSwKICAgIHZhbHVlOiB7fSwKICAgIHNjcmVlblg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNjcmVlblk6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIG1pbkRhdGU6IHt9LAogICAgbWF4RGF0ZToge30KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgZHRlTm93ID0gbmV3IERhdGUoKTsKICAgIHJldHVybiB7CiAgICAgIGhvdXI6IDAsCiAgICAgIG1pbjogMCwKICAgICAgc2Vjb25kOiAwLAogICAgICBkYXlNYXA6IHsKICAgICAgICAwOiAiVDIiLAogICAgICAgIDE6ICJUMyIsCiAgICAgICAgMjogIlQ0IiwKICAgICAgICAzOiAiVDUiLAogICAgICAgIDQ6ICJUNiIsCiAgICAgICAgNTogIlQ3IiwKICAgICAgICA2OiAiQ04iCiAgICAgIH0sCiAgICAgIGN1cnJlbnRNb250aDogIiIuY29uY2F0KGR0ZU5vdy5nZXRNb250aCgpKSwKICAgICAgLy8gdGjDoW5nIMSRYW5nIGhp4buDbiB0aOG7iyB0csOqbiBwaWNrZXIKICAgICAgY3VycmVudFllYXI6ICIiLmNvbmNhdChkdGVOb3cuZ2V0RnVsbFllYXIoKSksCiAgICAgIC8vIG7Eg20gxJFhbmcgaGnhu4NuIHRo4buLIHRyw6puIHBpY2tlcgogICAgICBzZWxlY3Rpbmc6ICJkYXRlIiwKICAgICAgc2VsZWN0ZWREYXlSYW5nZTogW10sCiAgICAgIHNlbGVjdGVkRGF5T2ZXZWVrOiAiIiwKICAgICAgc2VsZWN0ZWREYXk6IGR0ZU5vdy5nZXREYXRlKCksCiAgICAgIC8vIHNlbGVjdGVkOiBuZ8OgeS8gdGjDoW5nLyBuxINtIMSRYW5nIGNo4buNbgogICAgICBzZWxlY3RlZE1vbnRoOiAiIi5jb25jYXQoZHRlTm93LmdldE1vbnRoKCkpLAogICAgICBzZWxlY3RlZFllYXI6ICIiLmNvbmNhdChkdGVOb3cuZ2V0RnVsbFllYXIoKSksCiAgICAgIHJhbmdlRGF5TW9kZTogZmFsc2UsCiAgICAgIC8vIGNo4bq/IMSR4buZIGtob+G6o25nIHRo4budaSBnaWFuLCBt4bq3YyDEkeG7i25oIGzDoCBraMO0bmcgYuG6rXQKICAgICAgaGVpZ2h0OiAiIiwKICAgICAgd2lkdGg6ICIiCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWwsIG9sZFZhbCkgewogICAgICAgIHZhciBtZSA9IHRoaXM7CgogICAgICAgIGlmIChuZXdWYWwgJiYgbmV3VmFsIGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgbWUuaG91ciA9IG5ld1ZhbC5nZXRIb3VycygpOwogICAgICAgICAgbWUubWluID0gbmV3VmFsLmdldE1pbnV0ZXMoKTsKICAgICAgICAgIG1lLnNlY29uZCA9IG5ld1ZhbC5nZXRTZWNvbmRzKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja01pbkRhdGU6IGZ1bmN0aW9uIGNoZWNrTWluRGF0ZShkYXkpIHsKICAgICAgaWYgKHRoaXMubWluRGF0ZSkgewogICAgICAgIHZhciBsZXNzWWVhciA9IHRoaXMuY3VycmVudFllYXIgPCB0aGlzLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSwKICAgICAgICAgICAgbGVzc01vbnRoID0gdGhpcy5jdXJyZW50WWVhciA9PSB0aGlzLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSAmJiB0aGlzLmN1cnJlbnRNb250aCA8IHRoaXMubWluRGF0ZS5nZXRNb250aCgpLAogICAgICAgICAgICBsZXNzRGF5ID0gdGhpcy5jdXJyZW50WWVhciA9PSB0aGlzLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSAmJiB0aGlzLmN1cnJlbnRNb250aCA9PSB0aGlzLm1pbkRhdGUuZ2V0TW9udGgoKSAmJiBkYXkuZGF5IDwgdGhpcy5taW5EYXRlLmdldERhdGUoKTsKICAgICAgICBpZiAobGVzc1llYXIgfHwgbGVzc01vbnRoIHx8IGxlc3NEYXkpIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgY2hlY2tNYXhEYXRlOiBmdW5jdGlvbiBjaGVja01heERhdGUoZGF5KSB7CiAgICAgIGlmICh0aGlzLm1heERhdGUpIHsKICAgICAgICB2YXIgZ3JlYXRlclllYXIgPSB0aGlzLmN1cnJlbnRZZWFyID4gdGhpcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCksCiAgICAgICAgICAgIGdyZWF0ZXJNb250aCA9IHRoaXMuY3VycmVudFllYXIgPT0gdGhpcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkgJiYgdGhpcy5jdXJyZW50TW9udGggPiB0aGlzLm1heERhdGUuZ2V0TW9udGgoKSwKICAgICAgICAgICAgZ3JlYXRlckRheSA9IHRoaXMuY3VycmVudFllYXIgPT0gdGhpcy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkgJiYgdGhpcy5jdXJyZW50TW9udGggPT0gdGhpcy5tYXhEYXRlLmdldE1vbnRoKCkgJiYgZGF5LmRheSA+IHRoaXMubWF4RGF0ZS5nZXREYXRlKCk7CiAgICAgICAgaWYgKGdyZWF0ZXJZZWFyIHx8IGdyZWF0ZXJNb250aCB8fCBncmVhdGVyRGF5KSByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIG9uSW5wdXRIb3VyOiBmdW5jdGlvbiBvbklucHV0SG91cigpIHsKICAgICAgLy8gaMOgbSBuw6B5IGtp4buDbSB0cmEgZm9jdXMgc2FuZyBpbnB1dCBtaW4KICAgICAgdmFyIG1lID0gdGhpcywKICAgICAgICAgIGhvdXIgPSBtZS5ob3VyOwoKICAgICAgaWYgKGhvdXIudG9TdHJpbmcoKS5sZW5ndGggPT09IDEgJiYgaG91ciA+PSAzIHx8IGhvdXIudG9TdHJpbmcoKS5sZW5ndGggPT09IDIpIHsKICAgICAgICBtZS51cGRhdGVUaW1lKGhvdXIsIG51bGwsIG51bGwpOwogICAgICB9CiAgICB9LAogICAgb25JbnB1dE1pbjogZnVuY3Rpb24gb25JbnB1dE1pbigpIHsKICAgICAgdmFyIG1lID0gdGhpcywKICAgICAgICAgIG1pbiA9IG1lLm1pbjsKCiAgICAgIGlmIChtaW4udG9TdHJpbmcoKS5sZW5ndGggPT09IDEgJiYgbWluID49IDYgfHwgbWluLnRvU3RyaW5nKCkubGVuZ3RoID09PSAyKSB7CiAgICAgICAgbWUudXBkYXRlVGltZShudWxsLCBtaW4sIG51bGwpOwogICAgICB9CiAgICB9LAogICAgb25JbnB1dFNlY29uZDogZnVuY3Rpb24gb25JbnB1dFNlY29uZCgpIHsKICAgICAgdmFyIG1lID0gdGhpcywKICAgICAgICAgIHNlY29uZCA9IG1lLnNlY29uZDsKCiAgICAgIGlmIChzZWNvbmQudG9TdHJpbmcoKS5sZW5ndGggPT09IDEgJiYgc2Vjb25kID49IDYgfHwgc2Vjb25kLnRvU3RyaW5nKCkubGVuZ3RoID09PSAyKSB7CiAgICAgICAgLy91cGRhdGUgcmEgbmdvYWkKICAgICAgICBtZS51cGRhdGVUaW1lKG51bGwsIG51bGwsIHNlY29uZCk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVIb3VyOiBmdW5jdGlvbiB1cGRhdGVIb3VyKCkgewogICAgICB0aGlzLnVwZGF0ZVRpbWUodGhpcy5ob3VyLCBudWxsLCBudWxsKTsKICAgIH0sCiAgICB1cGRhdGVNaW46IGZ1bmN0aW9uIHVwZGF0ZU1pbigpIHsKICAgICAgdGhpcy51cGRhdGVUaW1lKG51bGwsIHRoaXMubWluLCBudWxsKTsKICAgIH0sCiAgICB1cGRhdGVTZWNvbmQ6IGZ1bmN0aW9uIHVwZGF0ZVNlY29uZCgpIHsKICAgICAgdGhpcy51cGRhdGVUaW1lKG51bGwsIG51bGwsIHRoaXMuc2Vjb25kKTsKICAgIH0sCgogICAgLyoqDQogICAgICogVGjhu7FjIGhp4buHbiBj4bqtcCBuaOG6rXQgR2nhu50vUGjDunQvR2nDonkNCiAgICAgKi8KICAgIHVwZGF0ZVRpbWU6IGZ1bmN0aW9uIHVwZGF0ZVRpbWUoaG91ciwgbWluLCBzZWNvbmQpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdmFyIHZhbHVlRGF0ZVRpbWUgPSBtZS52YWx1ZTsKCiAgICAgIGlmICh2YWx1ZURhdGVUaW1lICYmIHZhbHVlRGF0ZVRpbWUgaW5zdGFuY2VvZiBEYXRlKSB7CiAgICAgICAgaWYgKGhvdXIpIHsKICAgICAgICAgIHZhbHVlRGF0ZVRpbWUuc2V0SG91cnMoaG91cik7CiAgICAgICAgfQoKICAgICAgICBpZiAobWluKSB7CiAgICAgICAgICB2YWx1ZURhdGVUaW1lLnNldE1pbnV0ZXMobWluKTsKICAgICAgICB9CgogICAgICAgIGlmIChzZWNvbmQpIHsKICAgICAgICAgIHZhbHVlRGF0ZVRpbWUuc2V0U2Vjb25kcyhzZWNvbmQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB2YWx1ZURhdGVUaW1lKTsKICAgICAgfQogICAgfSwKICAgIHN0eWxlOiBmdW5jdGlvbiBzdHlsZSgpIHsKICAgICAgLy9DaGlldSBjYW8gY3VhIGN1YSBzbwogICAgICB2YXIgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7CiAgICAgIHZhciB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICB2YXIgdG9wID0gMzYgKyAicHgiOyAvL3RoaXMuc2NyZWVuWSBsYWYgdmkgdHJpIGN1YQoKICAgICAgaWYgKHRoaXMuc2NyZWVuWSArIHRoaXMuaGVpZ2h0ICsgMTAwID4gaGVpZ2h0KSB7CiAgICAgICAgdG9wID0gLXRoaXMuaGVpZ2h0IC0gMzYgKyAicHgiOwogICAgICB9CgogICAgICBpZiAodGhpcy5zY3JlZW5YIC0gdGhpcy53aWR0aCA8IDIwMCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsZWZ0OiAwICsgInB4IiwKICAgICAgICAgIHRvcDogdG9wCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHJldHVybiB7CiAgICAgICAgcmlnaHQ6IDAgKyAicHgiLAogICAgICAgIHRvcDogdG9wCiAgICAgIH07CiAgICB9LAoKICAgIC8qKg0KICAgICAqIENoYW5nZXMgdGhlIGRpc3BsYXkgdG8gdGhlIGNhbGVuZGFyIG9yIHllYXJzIGRlcGVuZGluZyBvbiB0aGUgdmFsdWUuDQogICAgICovCgogICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgKiBIw6BtIHRy4bqjIHbhu4EgdGjDoW5nIHRp4bq/cCB0aGVvIChob+G6t2MgMTIgbsSDbSB0aeG6v3AgdGhlbykga2hpIGLhuqVtIG3FqWkgdMOqbiBzYW5nIHBo4bqjaSAoaG/hurdjIGzDqm4gdHLDqm4pDQogICAgICogQ3JlYXRlZCBieTogbnZsYW0gKDIyLzA2LzIwMTkpDQogICAgICovCiAgICBuZXh0TW9udGg6IGZ1bmN0aW9uIG5leHRNb250aCgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0aW5nID09PSAiZGF0ZSIpIHsKICAgICAgICBpZiAodGhpcy5jdXJyZW50TW9udGggPCAxMSkgewogICAgICAgICAgdGhpcy5jdXJyZW50TW9udGggPSB0aGlzLmN1cnJlbnRNb250aCArIDE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gMDsKICAgICAgICAgIHRoaXMuY3VycmVudFllYXIgPSB0aGlzLmN1cnJlbnRZZWFyICsgMTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RpbmcgPT09ICJ5ZWFyIikgewogICAgICAgIHRoaXMuY3VycmVudFllYXIgPSB0aGlzLmN1cnJlbnRZZWFyICsgMTI7CiAgICAgIH0KICAgIH0sCgogICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgKiBIw6BtIHRy4bqjIHbhu4EgdGjDoW5nIHRyxrDhu5tjIChob+G6t2MgMTIgbsSDbSB24buBIHRyxrDhu5tjKSBraGkgYuG6pW0gbcWpaSB0w6puIHNhbmcgcGjhuqNpIChob+G6t2MgeHXhu5FuZyBkxrDhu5tpKQ0KICAgICAqIENyZWF0ZWQgYnk6IG52bGFtICgyMi8wNi8yMDE5KQ0KICAgICAqLwogICAgcHJldmlvdXNNb250aDogZnVuY3Rpb24gcHJldmlvdXNNb250aCgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0aW5nID09PSAiZGF0ZSIpIHsKICAgICAgICBpZiAodGhpcy5jdXJyZW50TW9udGggPiAwKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRNb250aCA9IHRoaXMuY3VycmVudE1vbnRoIC0gMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jdXJyZW50TW9udGggPSAxMTsKICAgICAgICAgIHRoaXMuY3VycmVudFllYXIgPSB0aGlzLmN1cnJlbnRZZWFyIC0gMTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RpbmcgPT09ICJ5ZWFyIikgewogICAgICAgIHRoaXMuY3VycmVudFllYXIgLT0gMTI7CiAgICAgIH0KICAgIH0sCgogICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgKiDEkMOzbmcgbOG7i2NoIGtoaSBjw6FjIG7DunQgRXNjIGhheSBUYWIgxJHGsOG7o2MgbmjhuqVuDQogICAgICogQ3JlYXRlZCBieTogbnZsYW0gKDIyLzA2LzIwMTkpDQogICAgICovCiAgICBzZXRFc2NhcGVFdmVudDogZnVuY3Rpb24gc2V0RXNjYXBlRXZlbnQoKSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBtZS5ldmVudEVzY2FwZSk7CiAgICB9LAogICAgZXZlbnRFc2NhcGU6IGZ1bmN0aW9uIGV2ZW50RXNjYXBlKGV2ZW50KSB7CiAgICAgIHZhciBtZSA9IHRoaXM7CgogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNyB8fCBldmVudC5rZXkgPT0gIkVzY2FwZSIgfHwgZXZlbnQua2V5ID09ICJUYWIiKSB7CiAgICAgICAgZXZlbnQuY2FuY2VsID0gdHJ1ZTsKICAgICAgICBtZS5vbkNsb3NlKGV2ZW50KTsKICAgICAgfQogICAgfSwKICAgIHNldEJ5WWVhcjogZnVuY3Rpb24gc2V0QnlZZWFyKHllYXIpIHsKICAgICAgdGhpcy5zZWxlY3RlZERheSA9ICIiOwogICAgICB0aGlzLnNlbGVjdGVkWWVhciA9IHllYXI7CiAgICAgIHRoaXMuY3VycmVudFllYXIgPSB5ZWFyOwogICAgICB0aGlzLnNlbGVjdGluZyA9ICJkYXRlIjsKICAgIH0sCiAgICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cihlKSB7CiAgICAgIHRoaXMub25IaWRlKGUpOwogICAgfSwKCiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAqIENo4buNbiBuZ8OgeSBoaeG7h24gdOG6oWkga2hpIGLhuqVtIHbDoG8gbsO6dCBIw7RtIG5heQ0KICAgICAqIENyZWF0ZWQgYnk6IG52bGFtICgyNC8wNi8yMDE5KQ0KICAgICAqLwogICAgb25Ob3c6IGZ1bmN0aW9uIG9uTm93KCkgewogICAgICB2YXIgbWUgPSB0aGlzLAogICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKCk7IC8vbWUuQ29uZmlnSW5mby5DdXJyZW50RGF0ZTsKCiAgICAgIG1lLnNlbGVjdGVkRGF5ID0gZGF0ZS5nZXREYXRlKCk7CiAgICAgIG1lLnNlbGVjdGVkTW9udGggPSBkYXRlLmdldE1vbnRoKCk7CiAgICAgIG1lLmN1cnJlbnRNb250aCA9IGRhdGUuZ2V0TW9udGgoKTsKICAgICAgbWUuY3VycmVudFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7CiAgICAgIG1lLnNlbGVjdGVkWWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTsKICAgICAgbWUuc2VsZWN0ZWREYXlPZldlZWsgPSBkYXRlLmdldERheSgpOwoKICAgICAgaWYgKG1lLmhhc1RpbWUpIHsKICAgICAgICBtZS5ob3VyID0gZGF0ZS5nZXRIb3VycygpOwogICAgICAgIG1lLm1pbiA9IGRhdGUuZ2V0TWludXRlcygpOwogICAgICAgIG1lLnNlY29uZCA9IGRhdGUuZ2V0U2Vjb25kcygpOwogICAgICB9CgogICAgICBtZS5zZXRCeURheSh7CiAgICAgICAgY3VycmVudERheTogdHJ1ZSwKICAgICAgICBkYXk6IG1lLnNlbGVjdGVkRGF5LAogICAgICAgIC8vTk1UdWFuMyAyMi8xMi8yMDIxOiBUcnV54buBbiB0aMOqbSB0aMOhbmcgxJHGsOG7o2MgY2jhu41uCiAgICAgICAgbW9udGg6IG1lLnNlbGVjdGVkTW9udGgsCiAgICAgICAgc2VsZWN0ZWQ6IHRydWUKICAgICAgfSk7IC8vIG1lLiRlbWl0KCdpbnB1dCcsIG5ldyBEYXRlKGRhdGUpLmdldERhdGVPbmx5KCkpOwogICAgICAvLyBtZS5vbkNsb3NlKGV2ZW50KTsKICAgIH0sCgogICAgLyoqDQogICAgICogRW1pdCBhIGNsb3NlIGV2ZW50IHNvIHRoZSBkZXZlbG9wZXIgY2FuIGNsb3NlIHRoZSBkYXRlIHBpY2tlciBhcyB0aGV5DQogICAgICogc2VlIGZpdC4NCiAgICAgKi8KICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoZSkgewogICAgICAvLyB0aGlzLmhpZGVCb2R5T3ZlcmZsb3coZmFsc2UpOwogICAgICB2YXIgbWUgPSB0aGlzOwogICAgICB0aGlzLiRlbWl0KCJjbG9zZSIsIGUpOwogICAgfSwKICAgIG9uSGlkZTogZnVuY3Rpb24gb25IaWRlKGUpIHsKICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgdGhpcy4kZW1pdCgiaGlkZSIsIGUpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBTZXQgdGhlIGRhdGUgYnkgdGhlIGdpdmVuIGRheS4NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7T2JqZWN0fQ0KICAgICAqLwogICAgc2V0QnlEYXk6IGZ1bmN0aW9uIHNldEJ5RGF5KGRheSkgewogICAgICB2YXIgbWUgPSB0aGlzOyAvLyBpZiAoZGF5LmRpc2FibGVkKSByZXR1cm47CgogICAgICBpZiAobWUucmFuZ2VEYXlNb2RlID09IGZhbHNlKSB7CiAgICAgICAgLy8gTk1UdWFuMyAyMi8xMi8yMDIxOiBDYXNlIMSR4buDIHNldCBuxINtIMSRxrDhu6NjIGNo4buNbgogICAgICAgIC8vIE5NVFVBTjIgMTkuMDQuMjAyMjogc+G7rWEgxJHhu4MgZ2nDoSB0cuG7iyBuxINtIMSRxrDhu6NjIGNo4buNbiBsdcO0biB0w61uaCB0aGVvIG7Eg20gxJFhbmcgaGnhu4NuIHRo4buLCiAgICAgICAgaWYgKGRheS5tb250aCA9PSAwICYmIG1lLmN1cnJlbnRNb250aCA9PSAxMSkgewogICAgICAgICAgbWUuc2VsZWN0ZWRZZWFyID0gbWUuY3VycmVudFllYXIgKyAxOwogICAgICAgIH0gZWxzZSBpZiAoZGF5Lm1vbnRoID09IDExICYmIG1lLmN1cnJlbnRNb250aCA9PSAwKSB7CiAgICAgICAgICBtZS5zZWxlY3RlZFllYXIgPSBtZS5jdXJyZW50WWVhciAtIDE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1lLnNlbGVjdGVkWWVhciA9IG1lLmN1cnJlbnRZZWFyOwogICAgICAgIH0KCiAgICAgICAgbWUuc2VsZWN0ZWREYXkgPSBkYXkuZGF5OwogICAgICAgIG1lLnNlbGVjdGVkTW9udGggPSBkYXkubW9udGg7CiAgICAgICAgbWUuc2VsZWN0ZWREYXlPZldlZWsgPSBuZXcgRGF0ZShtZS5zZWxlY3RlZFllYXIsIG1lLnNlbGVjdGVkTW9udGgsIG1lLnNlbGVjdGVkRGF5KS5nZXREYXkoKTsKICAgICAgfQoKICAgICAgdmFyIHZhbHVlRGF0ZVRpbWUgPSBuZXcgRGF0ZShtZS5zZWxlY3RlZFllYXIsIG1lLnNlbGVjdGVkTW9udGgsIG1lLnNlbGVjdGVkRGF5KTsKCiAgICAgIGlmIChtZS5oYXNUaW1lKSB7CiAgICAgICAgdmFsdWVEYXRlVGltZS5zZXRIb3VycyhtZS5ob3VyKTsKICAgICAgICB2YWx1ZURhdGVUaW1lLnNldE1pbnV0ZXMobWUubWluKTsKICAgICAgICB2YWx1ZURhdGVUaW1lLnNldFNlY29uZHMobWUuc2Vjb25kKTsKICAgICAgfQoKICAgICAgbWUuJGVtaXQoInNlbGVjdGVkIiwgbmV3IERhdGUodmFsdWVEYXRlVGltZSkpOwogICAgICBtZS4kZW1pdCgiaW5wdXQiLCBuZXcgRGF0ZSh2YWx1ZURhdGVUaW1lKSk7CiAgICAgIG1lLm9uQ2xvc2UoZXZlbnQpOyAvLyB0aGlzLm9uSW5wdXQoKTsKICAgIH0sCiAgICBjbG9zZU91dDogZnVuY3Rpb24gY2xvc2VPdXQoZSkgewogICAgICB2YXIgbWUgPSB0aGlzOwoKICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCIuY2FsZW5kYXIiKSAmJiAoIWUudGFyZ2V0LmNsb3Nlc3QoIi5tcy1kYXRlcGlja2VyIikgfHwgZS50YXJnZXQuY2xvc2VzdCgiLm1zLWRhdGVwaWNrZXIiKSAhPSBtZS4kcGFyZW50LiRlbCkpIHsKICAgICAgICBtZS5vbkhpZGUoZSk7CiAgICAgIH0KICAgIH0sCgogICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAqIELhuq10IGNo4bq/IMSR4buZIGNo4buNbiBraG/huqNuZyBuZ8OgeQ0KICAgICAqIENyZWF0ZWQgYnk6IG52bGFtKDI2LzA2LzIwMTkpDQogICAgICovCiAgICBvblJhbmdlRGF5TW9kZTogZnVuY3Rpb24gb25SYW5nZURheU1vZGUoKSB7CiAgICAgIHRoaXMucmFuZ2VEYXlNb2RlID0gdHJ1ZTsKICAgICAgcmV0dXJuIHRoaXMucmFuZ2VEYXlNb2RlOwogICAgfSwKCiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICogVOG6r3QgY2jhur8gxJHhu5kgY2jhu41uIGtob+G6o25nIG5nw6B5DQogICAgICogQ3JlYXRlZCBieTogbnZsYW0oMjYvMDYvMjAxOSkNCiAgICAgKi8KICAgIG9mZlJhbmdlRGF5TW9kZTogZnVuY3Rpb24gb2ZmUmFuZ2VEYXlNb2RlKCkgewogICAgICB0aGlzLnJhbmdlRGF5TW9kZSA9IGZhbHNlOwogICAgICByZXR1cm4gdGhpcy5yYW5nZURheU1vZGU7CiAgICB9LAoKICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICogSMOgbSB0aGF5IMSR4buVaSBjaOG6vyDEkeG7mSBjaOG7jW4gbsSDbSBob+G6t2MgY2jhu41uIG5nw6B5DQogICAgICogQ3JlYXRlZCBieTogbnZsYW0oMjQvMDYvMjAxOSkNCiAgICAgKi8KICAgIHNldFNlbGVjdGluZzogZnVuY3Rpb24gc2V0U2VsZWN0aW5nKHZhbHVlKSB7CiAgICAgIHRoaXMuc2VsZWN0aW5nID0gdmFsdWU7CiAgICAgIHRoaXMuY3VycmVudFllYXIgPSB0aGlzLnNlbGVjdGVkWWVhcjsKICAgIH0sCgogICAgLyoqDQogICAgICogTOG6pXkgbmfDoHkgY2hvIGRhdGVwaWNrZXIga2hpIG5o4bqtcCB04burIMO0IGlucHV0Lg0KICAgICAqLwogICAgc2V0RGF0ZTogZnVuY3Rpb24gc2V0RGF0ZSgpIHsKICAgICAgLy8gTuG6v3UgbmfDoHkgxJHGsOG7o2MgdHJ1eeG7gW4gdOG7m2kgY29tcG9uZW50IGRhdGVwaWNrZXIsIG7DsyBz4bq9IMSRxrDhu6NjIGTDuW5nCiAgICAgIC8vIHRoYXkgY2hvIG5nw6B5IGhp4buHbiB04bqhaS4KICAgICAgdmFyIGRhdGU7CgogICAgICBpZiAodGhpcy5taW4gJiYgdGhpcy5taW4gJiYgIXRoaXMudmFsdWUpIHsKICAgICAgICBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUpIHsKICAgICAgICBkYXRlID0gbmV3IERhdGUodGhpcy52YWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIH0gLy8gaWYgKHRoaXMuaW5pdGlhbERhdGUpIHsKICAgICAgLy8gICAgIHRoaXMuc2VsZWN0ZWREYXkgPSBkYXRlLmdldERhdGUoKTsKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICAgIHRoaXMuc2VsZWN0ZWREYXkgPSBkYXRlLmdldERhdGUoKTsKICAgICAgLy8gfQoKCiAgICAgIHRoaXMuc2VsZWN0ZWREYXkgPSBkYXRlLmdldERhdGUoKTsKICAgICAgdGhpcy5zZWxlY3RlZERheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7CiAgICAgIHRoaXMuc2VsZWN0ZWRNb250aCA9IGRhdGUuZ2V0TW9udGgoKTsKICAgICAgdGhpcy5jdXJyZW50TW9udGggPSBkYXRlLmdldE1vbnRoKCk7CiAgICAgIHRoaXMuc2VsZWN0ZWRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpOwogICAgICB0aGlzLmN1cnJlbnRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhNb2R1bGVDb250ZXh0LCBbIkNvbmZpZ0luZm8iXSkpLCB7fSwgewogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgKiBIw6BtIHRy4bqjIHbhu4EgbeG7mXQgbeG6o25nIGfhu5NtIG5nw6B5IGPhu6dhIHR14bqnbiDEkeG6p3UgdGnDqm4gdHJvbmcgdGjDoW5nIGPhu6dhIG7Eg20NCiAgICAgKiBWRDogTuG6v3UgbmfDoHkgMSB0cm9uZyB0aMOhbmcgYuG6r3QgxJHhuqd1IHThu6sgdGjhu6kgNg0KICAgICAqIHRow6wgbeG6o25nIHPhur0gbMOgIFsnJywgJycsICcnLCAnJywgJycsICcxJywgJzInXQ0KICAgICAqIENyZWF0ZWQgYnk6IG52bGFtICgyMi8wNi8yMDE5KQ0KICAgICAqLwogICAgY2FsZW5kYXI6IGZ1bmN0aW9uIGNhbGVuZGFyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGRheXMgPSBbXTsgLy9M4bqleSByYSB0aOG7qSBj4bunYSBuZ8OgeSDEkeG6p3UgdGnDqm4gdHJvbmcgdGjDoW5nCgogICAgICB2YXIgbm93ID0gbmV3IERhdGUodGhpcy5zZWxlY3RlZFllYXIsIHRoaXMuY3VycmVudE1vbnRoLCAxKTsKICAgICAgdmFyIHN0YXJ0RGF5T2ZNb250aCA9IG5vdy5nZXREYXkoKTsKICAgICAgdmFyIHN0YXJ0RGF5ID0gc3RhcnREYXlPZk1vbnRoOwoKICAgICAgaWYgKHN0YXJ0RGF5T2ZNb250aCAhPSAwKSB7CiAgICAgICAgdmFyIHByZSA9IG5vdy5hZGREYXlzKC0xKS5nZXREYXRlKCk7CgogICAgICAgIGZvciAodmFyIGkgPSBzdGFydERheSAtIDI7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICBkYXlzLnB1c2gocHJlIC0gaSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfcHJlID0gbm93LmFkZERheXMoLTEpLmdldERhdGUoKTsKCiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IDY7IF9pKyspIHsKICAgICAgICAgIGRheXMudW5zaGlmdChfcHJlLS0pOwogICAgICAgIH0KICAgICAgfSAvL1ThuqFvIG3huqNuZyBn4buTbSBjw6FjIG5nw6B5IGPDsm4gbOG6oWkgdHJvbmcgdGjDoW5nCgoKICAgICAgdmFyIGRheXNJbk1vbnRoID0gMzIgLSBuZXcgRGF0ZSh0aGlzLnNlbGVjdGVkWWVhciwgdGhpcy5jdXJyZW50TW9udGgsIDMyKS5nZXREYXRlKCk7CgogICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBkYXlzSW5Nb250aDsgX2kyKyspIHsKICAgICAgICBkYXlzLnB1c2goX2kyICsgMSk7CiAgICAgIH0gLy8gTWFwIHRoZSBkYXlzIGZyb20gbnVtYmVycyB0byBvYmplY3RzIHRoYXQgaGF2ZSBjdXJyZW50IGRheSwKICAgICAgLy8gc2VsZWN0ZWQsIGFuZCBkaXNhYmxlZCBwcm9wZXJ0aWVzIGZvciB0aGUgdmlldy4KCgogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSh0aGlzKTsKICAgICAgdmFyIGRpcyA9IHN0YXJ0RGF5OwogICAgICB2YXIgZGF5T2JqZWN0cyA9IGRheXMubWFwKGZ1bmN0aW9uIChkYXksIGluZGV4KSB7CiAgICAgICAgdmFyIGN1cnJlbnREYXkgPSBkYXkgPT09IHRvZGF5LmdldERhdGUoKSAmJiBfdGhpcy5jdXJyZW50TW9udGggPT0gdG9kYXkuZ2V0TW9udGgoKSAmJiBfdGhpcy5zZWxlY3RlZFllYXIgPT0gdG9kYXkuZ2V0RnVsbFllYXIoKTsgLy8gY29uc3QgZGlzYWJsZWQgPSB0aGlzLmRheURpc2FibGVkKGRheSk7CgogICAgICAgIHZhciBkaWZmTW9udGggPSBpbmRleCA8IDYgJiYgZGF5IDwgOCB8fCBpbmRleCA+PSA2ICYmIGRheSA+PSAxID8gZmFsc2UgOiB0cnVlOyAvLyBOTVRVQU4zIDE4LzEyLzIwMjE6IENhc2UgdGjDqm0gdHLGsOG7nW5nIGjhu6NwIG7hur91IHRow6FuZyBoaeG7h24gdOG6oWkgbMOgIDEgdGjDrCBuaOG7r25nIG5nw6B5IGFkZCB2w6BvIHRyxrDhu5tjIGzDoCB0aMOhbmcgMTIKICAgICAgICAvLyBWw60gZOG7pTogbmfDoHkgMS8xLzIwMjIgbMOgIHRo4bupIDcgdGjDrCBjw6FjIHRo4bupIHThu6sgMi02IGzDoCBuZ8OgeSDhu58gdGjDoW5nIDEyLzIwMjEKCiAgICAgICAgdmFyIG1vbnRoID0gZGlmZk1vbnRoID8gX3RoaXMuY3VycmVudE1vbnRoID09IDAgPyAxMSA6IF90aGlzLmN1cnJlbnRNb250aCAtIDEgOiBfdGhpcy5jdXJyZW50TW9udGg7CiAgICAgICAgdmFyIHNlbGVjdGVkID0gX3RoaXMuc2VsZWN0ZWREYXkgPT09IGRheSAmJiBtb250aCA9PT0gX3RoaXMuc2VsZWN0ZWRNb250aDsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZGF5OiBkYXksCiAgICAgICAgICBjdXJyZW50RGF5OiBjdXJyZW50RGF5LAogICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLAogICAgICAgICAgZGlmZk1vbnRoOiBkaWZmTW9udGgsCiAgICAgICAgICBtb250aDogbW9udGgKICAgICAgICB9OwogICAgICB9KTsgLy8gYWRkIHRow6ptIG5nw6B5IHRow6FuZyBzYXUgY2hvIGvDrW4gbOG7i2NoCgogICAgICB2YXIgb2ZzID0gZGF5T2JqZWN0cy5sZW5ndGggJSA3OwoKICAgICAgaWYgKG9mcyA+IDApIHsKICAgICAgICBmb3IgKHZhciBfaTMgPSAxOyBfaTMgPD0gNyAtIG9mczsgX2kzKyspIHsKICAgICAgICAgIGRheU9iamVjdHMucHVzaCh7CiAgICAgICAgICAgIGRheTogX2kzLAogICAgICAgICAgICBjdXJyZW50RGF5OiBmYWxzZSwKICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLAogICAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgICAgIGRpZmZNb250aDogdHJ1ZSwKICAgICAgICAgICAgLy8gTk1UVUFOMyAxOC8xMi8yMDIxOiBu4bq/dSB0aMOhbmcgaGnhu4duIHThuqFpIGzDoCB0aMOhbmcgMTIgdGjDrCBuaOG7r25nIG5nw6B5IMSRxrDhu6NjIGFkZCB2w6BvIHNhdSBsw6AgdGjDoW5nIDEKICAgICAgICAgICAgLy8gVsOtIGThu6U6IG5nw6B5IDMxLzEyLzIwMjEgbMOgIHRo4bupIDYgdGjDrCB0NyB2w6AgY2jhu6cgbmjhuq10IGPhu6dhIHR14bqnbiBsw6AgbmfDoHkgY+G7p2EgdGjDoW5nIDEvMjAyMgogICAgICAgICAgICBtb250aDogdGhpcy5jdXJyZW50TW9udGggPT0gMTEgPyAwIDogdGhpcy5jdXJyZW50TW9udGggKyAxCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gLy8gQ2h1bmsgYWxsIG9mIHRoZSBkYXlzIGludG8gYW4gYXJyYXkgb2YgYXJyYXlzLCBieSBzZXZlbi4KCgogICAgICByZXR1cm4gY2h1bmsoZGF5T2JqZWN0cywgNyk7CiAgICB9LAogICAgeWVhcnM6IGZ1bmN0aW9uIHllYXJzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vxJDhurd0IG7Eg20gxJHhuqd1IHRpw6puIGPhu6dhIGTDo3kKICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGxhc3RZZWFyOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRZZWFyID09PSAiIikgewogICAgICAgIGxhc3RZZWFyID0gdG9kYXkuZ2V0RnVsbFllYXIoKTsKICAgICAgfSBlbHNlIGxhc3RZZWFyID0gdGhpcy5jdXJyZW50WWVhcjsKCiAgICAgIHZhciB0aHJvdWdoID0gMTI7IC8vIHPhu5EgbsSDbSBoaeG7g24gdGjhu4sgdHLDqm4gMSB0cmFuZwoKICAgICAgdmFyIHllYXJzID0gW107IC8vIG3huqNuZyBjaOG7qWEgY8OhYyBuxINtCgogICAgICBmb3IgKHZhciBpID0gbGFzdFllYXI7IGkgPiBsYXN0WWVhciAtIHRocm91Z2g7IGktLSkgewogICAgICAgIHllYXJzLnB1c2goaSk7CiAgICAgIH0KCiAgICAgIHZhciB5ZWFyT2JqZWN0cyA9IHllYXJzLm1hcChmdW5jdGlvbiAoeWVhcikgewogICAgICAgIHZhciBjdXJyZW50WWVhciA9IF90aGlzMi5zZWxlY3RlZFllYXIgPT09IHRvZGF5LmdldEZ1bGxZZWFyKCk7CiAgICAgICAgdmFyIHNlbGVjdGVkID0gX3RoaXMyLnNlbGVjdGVkWWVhciA9PT0geWVhciAmJiBfdGhpczIuY3VycmVudE1vbnRoID09PSBfdGhpczIuc2VsZWN0ZWRNb250aDsgLy8gY29uc3QgZGlzYWJsZWQgPSB0aGlzLmRheURpc2FibGVkKGRheSk7CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICB5ZWFyOiB5ZWFyLAogICAgICAgICAgY3VycmVudFllYXI6IGN1cnJlbnRZZWFyLAogICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkCiAgICAgICAgfTsKICAgICAgfSk7IC8vIENodW5rIGFsbCBvZiB0aGUgZGF5cyBpbnRvIGFuIGFycmF5IG9mIGFycmF5cywgYnkgc2V2ZW4uCgogICAgICByZXR1cm4gY2h1bmsoeWVhck9iamVjdHMsIDQpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiBUcuG6oyB24buBIHRow6FuZyDEkcaw4bujYyBjaOG7jW4gdGjDoG5oIG3hu5l0IHThu6suDQogICAgICogVkQ6IDYgLT4gVGjDoW5nIDYNCiAgICAgKg0KICAgICAqIEByZXR1cm4ge1N0cmluZ30NCiAgICAgKi8KICAgIHNlbGVjdGVkTW9udGhXb3JkOiBmdW5jdGlvbiBzZWxlY3RlZE1vbnRoV29yZCgpIHsKICAgICAgcmV0dXJuIG1vbnRoTWFwW3RoaXMuc2VsZWN0ZWRNb250aF07CiAgICB9LAogICAgc2VsZWN0ZWREYXRlUmFuZ2U6IGZ1bmN0aW9uIHNlbGVjdGVkRGF0ZVJhbmdlKCkgewogICAgICB2YXIgYmVnaW5EYXkgPSB0aGlzLnNlbGVjdGVkRGF5OwogICAgICByZXR1cm4gYmVnaW5EYXk7CiAgICB9CiAgfSksCiAgZ2V0VmFsdWVGcm9tSW5wdXQ6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUlucHV0KCkgewogICAgcmV0dXJuIHRoaXMuY3VycmVudE1vbnRoID0gdGhpcy5zcGVjaWZpZWREYXRlLmdldE1vbnRoKCk7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5zZXRFc2NhcGVFdmVudCgpOwogICAgdGhpcy5zZXREYXRlKCk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMuY2xvc2VPdXQpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIG1lLmNsb3NlT3V0KTsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBtZS5ldmVudEVzY2FwZSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5oZWlnaHQgPSB0aGlzLiRlbC5vZmZzZXRIZWlnaHQ7CiAgICB0aGlzLndpZHRoID0gdGhpcy4kZWwub2Zmc2V0V2lkdGg7CiAgfQp9Ow=="},null]}